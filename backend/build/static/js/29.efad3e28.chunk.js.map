{"version":3,"sources":["../node_modules/@babel/runtime/helpers/extends.js","../node_modules/@babel/runtime/helpers/objectWithoutPropertiesLoose.js","ui/globalComponent/Notifications.js","ui/components/Forms/Upload.js","ui/suppliers/Dashboard/ServiceModal.js","ui/admin/AdminServices/AdminServices.js"],"names":["_extends","module","exports","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","excluded","sourceKeys","keys","indexOf","__webpack_require__","d","__webpack_exports__","Notification","addNotification","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","react_notifications_component__WEBPACK_IMPORTED_MODULE_1__","react_notifications_component__WEBPACK_IMPORTED_MODULE_1___default","props","a","createElement","type","title","message","store","insert","container","animationIn","animationOut","dismiss","duration","onScreen","Upload","_this","C_Users_User_Desktop_Web_projects_Entre_cops_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","C_Users_User_Desktop_Web_projects_Entre_cops_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","C_Users_User_Desktop_Web_projects_Entre_cops_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","state","url","event","setState","URL","createObjectURL","files","setFile","name","_this2","_this$props","label","oldUrl","isEditing","accept","react__WEBPACK_IMPORTED_MODULE_5___default","_globalComponent_Hoc__WEBPACK_IMPORTED_MODULE_6__","disabled","className","onClick","inputElement","click","style","visibility","onChange","preview","ref","input","src","alt","width","projectName","align","frameBorder","href","controls","Component","ServiceModal","category","cible","probleme","serviceVideo","youtubeVideoLink","offre","tags","place","mapLink","isTyping","formValid","previewImages","images","titleValid","categoryValid","cibleValid","placeValid","offreValid","problemeValid","serviceImageValid","loading","error","categories","validated","validating","deleting","loadingAn","handleInputChange","e","_this$setState","preventDefault","value","newValue","split","includes","C_Users_User_Desktop_Web_projects_Entre_cops_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__","validateField","fieldName","_this$state","validateForm","handleSubmit","formData","FormData","_this$state2","append","JSON","stringify","user","Array","from","forEach","file","axios","post","headers","content-type","then","res","refreshServiceList","closeModal","catch","err","console","log","map","_this$setState2","fetchCategories","parse","localStorage","getItem","get","data","initCategories","updateService","patch","service","_id","validateservice","services","newservice","_objectSpread","refreshList","not","to","image","rootUrl","link","visited","projectId","date","Date","rec","socketIOClient","emit","recError","deleteservice","delete","filter","prevProps","problem","video","_this$state3","_this$props2","show","react__WEBPACK_IMPORTED_MODULE_6___default","react_bootstrap_Modal__WEBPACK_IMPORTED_MODULE_7___default","onHide","size","Header","closeButton","Title","Body","_globalComponent_Notifications__WEBPACK_IMPORTED_MODULE_12__","_globalComponent_Loader__WEBPACK_IMPORTED_MODULE_13__","_globalComponent_Hoc__WEBPACK_IMPORTED_MODULE_16__","fontSize","for","placeholder","required","id","rows","multiple","_components_Forms_Upload__WEBPACK_IMPORTED_MODULE_9__","color","Footer","react_bootstrap_Button__WEBPACK_IMPORTED_MODULE_8___default","variant","AdminService","showModal","servicesLoading","showReservationListModal","showCreationModal","getAllServices","getSingleEvent","info","list","generateCSV","announce","csvContent","rowArray","row","email","tel","numberOfPlaces","encodedUri","encodeURI","document","setAttribute","fileName","join","_globalComponent_Hoc__WEBPACK_IMPORTED_MODULE_14__","scope","_suppliers_Dashboard_ServiceModal__WEBPACK_IMPORTED_MODULE_12__","react_bootstrap_Modal__WEBPACK_IMPORTED_MODULE_8___default","reservations","reservation","_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_10__","icon","faDownload","connect","auth"],"mappings":"4EAAA,SAAAA,IAeA,OAdAC,EAAAC,QAAAF,EAAAG,OAAAC,QAAA,SAAAC,GACA,QAAAC,EAAA,EAAmBA,EAAAC,UAAAC,OAAsBF,IAAA,CACzC,IAAAG,EAAAF,UAAAD,GAEA,QAAAI,KAAAD,EACAN,OAAAQ,UAAAC,eAAAC,KAAAJ,EAAAC,KACAL,EAAAK,GAAAD,EAAAC,IAKA,OAAAL,GAGAL,EAAAc,MAAAC,KAAAR,WAGAN,EAAAC,QAAAF,qBCHAC,EAAAC,QAfA,SAAAO,EAAAO,GACA,SAAAP,EAAA,SACA,IAEAC,EAAAJ,EAFAD,EAAA,GACAY,EAAAd,OAAAe,KAAAT,GAGA,IAAAH,EAAA,EAAaA,EAAAW,EAAAT,OAAuBF,IACpCI,EAAAO,EAAAX,GACAU,EAAAG,QAAAT,IAAA,IACAL,EAAAK,GAAAD,EAAAC,IAGA,OAAAL,qCCZAe,EAAAC,EAAAC,EAAA,sBAAAC,IAAAH,EAAAC,EAAAC,EAAA,sBAAAE,IAAA,IAAAC,EAAAL,EAAA,GAAAM,EAAAN,EAAAO,EAAAF,GAAAG,EAAAR,EAAA,KAAAS,EAAAT,EAAAO,EAAAC,GAMaL,GANbH,EAAA,KAAAA,EAAA,KAM4B,SAACU,GACzB,OACIJ,EAAAK,EAAAC,cAACH,EAAAE,EAAD,QAIKP,EAAkB,SAACS,EAAMC,EAAOC,GACzCC,QAAMZ,gBAAgB,CAClBU,MAAOA,EACPC,QAASA,EACTF,KAAMA,EACNI,OAAQ,MACRC,UAAW,aACXC,YAAa,CAAC,WAAY,YAC1BC,aAAc,CAAC,WAAY,WAC3BC,QAAS,CACLC,SAAU,IACVC,UAAU,6ICnBDC,cACf,SAAAA,EAAYd,GAAO,IAAAe,EAAA,OAAA1C,OAAA2C,EAAA,EAAA3C,CAAAY,KAAA6B,IACfC,EAAA1C,OAAA4C,EAAA,EAAA5C,CAAAY,KAAAZ,OAAA6C,EAAA,EAAA7C,CAAAyC,GAAA/B,KAAAE,KAAMe,KAEDmB,MAAQ,CACTC,IAAK,IAJML,uEAQbM,GACNpC,KAAKqC,SAAS,CAACF,IAAKG,IAAIC,gBAAgBH,EAAM9C,OAAOkD,MAAM,MAC3DxC,KAAKe,MAAM0B,QAAQzC,KAAKe,MAAM2B,KAAMN,EAAM9C,OAAOkD,MAAM,qCAGhD,IAAAG,EAAA3C,KACEmC,EAAOnC,KAAKkC,MAAZC,IADFS,EAEqC5C,KAAKe,MAAvC8B,EAFHD,EAEGC,MAAOC,EAFVF,EAEUE,OAAQ5B,EAFlB0B,EAEkB1B,KAAM6B,EAFxBH,EAEwBG,UACzBC,EAAkB,UAAT9B,EAAmB,iCAA6C,aAATA,EAAsB,qBAAuB,UAErH,OACI+B,EAAAjC,EAAAC,cAACiC,EAAA,EAAD,KACID,EAAAjC,EAAAC,cAAA,UAAQkC,SAAUJ,EAAW7B,KAAK,SAASkC,UAAU,oBAAoBC,QAAS,kBAAIV,EAAKW,aAAaC,UAAUV,EAAlH,KACAI,EAAAjC,EAAAC,cAAA,SAAOuC,MAAO,CAACC,WAAW,UAAWT,OAAQA,EAAQU,SAAU,SAACtB,GAAD,OAAWO,EAAKgB,QAAQvB,IAAQwB,IAAK,SAAAC,GAAK,OAAIlB,EAAKW,aAAeO,GAAO3C,KAAK,SAC7I+B,EAAAjC,EAAAC,cAAA,OAAKmC,UAAU,QACXH,EAAAjC,EAAAC,cAAA,OAAKmC,UAAU,mCACXH,EAAAjC,EAAAC,cAAA,OAAKmC,UAAYjB,GAAMW,EAA2B,GAApB,qBACV,IACjBX,GAAKW,IAAgB,UAAP5B,EAAe+B,EAAAjC,EAAAC,cAAA,OAAK6C,IAAK3B,GAAKW,EAAQE,OAAQA,EAAQe,IAAI,GAAGP,MAAO,CAACQ,MAAM,UAAY,IAEtG7B,GAAKW,IAAgB,aAAP5B,EACZ+B,EAAAjC,EAAAC,cAAA,UAAQ6C,IAAK3B,GAAKW,GAAQ,GAAImB,YAAY,aAAaC,MAAM,MAAMF,MAAM,OAAOG,YAAY,IAAIhD,MAAM,MAAM7B,OAAO,WAAU2D,EAAAjC,EAAAC,cAAA,2DAAkDgC,EAAAjC,EAAAC,cAAA,KAAGmD,KAAMjC,GAAKW,GAAd,wBAAlD,aAA7H,KAAsP,IAExPX,GAAKW,IAAgB,UAAP5B,EAAe+B,EAAAjC,EAAAC,cAAA,SAAO6C,IAAK3B,GAAKW,GAAQ,GAAKkB,MAAM,OAAOK,UAAQ,GAACpB,EAAAjC,EAAAC,cAAA,gEAAuDgC,EAAAjC,EAAAC,cAAA,KAAGmD,KAAMjC,GAAKW,GAAd,qBAAvD,aAApD,KAA6K,cAhC5LwB,wfCQ9BC,6MACFrC,MAAQ,CACJf,MAAO,GACPqD,SAAU,GACVC,MAAO,GACPC,SAAU,GACVC,aAAc,GACdC,iBAAkB,GAClBC,MAAO,GACPlD,SAAU,GACVmD,KAAM,GACNC,MAAO,GACPC,QAAS,GACTC,UAAU,EACVC,WAAW,EACXC,cAAe,KACfC,OAAQ,KACRC,YAAY,EACZC,eAAe,EACfC,YAAY,EACZC,YAAY,EACZC,YAAY,EACZC,eAAe,EACfC,mBAAmB,EACnBC,SAAS,EACTC,MAAO,GACPC,WAAY,GACZC,WAAW,EACXC,YAAY,EACZC,UAAU,EACVC,WAAW,KAGfC,kBAAoB,SAACC,GAAM,IAAAC,EACvBD,EAAEE,iBACF,IAAM5D,EAAO0D,EAAE9G,OAAOoD,KAClB6D,EAAQH,EAAE9G,OAAOiH,MACrB,GAAY,qBAAT7D,EAA6B,CAC5B,IAAI8D,EAAW,iCAAiCD,EAAME,MAAM,KAAK,GAC9DD,EAASE,SAAS,OACjBF,EAAWA,EAASC,MAAM,KAAK,IAEnCF,EAAQC,EAEZ1E,EAAKO,UAALgE,EAAA,GAAAjH,OAAAuH,EAAA,EAAAvH,CAAAiH,EAAiB3D,EAAO6D,GAAxBnH,OAAAuH,EAAA,EAAAvH,CAAAiH,EAAA,QAAsC,IAAtCA,GACI,WAAQvE,EAAK8E,cAAclE,EAAM6D,QAGzCK,cAAgB,SAACC,EAAWN,GAAU,IAAAO,EAEYhF,EAAKI,MAD7CmD,EAD4ByB,EAC5BzB,WAAYK,EADgBoB,EAChBpB,cAAeH,EADCuB,EACDvB,WAAYI,EADXmB,EACWnB,kBACzCL,EAF8BwB,EAE9BxB,cAAeG,EAFeqB,EAEfrB,WAAYD,EAFGsB,EAEHtB,WAE/B,OAAQqB,GACJ,IAAK,QACDxB,EAAakB,EAAM9G,OAAS,EAC5B,MACJ,IAAK,WACDiG,EAAgBa,EAAM9G,OAAS,EAC/B,MACJ,IAAK,QACD8F,EAAagB,EAAM9G,OAAS,EAC5B,MACJ,IAAK,WACD6F,EAAgBiB,EAAM9G,OAAS,EAC/B,MACJ,IAAK,QACDgG,EAAac,EAAM9G,OAAS,EAC5B,MACJ,IAAK,QACD+F,EAAae,EAAM9G,OAAS,EAC5B,MACJ,IAAK,SACD+F,EAAae,EAKrBzE,EAAKO,SAAS,CACVgD,WAAYA,EACZK,cAAeA,EACfH,WAAYA,EACZI,kBAAmBA,EACnBL,cAAeA,EACfG,WAAYA,EACZD,WAAYA,GACb1D,EAAKiF,iBAGZA,aAAe,WACXjF,EAAKO,SAAS,CACV6C,UACIpD,EAAKI,MAAMmD,YACXvD,EAAKI,MAAMwD,eACX5D,EAAKI,MAAMqD,YACXzD,EAAKI,MAAMoD,eACXxD,EAAKI,MAAMyD,mBACX7D,EAAKI,MAAMuD,YACX3D,EAAKI,MAAMsD,gBAIvBwB,aAAe,SAACZ,GAEZ,GADAA,EAAEE,iBACExE,EAAKI,MAAMgD,UAAW,CACtB,IAAM+B,EAAW,IAAIC,SADCC,EAEsGrF,EAAKI,MAAzHf,EAFcgG,EAEdhG,MAAOuD,EAFOyC,EAEPzC,SAAUD,EAFH0C,EAEG1C,MAAOD,EAFV2C,EAEU3C,SAAUY,EAFpB+B,EAEoB/B,OAAQT,EAF5BwC,EAE4BxC,aAAcE,EAF1CsC,EAE0CtC,MAAOlD,EAFjDwF,EAEiDxF,SAAUoD,EAF3DoC,EAE2DpC,MAAOH,EAFlEuC,EAEkEvC,iBAAkBE,EAFpFqC,EAEoFrC,KAAME,EAF1FmC,EAE0FnC,QAChHiC,EAASG,OAAO,QAASjG,GACzB8F,EAASG,OAAO,WAAY5C,GAC5ByC,EAASG,OAAO,QAAS3C,GACzBwC,EAASG,OAAO,UAAW1C,GAC3BuC,EAASG,OAAO,mBAAoBxC,GACpCqC,EAASG,OAAO,QAASvC,GACzBoC,EAASG,OAAO,WAAYzF,GAC5BsF,EAASG,OAAO,QAASrC,GACzBkC,EAASG,OAAO,OAAQtC,GACxBmC,EAASG,OAAO,UAAWpC,GAC3BiC,EAASG,OAAO,OAAQC,KAAKC,UAAUxF,EAAKf,MAAMwG,OAClDC,MAAMC,KAAKrC,GAAQsC,QAAQ,SAAAC,GACvBV,EAASG,OAAO,SAAUO,KAET,KAAjBhD,GACAsC,EAASG,OAAO,eAAgBzC,GAQpC7C,EAAKO,SAAS,CAAEuD,SAAS,IACzB,IACIgC,IAAMC,KAAK,mBAAoBZ,EARpB,CACXa,QAAS,CACLC,eAAgB,yBAOfC,KAAK,SAAAC,GACFnG,EAAKO,SAAS,CACVuD,SAAS,EACTC,MAAO,GACP1E,MAAO,GACPsD,MAAO,GACPD,SAAU,GACVE,SAAU,GACVC,aAAc,GACdE,MAAM,GACNlD,SAAU,GACVoD,MAAO,GACPD,KAAM,GACNE,QAAS,KAGTlD,EAAKf,MAAMmH,oBACXpG,EAAKf,MAAMmH,qBAEfpG,EAAKf,MAAMoH,eAEdC,MAAM,SAAAC,GACHC,QAAQC,IAAIF,GACZvG,EAAKO,SAAS,CAAEwD,MAAO,uDAAkDD,SAAS,MAE5F,MAAOC,GACL/D,EAAKO,SAAS,CAAEwD,MAAO,6CAA2CD,SAAS,UAG/E9D,EAAKO,SAAS,CAAEwD,MAAO,mCAAoCZ,UAAU,OAK7EtB,QAAU,SAACyC,GACP,IAAIhB,EAASoC,MAAMC,KAAKrB,EAAE9G,OAAOkD,OAAOgG,IAAI,SAAAb,GAAI,OAAIrF,IAAIC,gBAAgBoF,KACxE7F,EAAKO,SAAS,CAAE8C,cAAeC,EAAQA,OAAQgB,EAAE9G,OAAOkD,MAAOmD,mBAAmB,GAC9E,WAAQ7D,EAAK8E,cAAc,UAAU,QAG7CnE,QAAU,SAACC,EAAMiF,GAAS,IAAAc,EACtB3G,EAAKO,UAALoG,EAAA,GAAArJ,OAAAuH,EAAA,EAAAvH,CAAAqJ,EACK/F,EAAOiF,GADZvI,OAAAuH,EAAA,EAAAvH,CAAAqJ,EAAA,QAEW,IAFXA,GAGG3G,EAAKiF,iBAiCZ2B,gBAAkB,WACd,IAAI5C,EAAauB,KAAKsB,MAAMC,aAAaC,QAAQ,eACjDjB,IAAMkB,IAAI,qBACTd,KAAK,SAAAC,GACCZ,KAAKC,UAAUxB,KAAgBuB,KAAKC,UAAUW,EAAIc,KAAKjD,aACtDhE,EAAKO,SAAS,CAAEyD,WAAYmC,EAAIc,KAAKjD,eAG5CsC,MAAM,SAAAC,GACHvG,EAAKO,SAAS,CAAEwD,MAAO,wEAI/BmD,eAAiB,WACb,IAAIlD,EAAauB,KAAKsB,MAAMC,aAAaC,QAAQ,eACjD,GAAI/C,GAAcA,EAAWrG,OACzBqC,EAAKO,SAAS,CAAEyD,WAAYA,IAE5BhE,EAAK4G,uBAEL,IACI5G,EAAK4G,kBACP,MAAO7C,GACL/D,EAAKO,SAAS,CAAEwD,MAAO,uEAKnCoD,cAAgB,SAAC7C,GACbA,EAAEE,iBACF,IAAMW,EAAW,IAAIC,SACb9B,EAAWtD,EAAKI,MAAhBkD,OACR,GAAIA,EAAQ,CACRoC,MAAMC,KAAKrC,GAAQsC,QAAQ,SAAAC,GACvBV,EAASG,OAAO,SAAUO,KAO9B7F,EAAKO,SAAS,CAAEuD,SAAS,IACzB,IACIgC,IAAMsB,MAAM,gBAAkBpH,EAAKf,MAAMoI,QAAQC,IAAKnC,EAP3C,CACXa,QAAS,CACLC,eAAgB,yBAMfC,KAAK,SAAAC,GACFnG,EAAKO,SAAS,CACVuD,SAAS,IAEb9D,EAAKf,MAAMoH,eAEdC,MAAM,SAAAC,GACHvG,EAAKO,SAAS,CAAEwD,MAAO,sDAAuDD,SAAS,MAEjG,MAAOC,GACL/D,EAAKO,SAAS,CAAEwD,MAAO,6CAA2CD,SAAS,UAG/EnF,YAAgB,UAAW,gBAAiB,0CAIpD4I,gBAAkB,SAACF,GACfrH,EAAKO,SAAS,CAAE2D,YAAY,EAAMmD,QAASA,IAC3CvB,IAAMsB,MAAM,yBAA2BC,EAAQC,KAC1CpB,KAAK,SAAAC,GACF,IAAIqB,EAAWxH,EAAKf,MAAMuI,SAASd,IAAI,SAAAW,GACnC,IAAII,uVAAUC,CAAA,GAAQL,GAItB,OAHIA,EAAQC,MAAQtH,EAAKf,MAAMoI,QAAQC,MACnCG,EAAWxD,WAAY,GAEpBwD,IAEXzH,EAAKf,MAAM0I,YAAYH,EAAU,YACjCxH,EAAKf,MAAMoH,aACXrG,EAAKO,SAAS,CACV2D,YAAY,EACZH,MAAS,KAGb,IAAM6D,EAAM,CACRC,GAAI,MACJxI,MAAOgI,EAAQhI,MACfyI,MAAOC,IAAU,IAAMV,EAAQS,MAC/BE,KAAM,oBAAsBX,EAAQC,IACpC1G,KAAM,iBACNqH,SAAS,EACTC,UAAWb,EAAQC,IACnBa,KAAM,IAAIC,MAEdtC,IAAMsB,MAAM,6BAA8B,CAAEiB,IAAKT,IAC5C1B,KAAK,SAAAC,GACamC,IAAeP,KACvBQ,KAAK,2BAA4BX,KAE3CtB,MAAM,SAAAC,GACHvG,EAAKO,SAAS,CAAEiI,SAAU,kEAIrClC,MAAM,SAAAC,GACHvG,EAAKO,SAAS,CACV2D,YAAY,EACZH,MAAS,8CAKzB0E,cAAgB,SAACpB,GACbrH,EAAKO,SAAS,CAAE4D,UAAU,EAAMkD,QAASA,IACzCvB,IAAM4C,OAAO,gBAAkBrB,EAAQC,KAClCpB,KAAK,SAAAC,GACF,IAAIqB,EAAWxH,EAAKf,MAAMuI,SAASmB,OAAO,SAAAtB,GACtC,OAAO9B,KAAKC,UAAU6B,KAAa9B,KAAKC,UAAUxF,EAAKf,MAAMoI,WAEjErH,EAAKf,MAAM0I,YAAYH,EAAU,YACjCxH,EAAKf,MAAMoH,aACXrG,EAAKO,SAAS,CACV4D,UAAU,EACVJ,MAAS,OAGhBuC,MAAM,SAAAC,GACHvG,EAAKO,SAAS,CACV4D,UAAU,EACVJ,MAAOwC,0FAxJnBrI,KAAKgJ,4DAGU0B,GACf,GAAIA,EAAUvB,UAAYnJ,KAAKe,MAAMoI,QAAS,KAAAvG,EACA5C,KAAKe,MAAvCgC,EADkCH,EAClCG,UAAWmD,EADuBtD,EACvBsD,UAAWiD,EADYvG,EACZuG,QAC9B,GAAIpG,IAAcmD,EAAW,CACzB,IAAId,EAAS+D,EAAQ/D,OAAOoD,IAAI,SAAAoB,GAAK,OAAIC,IAAU,IAAMD,IACzD5J,KAAKqC,SAAS,CACVlB,MAAOgI,EAAQhI,MACfqD,SAAU2E,EAAQ3E,SAClBC,MAAO0E,EAAQ7J,OACfuF,MAAOsE,EAAQtE,MACfE,MAAOoE,EAAQpE,MACfL,SAAUyE,EAAQwB,QAClBhG,aAAcwE,EAAQyB,OAAOzB,EAAQyB,MAAMnL,OAASoK,IAAU,IAAMV,EAAQyB,MAAQ,KACpFzF,cAAeC,EACfzD,SAAUwH,EAAQxH,SAClBqD,QAASmE,EAAQnE,QACjBe,UAAWoD,EAAQpD,UACnBnB,iBAAkBuE,EAAQvE,iBAC1BE,KAAMqE,EAAQrE,0CAwIrB,IAAAnC,EAAA3C,KAAA6K,EAG6F7K,KAAKkC,MAF/FyC,EADHkG,EACGlG,aAAcxD,EADjB0J,EACiB1J,MAAOuD,EADxBmG,EACwBnG,SAAUD,EADlCoG,EACkCpG,MAAOiB,EADzCmF,EACyCnF,cAAed,EADxDiG,EACwDjG,iBACzDJ,EAFCqG,EAEDrG,SAAUmB,EAFTkF,EAESlF,kBAAmBN,EAF5BwF,EAE4BxF,WAAYE,EAFxCsF,EAEwCtF,WAAYD,EAFpDuF,EAEoDvF,cAAeT,EAFnEgG,EAEmEhG,MAAOE,EAF1E8F,EAE0E9F,MAAOS,EAFjFqF,EAEiFrF,WAClFK,EAHCgF,EAGDhF,MAAOD,EAHNiF,EAGMjF,QAASX,EAHf4F,EAGe5F,SAAUa,EAHzB+E,EAGyB/E,WAAYE,EAHrC6E,EAGqC7E,WAAYC,EAHjD4E,EAGiD5E,SAAUtE,EAH3DkJ,EAG2DlJ,SAAU8D,EAHrEoF,EAGqEpF,WAAYT,EAHjF6F,EAGiF7F,QAHjF8F,EAI6D9K,KAAKe,MAA/DgK,EAJHD,EAIGC,KAAM5C,EAJT2C,EAIS3C,WAAYjC,EAJrB4E,EAIqB5E,UAAWnD,EAJhC+H,EAIgC/H,UAAWoG,EAJ3C2B,EAI2C3B,QAASrE,EAJpDgG,EAIoDhG,KACzD,OACIkG,EAAAhK,EAAAC,cAACgK,EAAAjK,EAAD,CAAO+J,KAAMA,EAAMG,OAAQ,kBAAM/C,KAAcgD,KAAK,MAChDH,EAAAhK,EAAAC,cAACgK,EAAAjK,EAAMoK,OAAP,CAAcC,aAAW,GACrBL,EAAAhK,EAAAC,cAACgK,EAAAjK,EAAMsK,MAAP,oCAEJN,EAAAhK,EAAAC,cAACgK,EAAAjK,EAAMuK,KAAP,KACIP,EAAAhK,EAAAC,cAACuK,EAAA,EAAD,MACAR,EAAAhK,EAAAC,cAAA,QAAMmC,UAAU,eACZ4H,EAAAhK,EAAAC,cAAA,OAAKmC,UAAU,aACX4H,EAAAhK,EAAAC,cAAA,OAAKmC,UAAU,OACX4H,EAAAhK,EAAAC,cAAA,OAAKmC,UAAU,iCAEP8C,EAAY8E,EAAAhK,EAAAC,cAAA,OAAKmC,UAAU,iCAAgC4H,EAAAhK,EAAAC,cAACwK,EAAA,EAAD,OACvDT,EAAAhK,EAAAC,cAACyK,EAAA,EAAD,KACK7F,GAASA,EAAMpG,OAASuL,EAAAhK,EAAAC,cAAA,OAAKmC,UAAU,qBAAqBI,MAAO,CAAEmI,SAAU,WAAa9F,GAAe,KAC5GmF,EAAAhK,EAAAC,cAAA,OAAKmC,UAAU,cACX4H,EAAAhK,EAAAC,cAAA,SAAO2K,IAAI,QAAX,kBACAZ,EAAAhK,EAAAC,cAAA,SAAOkC,SAAUJ,EAAW7B,KAAK,OAAOkC,UAAW6B,IAAaI,EAAa,0BAA4B,eAAgBkB,MAAOpF,EAAOuC,SAAU,SAAC0C,GAAD,OAAOzD,EAAKwD,kBAAkBC,IAAI1D,KAAK,QAAQmJ,YAAY,iBAAiBC,UAAQ,IACpO7G,IAAaI,EAAa2F,EAAAhK,EAAAC,cAAA,OAAKmC,UAAU,oBAAf,YAAmD,MAElF4H,EAAAhK,EAAAC,cAAA,OAAKmC,UAAU,cACX4H,EAAAhK,EAAAC,cAAA,SAAO2K,IAAI,YAAX,gBACAZ,EAAAhK,EAAAC,cAAA,UAAQkC,SAAUJ,EAAWgJ,GAAG,WAAWrJ,KAAK,WAAW6D,MAAO/B,EAAUd,SAAU,SAAC0C,GAAD,OAAOzD,EAAKwD,kBAAkBC,IAAIhD,UAAW6B,IAAaK,EAAgB,0BAA4B,gBACxL0F,EAAAhK,EAAAC,cAAA,4BAEI6E,GAAcA,EAAWrG,OACrBqG,EAAW0C,IAAI,SAAAhE,GAAQ,OACnBwG,EAAAhK,EAAAC,cAAA,UAAQtB,IAAK6E,EAAS4E,KAAM5E,EAAS9B,QACpCsI,EAAAhK,EAAAC,cAAA,6BAGhBgE,IAAaK,EAAgB0F,EAAAhK,EAAAC,cAAA,OAAKmC,UAAU,oBAAf,oCAAqE,MAEvG4H,EAAAhK,EAAAC,cAAA,OAAKmC,UAAU,cACX4H,EAAAhK,EAAAC,cAAA,SAAO2K,IAAI,QAAX,eACAZ,EAAAhK,EAAAC,cAAA,YAAUkC,SAAUJ,EAAW7B,KAAK,OAAOqF,MAAO7B,EAAUtB,UAAW6B,IAAaS,EAAgB,0BAA4B,eAAgBhC,SAAU,SAAC0C,GAAD,OAAOzD,EAAKwD,kBAAkBC,IAAI1D,KAAK,WAAWsJ,KAAM,EAAGH,YAAY,gBAChO5G,IAAaS,EAAgBsF,EAAAhK,EAAAC,cAAA,OAAKmC,UAAU,oBAAf,YAAmD,MAErF4H,EAAAhK,EAAAC,cAAA,OAAKmC,UAAU,cACX4H,EAAAhK,EAAAC,cAAA,SAAO2K,IAAI,QAAX,SACAZ,EAAAhK,EAAAC,cAAA,YAAUkC,SAAUJ,EAAW7B,KAAK,OAAOqF,MAAO1B,EAAOzB,UAAW6B,IAAaQ,EAAa,0BAA4B,eAAgB/B,SAAU,SAAC0C,GAAD,OAAOzD,EAAKwD,kBAAkBC,IAAI1D,KAAK,QAAQsJ,KAAM,EAAGH,YAAY,UACvN5G,IAAaQ,EAAauF,EAAAhK,EAAAC,cAAA,OAAKmC,UAAU,oBAAf,YAAmD,MAElF4H,EAAAhK,EAAAC,cAAA,OAAKmC,UAAU,cACX4H,EAAAhK,EAAAC,cAAA,SAAO2K,IAAI,QAAX,SACAZ,EAAAhK,EAAAC,cAAA,SAAOkC,SAAUJ,EAAW7B,KAAK,OAAOqF,MAAO9B,EAAOf,SAAU,SAAC0C,GAAD,OAAOzD,EAAKwD,kBAAkBC,IAAIhD,UAAW6B,IAAaM,EAAa,0BAA4B,eAAgB7C,KAAK,QAAQmJ,YAAY,QAAQC,UAAQ,IAC3N7G,IAAaM,EAAayF,EAAAhK,EAAAC,cAAA,OAAKmC,UAAU,oBAAf,YAAmD,MAElF4H,EAAAhK,EAAAC,cAAA,OAAKmC,UAAU,OACX4H,EAAAhK,EAAAC,cAAA,OAAKmC,UAAU,sBACX4H,EAAAhK,EAAAC,cAAA,OAAKmC,UAAU,cACX4H,EAAAhK,EAAAC,cAAA,SAAO2K,IAAI,QAAX,iBACAZ,EAAAhK,EAAAC,cAAA,SAAOkC,SAAUJ,EAAW7B,KAAK,OAAOqF,MAAOxB,EAAOrB,SAAU,SAAC0C,GAAD,OAAOzD,EAAKwD,kBAAkBC,IAAIhD,UAAW6B,IAAaO,EAAa,0BAA4B,eAAgB9C,KAAK,QAAQmJ,YAAY,iBAAiBC,UAAQ,IACpO7G,IAAaO,EAAawF,EAAAhK,EAAAC,cAAA,OAAKmC,UAAU,oBAAf,YAAmD,OAGtF4H,EAAAhK,EAAAC,cAAA,OAAKmC,UAAU,sBACX4H,EAAAhK,EAAAC,cAAA,OAAKmC,UAAU,cACX4H,EAAAhK,EAAAC,cAAA,SAAO2K,IAAI,QAAX,0CACAZ,EAAAhK,EAAAC,cAAA,SAAOkC,SAAUJ,EAAW7B,KAAK,OAAOqF,MAAO5E,EAAU+B,SAAU,SAAC0C,GAAD,OAAOzD,EAAKwD,kBAAkBC,IAAIhD,UAAW,eAAeV,KAAK,WAAWmJ,YAAY,gBAAgBC,UAAQ,OAI/Ld,EAAAhK,EAAAC,cAAA,OAAKmC,UAAU,cACX4H,EAAAhK,EAAAC,cAAA,SAAO2K,IAAI,QAAX,mBACAZ,EAAAhK,EAAAC,cAAA,SAAOkC,SAAUJ,EAAW7B,KAAK,OAAOqF,MAAOvB,EAAStB,SAAU,SAAC0C,GAAD,OAAOzD,EAAKwD,kBAAkBC,IAAIhD,UAAU,eAAeV,KAAK,UAAUmJ,YAAY,qBAE5Jb,EAAAhK,EAAAC,cAAA,OAAKmC,UAAU,cACX4H,EAAAhK,EAAAC,cAAA,SAAO2K,IAAI,QAAX,QAAuBZ,EAAAhK,EAAAC,cAAA,oDACvB+J,EAAAhK,EAAAC,cAAA,SAAOkC,SAAUJ,EAAW7B,KAAK,OAAOqF,MAAOzB,EAAMpB,SAAU,SAAC0C,GAAD,OAAOzD,EAAKwD,kBAAkBC,IAAIhD,UAAW,eAAeV,KAAK,OAAOmJ,YAAY,yCAEvJb,EAAAhK,EAAAC,cAAA,OAAKmC,UAAU,8BACX4H,EAAAhK,EAAAC,cAAA,OAAKmC,UAAU,+BACX4H,EAAAhK,EAAAC,cAAA,SAAO2K,IAAI,QAAX,uBAA6CZ,EAAAhK,EAAAC,cAAA,WAC7C+J,EAAAhK,EAAAC,cAAA,OAAKmC,UAAU,eACX4H,EAAAhK,EAAAC,cAAA,SAAOkC,SAAUnD,KAAKkC,MAAM6D,UAAWrC,SAAU,SAAC0C,GAAD,OAAOzD,EAAKgB,QAAQyC,IAAIlF,KAAK,OAAOkC,UAAU,oBAAoBJ,OAAO,UAAU+I,GAAG,aAAaE,UAAQ,IAC5JjB,EAAAhK,EAAAC,cAAA,SAAOmC,UAAU,oBAAoBwI,IAAI,cAAzC,uBAEH3G,IAAaU,EAAoBqF,EAAAhK,EAAAC,cAAA,KAAGmC,UAAU,sBAAb,iBAAsD,KACxF4H,EAAAhK,EAAAC,cAAA,OAAKmC,UAAU,mCACVpD,KAAKkC,MAAMiD,cACRnF,KAAKkC,MAAMiD,cAAcqD,IAAI,SAACoB,EAAOmC,GAAR,OACzBf,EAAAhK,EAAAC,cAAA,OAAKtB,IAAKoM,EAAI3I,UAAU,iBACpB4H,EAAAhK,EAAAC,cAAA,OAAK6C,IAAK8F,EAAOxG,UAAU,YAAYW,IAAI,QAE9C,OAIjBiH,EAAAhK,EAAAC,cAAA,OAAKmC,UAAU,+BACX4H,EAAAhK,EAAAC,cAAA,SAAO2K,IAAI,QAAX,yBAA4CZ,EAAAhK,EAAAC,cAAA,WAC5C+J,EAAAhK,EAAAC,cAACiL,EAAA,EAAD,CAAQnJ,UAAWA,EAAW7B,KAAK,QAAQ4B,OAAQ6B,EAAclC,QAAS,SAACC,EAAMiF,GAAP,OAAgBhF,EAAKF,QAAQC,EAAMiF,IAAOjF,KAAK,eAAeG,MAAO,qCAC/ImI,EAAAhK,EAAAC,cAAA,mDACA+J,EAAAhK,EAAAC,cAAA,SAAOC,KAAK,OAAOiC,SAAUJ,EAAWwD,MAAO3B,EAAkBlB,SAAU,SAAC0C,GAAD,OAAOzD,EAAKwD,kBAAkBC,IAAIhD,UAAU,eAAeV,KAAK,mBAAmBmJ,YAAY,iBAEtKjH,GAAkBA,EAAiBnF,OAC/BuL,EAAAhK,EAAAC,cAAA,UAAQ+C,MAAM,OAAO7C,MAAM,QACvB2C,IAAKc,IACG,OAK3B7B,EAII/C,KAAKkC,MAAM6D,UAGC,KAFTiF,EAAAhK,EAAAC,cAAA,OAAKmC,UAAU,8BACX4H,EAAAhK,EAAAC,cAAA,UAAQkC,SAAUyC,EAAS1E,KAAK,SAASmC,QAAS,SAAC+C,GAAD,OAAOzD,EAAKsG,cAAc7C,IAAIhD,UAAU,2BAA2BwC,EAAUoF,EAAAhK,EAAAC,cAACwK,EAAA,EAAD,CAAQU,MAAM,UAAa,gCALlKnB,EAAAhK,EAAAC,cAAA,OAAKmC,UAAU,8BACX4H,EAAAhK,EAAAC,cAAA,UAAQkC,SAAUyC,EAAS1E,KAAK,SAASmC,QAAS,SAAC+C,GAAD,OAAOzD,EAAKqE,aAAaZ,IAAIhD,UAAU,2BAA2BwC,EAAUoF,EAAAhK,EAAAC,cAACwK,EAAA,EAAD,CAAQU,MAAM,UAAa,8BAcjMnB,EAAAhK,EAAAC,cAACgK,EAAAjK,EAAMoL,OAAP,KAEQrJ,EACIiI,EAAAhK,EAAAC,cAACyK,EAAA,EAAD,KACM1L,KAAKkC,MAAM6D,UAAkM,KAAtLiF,EAAAhK,EAAAC,cAACoL,EAAArL,EAAD,CAAQmC,SAAU6C,EAAYsG,QAAQ,OAAOlJ,UAAU,OAAOC,QAAS,kBAAMV,EAAK0G,gBAAgBF,KAAWnD,EAAagF,EAAAhK,EAAAC,cAACwK,EAAA,EAAD,CAAQU,MAAM,UAAa,sBAC9KnB,EAAAhK,EAAAC,cAACoL,EAAArL,EAAD,CAAQsL,QAAQ,SAASnJ,SAAU8C,EAAU7C,UAAU,OAAOC,QAAS,kBAAMV,EAAK4H,cAAcpB,KAAWlD,EAAW+E,EAAAhK,EAAAC,cAACwK,EAAA,EAAD,CAAQU,MAAM,UAAa,cAC5I,KAEjBnB,EAAAhK,EAAAC,cAACoL,EAAArL,EAAD,CAAQsL,QAAQ,UAAUjJ,QAAS,kBAAM8E,MAAzC,mBAtdO7D,aA6dZC,0MC/dTgI,6MAEFrK,MAAQ,CACJsK,WAAW,EACXC,iBAAiB,EACjBC,0BAA0B,EAC1BpD,SAAU,GACVzD,MAAO,GACPsD,QAAS,KACTvD,SAAS,EACT+G,mBAAmB,KAOvBC,eAAiB,WAEbhF,IAAMkB,IAAI,oBACLd,KAAK,SAAAC,GACFnG,EAAKO,SAAS,CAAEiH,SAAUrB,EAAIc,KAAKO,SAAUmD,iBAAiB,EAAO5G,MAAO,OAE/EuC,MAAM,SAAAC,GACHvG,EAAKO,SAAS,CAAEwD,MAAO,uDAAkD4G,iBAAiB,SAItGvE,mBAAqB,WACjBpG,EAAKO,SAAS,CAAEoK,iBAAiB,IACjC3K,EAAK8K,oBAGTC,eAAiB,SAACd,EAAIe,GACN,WAATA,EACChL,EAAKO,SAAS,CAAEuD,SAAS,EAAM4G,WAAW,IAE1C1K,EAAKO,SAAS,CAAEuD,SAAS,EAAM8G,0BAA0B,IAC7D9E,IAAMkB,IAAI,gBAAkBiD,GACvB/D,KAAK,SAAAC,GACFnG,EAAKO,SAAS,CACVuD,SAAS,EACTuD,QAASlB,EAAIc,KAAKI,QAClBtD,MAAS,OAGhBuC,MAAM,SAAAC,GACHvG,EAAKO,SAAS,CACVuD,SAAS,EACTC,MAAS,8CAMzB4D,YAAc,SAACsD,EAAMrK,GACjBZ,EAAKO,SAALjD,OAAAuH,EAAA,EAAAvH,CAAA,GACKsD,EAAOqK,OAIhB5E,WAAa,WACTrG,EAAKO,SAAS,CAAEmK,WAAW,EAAOG,mBAAmB,OAGzDK,YAAc,SAACjE,EAAMkE,GACjB,IAAIC,EAAa,+BAEjBA,GAAc,qCACdnE,EAAKrB,QAAQ,SAAUyF,EAAU5N,GAC7B,IAAI6N,EAAO7N,EAAI,EAAK,MAAQ4N,EAASzK,KAAO,MAAQyK,EAASE,MAAQ,MAAQF,EAASG,IAAM,MAAQH,EAASI,eAC7GL,GAAcE,EAAM,SAIxB,IAAII,EAAaC,UAAUP,GACvBpD,EAAO4D,SAASzM,cAAc,KAClC6I,EAAK6D,aAAa,OAAQH,GAC1B,IAAII,EAAWX,EAASxG,MAAM,KAAKoH,KAAK,KACxC/D,EAAK6D,aAAa,WAAYC,EAAW,QACzC9D,EAAKvG,4FAlELvD,KAAK4M,kDAqEA,IAAAjK,EAAA3C,KAAA8G,EACwC9G,KAAKkC,MAA1C2D,EADHiB,EACGjB,MAAOyD,EADVxC,EACUwC,SAAUmD,EADpB3F,EACoB2F,gBACzB,OACIzB,EAAAhK,EAAAC,cAAC6M,EAAA,EAAD,KACI9C,EAAAhK,EAAAC,cAAA,OAAKmC,UAAU,aACX4H,EAAAhK,EAAAC,cAAA,OAAKmC,UAAU,YACX4H,EAAAhK,EAAAC,cAAA,OAAKmC,UAAU,gFACX4H,EAAAhK,EAAAC,cAAA,MAAImC,UAAU,SAAd,qBACA4H,EAAAhK,EAAAC,cAAA,UAAQoC,QAAS,kBAAMV,EAAKN,SAAS,CAAEsK,mBAAmB,KAASvJ,UAAU,UAA7E,uBAEJ4H,EAAAhK,EAAAC,cAAA,OAAKmC,UAAU,yBACVyC,GAASA,EAAMpG,OAASuL,EAAAhK,EAAAC,cAAA,OAAKmC,UAAU,qBAAqBI,MAAO,CAAEmI,SAAU,WAAa9F,GAAe,KAExG4G,EAAkBzB,EAAAhK,EAAAC,cAACwK,EAAA,EAAD,MACdnC,GAAYA,EAAS7J,OACrBuL,EAAAhK,EAAAC,cAAA,SAAOmC,UAAU,wBACb4H,EAAAhK,EAAAC,cAAA,SAAOmC,UAAU,4BACb4H,EAAAhK,EAAAC,cAAA,UACI+J,EAAAhK,EAAAC,cAAA,eACA+J,EAAAhK,EAAAC,cAAA,mBACA+J,EAAAhK,EAAAC,cAAA,kBACA+J,EAAAhK,EAAAC,cAAA,mBACA+J,EAAAhK,EAAAC,cAAA,sBACA+J,EAAAhK,EAAAC,cAAA,kBACA+J,EAAAhK,EAAAC,cAAA,uBAGR+J,EAAAhK,EAAAC,cAAA,aAEQqI,EAASd,IAAI,SAACW,EAAS5J,GAAV,OACTyL,EAAAhK,EAAAC,cAAA,MAAItB,IAAKwJ,EAAQC,KACb4B,EAAAhK,EAAAC,cAAA,MAAI8M,MAAM,OAAOxO,EAAI,GACrByL,EAAAhK,EAAAC,cAAA,UAAKkI,EAAQhI,OACb6J,EAAAhK,EAAAC,cAAA,UAAKkI,EAAQpE,OACbiG,EAAAhK,EAAAC,cAAA,UAAKkI,EAAQ7J,QACb0L,EAAAhK,EAAAC,cAAA,UAAKkI,EAAQxH,UACbqJ,EAAAhK,EAAAC,cAAA,UAAKkI,EAAQpD,UAAYiF,EAAAhK,EAAAC,cAAA,QAAMuC,MAAO,CAAE2I,MAAO,UAAtB,aAAiDnB,EAAAhK,EAAAC,cAAA,KAAGuC,MAAO,CAAE2I,MAAO,QAAnB,eAC1EnB,EAAAhK,EAAAC,cAAA,MAAImC,UAAU,WACV4H,EAAAhK,EAAAC,cAAA,UAAQoC,QAAS,kBAAMV,EAAKkK,eAAe1D,EAAQC,IAAK,WAAWhG,UAAU,oCAA7E,YACA4H,EAAAhK,EAAAC,cAAA,UAAQoC,QAAS,kBAAMV,EAAKkK,eAAe1D,EAAQC,IAAK,iBAAiBhG,UAAU,4BAAnF,kCAMb,QAO/B4H,EAAAhK,EAAAC,cAAC+M,EAAA,EAAD,CACIzG,KAAM,KACNxE,WAAW,EACXoG,QAASnJ,KAAKkC,MAAMiH,QACpBM,YAAazJ,KAAKyJ,YAClBH,SAAUtJ,KAAKkC,MAAMoH,SACrBpD,UAAWlG,KAAKkC,MAAM0D,QACtBmF,KAAM/K,KAAKkC,MAAMsK,UACjBrE,WAAYnI,KAAKmI,aAGrB6C,EAAAhK,EAAAC,cAAC+M,EAAA,EAAD,CACIzG,KAAMvH,KAAKe,MAAMwG,KACjBwD,KAAM/K,KAAKkC,MAAMyK,kBACjBxE,WAAYnI,KAAKmI,WACjBD,mBAAoBlI,KAAKkI,qBAG7B8C,EAAAhK,EAAAC,cAACgN,EAAAjN,EAAD,CAAO+J,KAAM/K,KAAKkC,MAAMwK,yBAA0BxB,OAAQ,kBAAMvI,EAAKN,SAAS,CAACqK,0BAA2B,KAASvB,KAAK,MACpHH,EAAAhK,EAAAC,cAACgN,EAAAjN,EAAMoK,OAAP,CAAcC,aAAW,GACrBL,EAAAhK,EAAAC,cAACgN,EAAAjN,EAAMsK,MAAP,mCAEJN,EAAAhK,EAAAC,cAACgN,EAAAjN,EAAMuK,KAAP,KACIP,EAAAhK,EAAAC,cAAA,OAAKmC,UAAU,aACX4H,EAAAhK,EAAAC,cAAA,OAAKmC,UAAU,OACX4H,EAAAhK,EAAAC,cAAA,OAAKmC,UAAU,iCACVpD,KAAKkC,MAAM0D,QAAUoF,EAAAhK,EAAAC,cAAA,OAAKmC,UAAU,iCAAgC4H,EAAAhK,EAAAC,cAACwK,EAAA,EAAD,OACrEzL,KAAKkC,MAAMiH,SAASnJ,KAAKkC,MAAMiH,QAAQ+E,cAAgBlO,KAAKkC,MAAMiH,QAAQ+E,aAAazO,OAE5EuL,EAAAhK,EAAAC,cAAC6M,EAAA,EAAD,KACA9C,EAAAhK,EAAAC,cAAA,MAAImC,UAAU,QAAQpD,KAAKkC,MAAMiH,QAAQhI,OACpC6J,EAAAhK,EAAAC,cAAA,SAAOmC,UAAU,0CACb4H,EAAAhK,EAAAC,cAAA,aACKjB,KAAKkC,MAAMiH,QAAQ+E,aAAa1F,IAAI,SAAC2F,EAAa5O,GAAd,OACjCyL,EAAAhK,EAAAC,cAAA,MAAItB,IAAKJ,GACLyL,EAAAhK,EAAAC,cAAA,MAAI8M,MAAM,OAAOxO,EAAI,GACrByL,EAAAhK,EAAAC,cAAA,UAAKkN,EAAYzL,MACjBsI,EAAAhK,EAAAC,cAAA,UAAKkN,EAAYd,OACjBrC,EAAAhK,EAAAC,cAAA,UAAKkN,EAAYb,KACjBtC,EAAAhK,EAAAC,cAAA,qBAAakN,EAAYZ,qBAKzCvC,EAAAhK,EAAAC,cAAA,OAAKmC,UAAU,gCACX4H,EAAAhK,EAAAC,cAAA,UAAQmC,UAAU,4BAA4BC,QAAS,kBAAMV,EAAKqK,YAAYrK,EAAKT,MAAMiH,QAAQ+E,aAAcvL,EAAKT,MAAMiH,QAAQhI,SAAlI,iCAAoK6J,EAAAhK,EAAAC,cAACmN,EAAA,EAAD,CAAiBC,KAAMC,IAAYnD,KAAM,UAGtNH,EAAAhK,EAAAC,cAAA,OAAKmC,UAAU,iCAAgC4H,EAAAhK,EAAAC,cAAA,iDAvLnEqD,aAyMZiK,sBALS,SAAArM,GACpB,MAAO,CACHqF,KAAMrF,EAAMsM,KAAKjH,OAGVgH,CAAyBhC","file":"static/js/29.efad3e28.chunk.js","sourcesContent":["function _extends() {\n  module.exports = _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nmodule.exports = _extends;","function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nmodule.exports = _objectWithoutPropertiesLoose;","import React from 'react'\r\nimport ReactNotification from 'react-notifications-component'\r\nimport 'react-notifications-component/dist/theme.css'\r\nimport 'animate.css/animate.css'\r\nimport { store } from 'react-notifications-component';\r\n\r\nexport const Notification = (props) => {\r\n    return (\r\n        <ReactNotification />\r\n    )\r\n};\r\n\r\nexport const addNotification = (type, title, message) => {\r\n    store.addNotification({\r\n        title: title,\r\n        message: message,\r\n        type: type,\r\n        insert: \"top\",\r\n        container: \"top-center\",\r\n        animationIn: [\"animated\", \"bounceIn\"],\r\n        animationOut: [\"animated\", \"fadeOut\"],\r\n        dismiss: {\r\n            duration: 4000,\r\n            onScreen: false\r\n        }\r\n    });\r\n} ","import React, { Component } from 'react';\r\nimport Hoc from '../../globalComponent/Hoc';\r\n\r\n// Task component - represents a single todo item\r\nexport default class Upload extends Component {\r\n      constructor(props) {\r\n          super(props);\r\n          \r\n          this.state = {\r\n              url: ''\r\n          }\r\n      }\r\n\r\n    preview(event){\r\n      this.setState({url: URL.createObjectURL(event.target.files[0])});\r\n      this.props.setFile(this.props.name, event.target.files[0])\r\n    }\r\n\r\n    render() {\r\n        const {url} = this.state;\r\n        const { label, oldUrl, type, isEditing} = this.props;\r\n        let accept = type === \"image\" ? \"image/png,image/jpeg,image/jpg\" : (type === \"document\" ? \".docx, .pptx, .pdf\" : \"video/*\");\r\n\r\n    return ( \r\n        <Hoc>\r\n            <button disabled={isEditing} type=\"button\" className=\"btn btn-dark mb-2\" onClick={()=>this.inputElement.click()}>{label} </button>\r\n            <input style={{visibility:'hidden'}} accept={accept} onChange={(event) => this.preview(event)} ref={input => this.inputElement = input} type=\"file\" />\r\n            <div className=\"ibox\">\r\n                <div className=\"ibox-content product-box active\">\r\n                    <div className={!url&&!oldUrl?'product-imitation':''}>\r\n                    {!(url||oldUrl)? '':'' }\r\n                     {(url||oldUrl)&&type===\"image\"?<img src={url||oldUrl} accept={accept} alt=\"\" style={{width:'100%'}} />:''}\r\n                    \r\n                    {(url||oldUrl)&&type===\"document\"?\r\n                        <iframe src={url||oldUrl||''} projectName=\"Funnel PDF\" align=\"top\" width=\"100%\" frameBorder=\"0\" title=\"Doc\" target=\"Message\"><p>Your browser doesn't support Iframe. Here is a <a href={url||oldUrl} >link to the document</a> instead.</p> </iframe>:''}\r\n\r\n                    {(url||oldUrl)&&type===\"video\"?<video src={url||oldUrl||''}  width=\"100%\" controls><p>Your browser doesn't support HTML5 video. Here is a <a href={url||oldUrl}>link to the video</a> instead.</p> </video>:''}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </Hoc>\r\n        );\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport Modal from 'react-bootstrap/Modal';\r\nimport Button from 'react-bootstrap/Button';\r\nimport Upload from '../../components/Forms/Upload';\r\nimport axios from 'axios';\r\nimport socketIOClient from 'socket.io-client';\r\nimport {Notification, addNotification} from '../../globalComponent/Notifications'\r\nimport Loader from '../../globalComponent/Loader';\r\nimport { rootUrl } from '../../../configs/config';\r\nimport './EventForm.scss';\r\nimport Hoc from '../../globalComponent/Hoc';\r\n\r\nclass ServiceModal extends Component {\r\n    state = {\r\n        title: '',\r\n        category: '',\r\n        cible: '',\r\n        probleme: '',\r\n        serviceVideo: '',\r\n        youtubeVideoLink: '',\r\n        offre: '',\r\n        duration: '',\r\n        tags: '',\r\n        place: '',\r\n        mapLink: '',\r\n        isTyping: false,\r\n        formValid: false,\r\n        previewImages: null,\r\n        images: null,\r\n        titleValid: false,\r\n        categoryValid: false,\r\n        cibleValid: false,\r\n        placeValid: false,\r\n        offreValid: false,\r\n        problemeValid: false,\r\n        serviceImageValid: false,\r\n        loading: false,\r\n        error: '',\r\n        categories: [],\r\n        validated: false,\r\n        validating: false,\r\n        deleting: false,\r\n        loadingAn :false\r\n    }\r\n\r\n    handleInputChange = (e) => {\r\n        e.preventDefault();\r\n        const name = e.target.name;\r\n        let value = e.target.value;\r\n        if(name === \"youtubeVideoLink\") {\r\n            let newValue = \"https://www.youtube.com/embed/\"+value.split(\"=\")[1]\r\n            if(newValue.includes(\"&\")) {\r\n                newValue = newValue.split(\"&\")[0]\r\n            }\r\n            value = newValue;\r\n        }\r\n        this.setState({ [name]: value, error: '' },\r\n            () => { this.validateField(name, value) });\r\n    }\r\n\r\n    validateField = (fieldName, value) => {\r\n        let { titleValid, problemeValid, cibleValid, serviceImageValid, \r\n            categoryValid, offreValid, placeValid } = this.state;\r\n\r\n        switch (fieldName) {\r\n            case 'title':\r\n                titleValid = value.length > 0;\r\n                break;\r\n            case 'probleme':\r\n                problemeValid = value.length > 0;\r\n                break;\r\n            case 'cible':\r\n                cibleValid = value.length > 0;\r\n                break;\r\n            case 'category':\r\n                categoryValid = value.length > 0;\r\n                break;\r\n            case 'offre':\r\n                offreValid = value.length > 0;\r\n                break;\r\n            case 'place':\r\n                placeValid = value.length > 0;\r\n                break;\r\n            case 'images':\r\n                placeValid = value;\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n        this.setState({\r\n            titleValid: titleValid,\r\n            problemeValid: problemeValid,\r\n            cibleValid: cibleValid,\r\n            serviceImageValid: serviceImageValid,\r\n            categoryValid: categoryValid,\r\n            offreValid: offreValid,\r\n            placeValid: placeValid,\r\n        }, this.validateForm);\r\n    }\r\n\r\n    validateForm = () => {\r\n        this.setState({\r\n            formValid:\r\n                this.state.titleValid &&\r\n                this.state.problemeValid &&\r\n                this.state.cibleValid &&\r\n                this.state.categoryValid &&\r\n                this.state.serviceImageValid &&\r\n                this.state.offreValid &&\r\n                this.state.placeValid\r\n        });\r\n    }\r\n\r\n    handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        if (this.state.formValid) {\r\n            const formData = new FormData();\r\n            const { title, probleme, cible, category, images, serviceVideo, offre, duration, place, youtubeVideoLink, tags, mapLink } = this.state;\r\n            formData.append('title', title);\r\n            formData.append('category', category);\r\n            formData.append('cible', cible);\r\n            formData.append('problem', probleme);\r\n            formData.append('youtubeVideoLink', youtubeVideoLink);\r\n            formData.append('offre', offre);\r\n            formData.append('duration', duration);\r\n            formData.append('place', place);\r\n            formData.append('tags', tags);\r\n            formData.append('mapLink', mapLink);\r\n            formData.append('user', JSON.stringify(this.props.user));\r\n            Array.from(images).forEach(file => {\r\n                formData.append('images', file);\r\n            });\r\n            if (serviceVideo !== \"\") {\r\n                formData.append('serviceVideo', serviceVideo);\r\n            }\r\n            const config = {\r\n                headers: {\r\n                    'content-type': 'multipart/form-data'\r\n                }\r\n            };\r\n            // Add the service\r\n            this.setState({ loading: true });\r\n            try {\r\n                axios.post('/api/service/new', formData, config)\r\n                    .then(res => {\r\n                        this.setState({\r\n                            loading: false,\r\n                            error: '',\r\n                            title: '',\r\n                            cible: '',\r\n                            category: '',\r\n                            probleme: '',\r\n                            serviceVideo: '',\r\n                            offre:'',\r\n                            duration: '',\r\n                            place: '',\r\n                            tags: '',\r\n                            mapLink: ''\r\n                        });\r\n                        // For admin when he creates service\r\n                        if (this.props.refreshServiceList) {\r\n                            this.props.refreshServiceList();\r\n                        }\r\n                        this.props.closeModal();\r\n                    })\r\n                    .catch(err => {\r\n                        console.log(err);\r\n                        this.setState({ error: \"Une érreur s'est produite. Veuillez reéssayer.\", loading: false });\r\n                    })\r\n            } catch (error) {\r\n                this.setState({ error: \"Erreur de connexion. Veuillez reéssayer\", loading: false });\r\n            }\r\n        } else {\r\n            this.setState({ error: \"Veuillez remplir tous les champs\", isTyping: true });\r\n        }\r\n    }\r\n\r\n    // preview image\r\n    preview = (e) => {\r\n        let images = Array.from(e.target.files).map(file => URL.createObjectURL(file));\r\n        this.setState({ previewImages: images, images: e.target.files, serviceImageValid: true }, \r\n            () => { this.validateField(\"images\", true) });\r\n    }\r\n\r\n    setFile = (name, file) => {\r\n        this.setState({\r\n            [name]: file,\r\n            error: ''\r\n        }, this.validateForm);\r\n    }\r\n\r\n    componentDidMount() {\r\n        //Charge categories on form\r\n        this.initCategories();\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n        if (prevProps.service !== this.props.service) {\r\n            const { isEditing, loadingAn, service } = this.props;\r\n            if (isEditing && !loadingAn) {\r\n                let images = service.images.map(image => rootUrl + '/' + image);\r\n                this.setState({\r\n                    title: service.title,\r\n                    category: service.category,\r\n                    cible: service.target,\r\n                    offre: service.offre,\r\n                    place: service.place,\r\n                    probleme: service.problem,\r\n                    serviceVideo: service.video&&service.video.length ? rootUrl + \"/\" + service.video : null,\r\n                    previewImages: images,\r\n                    duration: service.duration,\r\n                    mapLink: service.mapLink,\r\n                    validated: service.validated,\r\n                    youtubeVideoLink: service.youtubeVideoLink,\r\n                    tags: service.tags,\r\n                })\r\n            }\r\n        }\r\n    }\r\n\r\n    // Fetch categories on the server and update if there is a new one\r\n    fetchCategories = () => {\r\n        let categories = JSON.parse(localStorage.getItem(\"categories\"));\r\n        axios.get(\"/api/category/all\")\r\n        .then(res => {\r\n            if(JSON.stringify(categories) !== JSON.stringify(res.data.categories)) {\r\n                this.setState({ categories: res.data.categories })\r\n            }\r\n        })\r\n        .catch(err => {\r\n            this.setState({ error: \"Erreur de chargement des catégories. Veuillez reéssayer.\" })\r\n        })\r\n    }\r\n\r\n    initCategories = () => {\r\n        let categories = JSON.parse(localStorage.getItem(\"categories\"));\r\n        if (categories && categories.length) {\r\n            this.setState({ categories: categories });\r\n            // Verify is there is a new category\r\n            this.fetchCategories();\r\n        } else {\r\n            try {\r\n                this.fetchCategories();\r\n            } catch (error) {\r\n                this.setState({ error: \"Erreur de chargement des catégories. Veuillez reéssayer.\" })\r\n            }\r\n        }\r\n    }\r\n\r\n    updateService = (e) => {\r\n        e.preventDefault();\r\n        const formData = new FormData();\r\n        const { images } = this.state;\r\n        if (images) {\r\n            Array.from(images).forEach(file => {\r\n                formData.append('images', file);\r\n            });\r\n            const config = {\r\n                headers: {\r\n                    'content-type': 'multipart/form-data'\r\n                }\r\n            };\r\n            this.setState({ loading: true });\r\n            try {\r\n                axios.patch('/api/service/' + this.props.service._id, formData, config)\r\n                    .then(res => {\r\n                        this.setState({ \r\n                            loading: false,\r\n                         });\r\n                        this.props.closeModal();\r\n                    })\r\n                    .catch(err => {\r\n                        this.setState({ error: \"Veuillez faire une modification avant d'enregistrer\", loading: false });\r\n                    })\r\n            } catch (error) {\r\n                this.setState({ error: \"Erreur de connexion. Veuillez reéssayer\", loading: false });\r\n            }\r\n        } else {\r\n            addNotification(\"warning\", \"Modification!\", \"Aucune modification éffectuée\")\r\n        }\r\n    }\r\n\r\n    validateservice = (service) => {\r\n        this.setState({ validating: true, service: service })\r\n        axios.patch('/api/service/validate/' + service._id)\r\n            .then(res => {\r\n                let services = this.props.services.map(service => {\r\n                    let newservice = { ...service };\r\n                    if (service._id === this.props.service._id) {\r\n                        newservice.validated = true;\r\n                    }\r\n                    return newservice;\r\n                })\r\n                this.props.refreshList(services, \"services\");\r\n                this.props.closeModal();\r\n                this.setState({\r\n                    validating: false,\r\n                    'error': ''\r\n                })\r\n                // Send a notification\r\n                const not = {\r\n                    to: \"all\",\r\n                    title: service.title,\r\n                    image: rootUrl + '/' + service.image,\r\n                    link: '/annonce/service/' + service._id,\r\n                    name: \"Le Fournisseur\",\r\n                    visited: false,\r\n                    projectId: service._id,\r\n                    date: new Date()\r\n                }\r\n                axios.patch('/api/user/recommand/to/all', { rec: not })\r\n                    .then(res => {\r\n                        const socket = socketIOClient(rootUrl);\r\n                        socket.emit(\"new anounce notification\", not);\r\n                    })\r\n                    .catch(err => {\r\n                        this.setState({ recError: 'Une érreur s\\'est produite. Veuillez recharger la page.' })\r\n                    })\r\n                // Send Email to Supplier \r\n            })\r\n            .catch(err => {\r\n                this.setState({\r\n                    validating: false,\r\n                    'error': 'Erreur survenue, veuillez actualiser'\r\n                })\r\n            })\r\n    }\r\n\r\n    deleteservice = (service) => {\r\n        this.setState({ deleting: true, service: service })\r\n        axios.delete('/api/service/' + service._id)\r\n            .then(res => {\r\n                let services = this.props.services.filter(service => {\r\n                    return JSON.stringify(service) !== JSON.stringify(this.props.service)\r\n                })\r\n                this.props.refreshList(services, \"services\");\r\n                this.props.closeModal();\r\n                this.setState({\r\n                    deleting: false,\r\n                    'error': ''\r\n                })\r\n            })\r\n            .catch(err => {\r\n                this.setState({\r\n                    deleting: false,\r\n                    error: err\r\n                })\r\n            })\r\n    }\r\n\r\n    render() {\r\n        const { serviceVideo, title, probleme, cible, problemeValid, youtubeVideoLink,\r\n            category, serviceImageValid, titleValid, cibleValid, categoryValid, offre, place, placeValid,\r\n            error, loading, isTyping, categories, validating, deleting, duration, offreValid, mapLink } = this.state;\r\n        const { show, closeModal, loadingAn, isEditing, service, tags } = this.props;\r\n        return (\r\n            <Modal show={show} onHide={() => closeModal()} size=\"lg\" >\r\n                <Modal.Header closeButton>\r\n                    <Modal.Title>Ajouter un nouveau Service</Modal.Title>\r\n                </Modal.Header>\r\n                <Modal.Body>\r\n                    <Notification />\r\n                    <form className=\"create-form\">\r\n                        <div className=\"container\">\r\n                            <div className=\"row\">\r\n                                <div className=\"col-sm-12 pl-4 pr-4 mt-4 mb-3\">\r\n                                    {\r\n                                        loadingAn ? <div className=\"d-flex justify-content-center\"><Loader /></div> :\r\n                                            <Hoc>\r\n                                                {error && error.length ? <div className=\"alert alert-danger\" style={{ fontSize: \"1.3rem\" }}>{error}</div> : null}\r\n                                                <div className=\"form-group\">\r\n                                                    <label for=\"name\">Nom du Service</label>\r\n                                                    <input disabled={isEditing} type=\"text\" className={isTyping && !titleValid ? \"form-control is-invalid\" : \"form-control\"} value={title} onChange={(e) => this.handleInputChange(e)} name=\"title\" placeholder=\"Nom du Service\" required />\r\n                                                    {isTyping && !titleValid ? <div className=\"invalid-feedback\">Invalide</div> : null}\r\n                                                </div>\r\n                                                <div className=\"form-group\">\r\n                                                    <label for=\"category\">Catégorie</label>\r\n                                                    <select disabled={isEditing} id=\"category\" name=\"category\" value={category} onChange={(e) => this.handleInputChange(e)} className={isTyping && !categoryValid ? \"form-control is-invalid\" : \"form-control\"} >\r\n                                                        <option>Choisir...</option>\r\n                                                        {\r\n                                                            categories && categories.length ?\r\n                                                                categories.map(category => (\r\n                                                                    <option key={category._id}>{category.name}</option>\r\n                                                                )) : <option>Loading...</option>\r\n                                                        }\r\n                                                    </select>\r\n                                                    {isTyping && !categoryValid ? <div className=\"invalid-feedback\">Sélectionnez une catégorie</div> : null}\r\n                                                </div>\r\n                                                <div className=\"form-group\">\r\n                                                    <label for=\"name\">Problème</label>\r\n                                                    <textarea disabled={isEditing} type=\"text\" value={probleme} className={isTyping && !problemeValid ? \"form-control is-invalid\" : \"form-control\"} onChange={(e) => this.handleInputChange(e)} name=\"probleme\" rows={2} placeholder=\"Problème\"></textarea>\r\n                                                    {isTyping && !problemeValid ? <div className=\"invalid-feedback\">Invalide</div> : null}\r\n                                                </div>\r\n                                                <div className=\"form-group\">\r\n                                                    <label for=\"name\">Offre</label>\r\n                                                    <textarea disabled={isEditing} type=\"text\" value={offre} className={isTyping && !offreValid ? \"form-control is-invalid\" : \"form-control\"} onChange={(e) => this.handleInputChange(e)} name=\"offre\" rows={2} placeholder=\"Offre\"></textarea>\r\n                                                    {isTyping && !offreValid ? <div className=\"invalid-feedback\">Invalide</div> : null}\r\n                                                </div>\r\n                                                <div className=\"form-group\">\r\n                                                    <label for=\"name\">Cible</label>\r\n                                                    <input disabled={isEditing} type=\"text\" value={cible} onChange={(e) => this.handleInputChange(e)} className={isTyping && !cibleValid ? \"form-control is-invalid\" : \"form-control\"} name=\"cible\" placeholder=\"Cible\" required />\r\n                                                    {isTyping && !cibleValid ? <div className=\"invalid-feedback\">Invalide</div> : null}\r\n                                                </div>\r\n                                                <div className=\"row\">\r\n                                                    <div className=\"col-md-6 col-sm-12\">\r\n                                                        <div className=\"form-group\">\r\n                                                            <label for=\"name\">Lieux&Adresse</label>\r\n                                                            <input disabled={isEditing} type=\"text\" value={place} onChange={(e) => this.handleInputChange(e)} className={isTyping && !placeValid ? \"form-control is-invalid\" : \"form-control\"} name=\"place\" placeholder=\"Lieu & Adresse\" required />\r\n                                                            {isTyping && !placeValid ? <div className=\"invalid-feedback\">Invalide</div> : null}\r\n                                                        </div>\r\n                                                    </div>\r\n                                                    <div className=\"col-md-6 col-sm-12\">\r\n                                                        <div className=\"form-group\">\r\n                                                            <label for=\"name\">Durée du service/ Dates d'ouverture</label>\r\n                                                            <input disabled={isEditing} type=\"text\" value={duration} onChange={(e) => this.handleInputChange(e)} className= \"form-control\" name=\"duration\" placeholder=\"Exple: 2 Mois\" required />\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </div>\r\n                                                <div className=\"form-group\">\r\n                                                    <label for=\"tags\">Lien Google Map</label>\r\n                                                    <input disabled={isEditing} type=\"text\" value={mapLink} onChange={(e) => this.handleInputChange(e)} className=\"form-control\" name=\"mapLink\" placeholder=\"Lien Google Map\" />\r\n                                                </div>\r\n                                                <div className=\"form-group\">\r\n                                                    <label for=\"tags\">Tags <strong>(Séparer par des virgules \",\")</strong></label>\r\n                                                    <input disabled={isEditing} type=\"text\" value={tags} onChange={(e) => this.handleInputChange(e)} className= \"form-control\" name=\"tags\" placeholder=\"Tags: Exple fete, concert, boutique\" />\r\n                                                </div>\r\n                                                <div className=\"row align-items-start py-3\">\r\n                                                    <div className=\"col-sm-12 col-md-6 col-lg-6\">\r\n                                                        <label for=\"name\">Importer des images</label><br />\r\n                                                        <div className=\"custom-file\">\r\n                                                            <input disabled={this.state.validated} onChange={(e) => this.preview(e)} type=\"file\" className=\"custom-file-input\" accept=\"image/*\" id=\"customFile\" multiple />\r\n                                                            <label className=\"custom-file-label\" for=\"customFile\">Choisir les images</label>\r\n                                                        </div>\r\n                                                        {isTyping && !serviceImageValid ? <p className=\"alert alert-danger\">Image Requise</p> : null}\r\n                                                        <div className=\"row justify-content-center mt-3\">\r\n                                                            {this.state.previewImages ?\r\n                                                                this.state.previewImages.map((image, id) => (\r\n                                                                    <div key={id} className=\"col-sm-6 mt-2\">\r\n                                                                        <img src={image} className=\"img-fluid\" alt=\"\" />\r\n                                                                    </div>\r\n                                                                )) : null\r\n                                                            }\r\n                                                        </div>\r\n                                                    </div>\r\n                                                    <div className=\"col-sm-12 col-md-6 col-lg-6\">\r\n                                                        <label for=\"name\">Importer une vidéo</label><br />\r\n                                                        <Upload isEditing={isEditing} type=\"video\" oldUrl={serviceVideo} setFile={(name, file) => this.setFile(name, file)} name=\"serviceVideo\" label={\"Importer depuis votre ordinateur\"} />\r\n                                                        <span>Ou bien insérez le lien youtube.</span>\r\n                                                        <input type=\"text\" disabled={isEditing} value={youtubeVideoLink} onChange={(e) => this.handleInputChange(e)} className=\"form-control\" name=\"youtubeVideoLink\" placeholder=\"Lien youtube\" />\r\n                                                        {\r\n                                                            youtubeVideoLink&&youtubeVideoLink.length ?\r\n                                                                <iframe width=\"100%\" title=\"video\"\r\n                                                                    src={youtubeVideoLink}>\r\n                                                                </iframe> : null\r\n                                                        }\r\n                                                    </div>\r\n                                                </div>\r\n                                                {\r\n                                                !isEditing ?\r\n                                                    <div className=\"d-flex justify-content-end\">\r\n                                                        <button disabled={loading} type=\"submit\" onClick={(e) => this.handleSubmit(e)} className=\"button fourth mt-4 mb-5\">{loading ? <Loader color=\"white\" /> : \"Ajouter l'Evenement\"}</button>\r\n                                                    </div> :\r\n                                                    !this.state.validated ?\r\n                                                        <div className=\"d-flex justify-content-end\">\r\n                                                            <button disabled={loading} type=\"submit\" onClick={(e) => this.updateService(e)} className=\"button fourth mt-4 mb-5\">{loading ? <Loader color=\"white\" /> : \"Enregistrer la modification\"}</button>\r\n                                                        </div> : null\r\n                                                }\r\n                                            </Hoc>\r\n                                    }\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </form>\r\n                </Modal.Body>\r\n                <Modal.Footer>\r\n                    {\r\n                        isEditing ?\r\n                            <Hoc>\r\n                                {!this.state.validated ? <Button disabled={validating} variant=\"dark\" className=\"mr-3\" onClick={() => this.validateservice(service)}>{validating ? <Loader color=\"white\" /> : \"Valider le service\"}</Button> : null}\r\n                                <Button variant=\"danger\" disabled={deleting} className=\"mr-3\" onClick={() => this.deleteservice(service)}>{deleting ? <Loader color=\"white\" /> : \"Supprimer\"}</Button>\r\n                            </Hoc> : null\r\n                    }\r\n                    <Button variant=\"default\" onClick={() => closeModal()}>Fermer</Button>\r\n                </Modal.Footer>\r\n            </Modal>\r\n        )\r\n    }\r\n}\r\n\r\nexport default ServiceModal;","import React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport Modal from 'react-bootstrap/Modal';\r\nimport { connect } from 'react-redux';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faDownload} from '@fortawesome/free-solid-svg-icons';\r\nimport ServiceModal from '../../suppliers/Dashboard/ServiceModal';\r\nimport Loader from '../../globalComponent/Loader';\r\nimport Hoc from '../../globalComponent/Hoc';\r\n\r\nclass AdminService extends Component {\r\n\r\n    state = {\r\n        showModal: false,\r\n        servicesLoading: true,\r\n        showReservationListModal: false,\r\n        services: [],\r\n        error: '',\r\n        service: null,\r\n        loading: false,\r\n        showCreationModal: false\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.getAllServices();\r\n    }\r\n\r\n    getAllServices = () => {\r\n        //Get all services\r\n        axios.get('/api/service/all')\r\n            .then(res => {\r\n                this.setState({ services: res.data.services, servicesLoading: false, error: '' })\r\n            })\r\n            .catch(err => {\r\n                this.setState({ error: \"Une érreur s'est produite. Veuillez reéssayer.\", servicesLoading: false })\r\n            })\r\n    }\r\n\r\n    refreshServiceList = () => {\r\n        this.setState({ servicesLoading: true })\r\n        this.getAllServices();\r\n    }\r\n\r\n    getSingleEvent = (id, info) => {\r\n        if(info === \"detail\")\r\n            this.setState({ loading: true, showModal: true})\r\n        else \r\n            this.setState({ loading: true, showReservationListModal: true })\r\n        axios.get('/api/service/' + id)\r\n            .then(res => {\r\n                this.setState({\r\n                    loading: false,\r\n                    service: res.data.service,\r\n                    'error': ''\r\n                })\r\n            })\r\n            .catch(err => {\r\n                this.setState({\r\n                    loading: false,\r\n                    'error': 'Erreur survenue, veuillez actualiser'\r\n                })\r\n            })\r\n    }\r\n\r\n    // Refresh view when delete or validate service/service\r\n    refreshList = (list, name) => {\r\n        this.setState({\r\n            [name]: list\r\n        })\r\n    }\r\n\r\n    closeModal = () => {\r\n        this.setState({ showModal: false, showCreationModal: false });\r\n    }\r\n\r\n    generateCSV = (data, announce) => {\r\n        let csvContent = \"data:text/csv;charset=utf-8,\";\r\n        // Format our csv file content\r\n        csvContent += \"id , name, email, tel, places \\r\\n\";\r\n        data.forEach(function (rowArray, i) {\r\n            let row = (i + 1) + \" , \" + rowArray.name + \" , \" + rowArray.email + \" , \" + rowArray.tel + \" , \" + rowArray.numberOfPlaces;\r\n            csvContent += row + \"\\r\\n\";\r\n        });\r\n\r\n        // Creating the file\r\n        let encodedUri = encodeURI(csvContent);\r\n        let link = document.createElement(\"a\");\r\n        link.setAttribute(\"href\", encodedUri);\r\n        let fileName = announce.split(' ').join('-');\r\n        link.setAttribute(\"download\", fileName + \".csv\");\r\n        link.click();\r\n    }\r\n\r\n    render() {\r\n        const { error, services, servicesLoading } = this.state;\r\n        return (\r\n            <Hoc>\r\n                <div className=\"container\">\r\n                    <div className=\"row mt-5\">\r\n                        <div className=\"col-sm-12 text-center d-flex justify-content-between align-items-center mb-5\">\r\n                            <h3 className=\"title\">TOUS LES SERVICES</h3>\r\n                            <button onClick={() => this.setState({ showCreationModal: true })} className=\"button\">Ajouter un service</button>\r\n                        </div>\r\n                        <div className=\"col-sm-12 text-center\">\r\n                            {error && error.length ? <div className=\"alert alert-danger\" style={{ fontSize: \"1.3rem\" }}>{error}</div> : null}\r\n                            {\r\n                                servicesLoading ? <Loader /> :\r\n                                    services && services.length ?\r\n                                    <table className=\"table table-bordered\">\r\n                                        <thead className=\"thead-inverse thead-dark\">\r\n                                            <tr>\r\n                                                <th>#</th>\r\n                                                <th>Titre</th>\r\n                                                <th>Lieu</th>\r\n                                                <th>Cible</th>\r\n                                                <th>Durée</th>\r\n                                                <th>Etat</th>\r\n                                                <th>Actions</th>\r\n                                            </tr>\r\n                                        </thead>\r\n                                        <tbody>\r\n                                            {\r\n                                                services.map((service, i) => (\r\n                                                    <tr key={service._id}>\r\n                                                        <th scope=\"row\">{i + 1}</th>\r\n                                                        <td>{service.title}</td>\r\n                                                        <td>{service.place}</td>\r\n                                                        <td>{service.target}</td>\r\n                                                        <td>{service.duration}</td>\r\n                                                        <td>{service.validated ? <span style={{ color: \"green\" }}>Validé</span> : <b style={{ color: \"red\" }}>En attente</b>}</td>\r\n                                                        <td className=\"actions\">\r\n                                                            <button onClick={() => this.getSingleEvent(service._id, \"detail\")} className=\"btn btn-outline-dark btn-md ml-3\">Afficher</button>\r\n                                                            <button onClick={() => this.getSingleEvent(service._id, \"reservations\")} className=\"btn btn-dark btn-md ml-3\">Voir les réservations</button>\r\n                                                        </td>\r\n                                                    </tr>\r\n                                                ))\r\n                                            }\r\n                                        </tbody>\r\n                                    </table> : null\r\n                            }\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* View/Update An Event */}\r\n                <ServiceModal\r\n                    user={null}\r\n                    isEditing={true}\r\n                    service={this.state.service}\r\n                    refreshList={this.refreshList}\r\n                    services={this.state.services}\r\n                    loadingAn={this.state.loading}\r\n                    show={this.state.showModal}\r\n                    closeModal={this.closeModal} />\r\n\r\n                {/* New Service */}\r\n                <ServiceModal\r\n                    user={this.props.user}\r\n                    show={this.state.showCreationModal}\r\n                    closeModal={this.closeModal}\r\n                    refreshServiceList={this.refreshServiceList} />\r\n\r\n                {/* reservation list */}\r\n                <Modal show={this.state.showReservationListModal} onHide={() => this.setState({showReservationListModal : false})} size=\"lg\" >\r\n                    <Modal.Header closeButton>\r\n                        <Modal.Title>Liste des réservations</Modal.Title>\r\n                    </Modal.Header>\r\n                    <Modal.Body>\r\n                        <div className=\"container\">\r\n                            <div className=\"row\">\r\n                                <div className=\"col-sm-12 pl-4 pr-4 mt-4 mb-3\">\r\n                                    {this.state.loading ? <div className=\"d-flex justify-content-center\"><Loader /></div>:\r\n                                    this.state.service&&this.state.service.reservations && this.state.service.reservations.length ?\r\n                                            (\r\n                                               <Hoc>\r\n                                               <h3 className=\"mb-3\">{this.state.service.title}</h3>\r\n                                                    <table className=\"table table-bordered reservations-list\">\r\n                                                        <tbody>\r\n                                                            {this.state.service.reservations.map((reservation, i) => (\r\n                                                                <tr key={i}>\r\n                                                                    <th scope=\"row\">{i + 1}</th>\r\n                                                                    <td>{reservation.name}</td>\r\n                                                                    <td>{reservation.email}</td>\r\n                                                                    <td>{reservation.tel}</td>\r\n                                                                    <td>Places: {reservation.numberOfPlaces}</td>\r\n                                                                </tr>\r\n                                                            ))}\r\n                                                        </tbody>\r\n                                                    </table>\r\n                                                    <div className=\"deleteWrapper d-flex mt-auto\">\r\n                                                        <button className=\"btn btn-dark ml-auto mt-3\" onClick={() => this.generateCSV(this.state.service.reservations, this.state.service.title)}>Télécharger la liste&nbsp;<FontAwesomeIcon icon={faDownload} size={\"1x\"} /></button>\r\n                                                    </div>\r\n                                               </Hoc>\r\n                                            ): <div className=\"d-flex justify-content-center\"><p>Aucune réservation.</p></div>\r\n                                    }\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </Modal.Body>\r\n                </Modal>\r\n\r\n            </Hoc>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapPropsToState = state => {\r\n    return {\r\n        user: state.auth.user\r\n    }\r\n}\r\nexport default connect(mapPropsToState)(AdminService);"],"sourceRoot":""}