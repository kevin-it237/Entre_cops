{"version":3,"sources":["../node_modules/@babel/runtime/helpers/extends.js","../node_modules/@babel/runtime/helpers/objectWithoutPropertiesLoose.js","ui/utils/DateFormat.js","ui/admin/AdminUsers/AdminUsers.js"],"names":["_extends","module","exports","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","excluded","sourceKeys","keys","indexOf","__webpack_require__","d","__webpack_exports__","DateFormat","ForNowDateFormat","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","react_moment__WEBPACK_IMPORTED_MODULE_1__","react_moment__WEBPACK_IMPORTED_MODULE_1___default","props","a","createElement","format","date","fromNow","AdminUser","state","showModal","users","error","loading","deleting","deleteUser","id","_this","setState","axios","delete","then","res","filter","user","_id","catch","err","_this2","get","data","_this3","_this$state","react__WEBPACK_IMPORTED_MODULE_5___default","_globalComponent_Hoc__WEBPACK_IMPORTED_MODULE_11__","className","style","fontSize","_globalComponent_Loader__WEBPACK_IMPORTED_MODULE_10__","map","scope","name","email","_utils_DateFormat__WEBPACK_IMPORTED_MODULE_7__","onClick","react_bootstrap_Modal__WEBPACK_IMPORTED_MODULE_6___default","show","size","onHide","Header","closeButton","Title","Body","Footer","react_bootstrap_Button__WEBPACK_IMPORTED_MODULE_8___default","variant","Component"],"mappings":"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","file":"static/js/34.97b874ea.chunk.js","sourcesContent":["function _extends() {\n  module.exports = _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nmodule.exports = _extends;","function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nmodule.exports = _objectWithoutPropertiesLoose;","import React from 'react';\r\nimport Moment from 'react-moment';\r\nimport 'moment/locale/fr';\r\n\r\nexport const DateFormat = (props) => (\r\n    <Moment format=\"YYYY-MM-DD HH:mm\">{props.date}</Moment>\r\n)\r\n\r\nexport const ForNowDateFormat = props => (\r\n    <Moment fromNow>{props.date}</Moment>\r\n)","import React, { Component } from 'react';\r\nimport Modal from 'react-bootstrap/Modal';\r\nimport {DateFormat} from '../../utils/DateFormat'\r\nimport Button from 'react-bootstrap/Button';\r\nimport axios from 'axios';\r\nimport Loader from '../../globalComponent/Loader';\r\nimport Hoc from '../../globalComponent/Hoc';\r\n\r\nclass AdminUser extends Component {\r\n\r\n    state = {\r\n        showModal: false,\r\n        users: [],\r\n        error: '',\r\n        loading: true,\r\n        deleting: false\r\n    }\r\n\r\n    componentWillMount() {\r\n        try {\r\n            axios.get('/api/user/')\r\n            .then(res => {\r\n                this.setState({ users: res.data.users, loading: false, error: '' })\r\n            })\r\n            .catch(err => {\r\n                this.setState({ error: \"Une érreur s'est produite. Veuillez reéssayer.\", loading: false })\r\n            })\r\n        } catch (error) {\r\n            this.setState({ error: \"Une érreur s'est produite. Veuillez reéssayer.\", loading: false })\r\n        }\r\n    }\r\n\r\n    deleteUser = (id) => {\r\n        this.setState({ deleting: true, error: '' })\r\n        axios.delete('api/user/' + id)\r\n        .then(res => {\r\n            let users = this.state.users.filter(user => {\r\n                return user._id !== id;\r\n            })\r\n            this.setState({\r\n                deleting: false,\r\n                'error': '',\r\n                users: users\r\n            })\r\n            this.setState({ deleting: false, error: '' })\r\n        })\r\n        .catch(err => {\r\n            this.setState({ error: \"Une érreur s'est produite. Veuillez reéssayer.\", deleting: false })\r\n        })\r\n    }\r\n\r\n    render() {\r\n        const {error, loading, deleting, users} = this.state;\r\n        return (\r\n            <Hoc>\r\n                <div className=\"container\">\r\n                    <div className=\"row mt-5\">\r\n                        <div className=\"col-sm-12\">\r\n                            <h3 className=\"title\">UTILISATEURS</h3>\r\n                        </div>\r\n                        <div className=\"col-sm-12 text-center\">\r\n                            {error && error.length ? <div className=\"alert alert-danger\" style={{ fontSize: \"1.3rem\" }}>{error}</div> : null}\r\n                            {\r\n                                loading ? <Loader />:\r\n                                    users&&users.length ?\r\n                                    <table className=\"table table-bordered\">\r\n                                        <thead className=\"thead-inverse thead-dark\">\r\n                                            <tr>\r\n                                            <th>#</th>\r\n                                            <th>Nom</th>\r\n                                            <th>Email</th>\r\n                                            <th>Création</th>\r\n                                            <th>Actions</th>\r\n                                            </tr>\r\n                                        </thead>\r\n                                        <tbody>\r\n                                        {\r\n                                            users.map((user, id) => (\r\n                                                <tr key={id}>\r\n                                                    <th scope=\"row\">{id+1}</th>\r\n                                                    <td>{user.name}</td>\r\n                                                    <td>{user.email}</td>\r\n                                                    <td className=\"date\"><DateFormat date={user.date} /></td>\r\n                                                    <td className=\"actions\">\r\n                                                        <button onClick={() => this.deleteUser(user._id)} className=\"btn btn-danger btn-md ml-3\">{deleting ? <Loader />:\"Supprimer\"}</button>\r\n                                                    </td>\r\n                                                </tr>\r\n                                            ))\r\n                                        }\r\n                                        </tbody>\r\n                                    </table>:null\r\n                            }\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                 {/* Add a new Supplier Popup */}\r\n                 <Modal show={this.state.showModal} size=\"lg\" onHide={() => this.setState({showModal: !this.state.showModal})} >\r\n                    <Modal.Header closeButton>\r\n                    <Modal.Title>Détails</Modal.Title>\r\n                    </Modal.Header>\r\n                    <Modal.Body>\r\n                        <div className=\"container\">\r\n                            <div className=\"row\">\r\n                                <div className=\"col-sm-12 pl-4 pr-4 mt-4 mb-3\">\r\n                                    \r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </Modal.Body>\r\n                    <Modal.Footer>\r\n                        <div className=\"py-3\">\r\n                            <Button variant=\"danger\" onClick={() => this.setState({showModal: !this.state.showModal})}>\r\n                                Fermer\r\n                            </Button>\r\n                        </div>\r\n                    </Modal.Footer>\r\n                </Modal>\r\n            </Hoc>\r\n        );\r\n    }\r\n}\r\n\r\nexport default AdminUser;"],"sourceRoot":""}