{"version":3,"sources":["ui/globalComponent/Hoc.js","ui/globalComponent/Loader.js","assets/images/logo.png","ui/users/Notifications/Notifications.js","ui/components/SearchResult/SearchResult.js","ui/globalComponent/Header.js","ui/components/Oauth/OAuth.js"],"names":["Hoc","props","children","react__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","react__WEBPACK_IMPORTED_MODULE_0___default","n","Loader","a","createElement","className","role","style","color","module","exports","p","Notifications","recommandations","Object","toConsumableArray","this","reverse","react_default","slice","map","rec","i","key","visited","href","link","title","index_es","icon","faUserCircle","size","name","Component","SearchResultList","state","searching","results","error","prevProps","_this2","query","trim","length","setState","axios","get","then","res","eventList","data","events","forEach","event","eventType","includes","push","serviceList","services","service","concat","catch","err","anounce","id","SearchResult_SearchResultItem","result","PureComponent","SearchResultItem","_id","src","rootUrl","image","alt","category","Header","user","token","accountValidated","redirect","logout","_this","onLogout","handleInputChange","e","value","target","authData","JSON","parse","localStorage","getItem","socket","socketIOClient","on","to","onAutoSign","_this3","_this$state","nNotifications","filter","home","type","data-toggle","data-target","aria-controls","aria-expanded","aria-label","onChange","placeholder","faSearch","SearchResult_SearchResult","aria-haspopup","faBookmark","aria-labelledby","users_Notifications_Notifications","react_router_dom","logo","width","height","onClick","connect","userId","auth","email","dispatch","autoSignIn","OAuth","disabled","startAuth","popup","openPopup","checkPopup","closeCard","_this$props","provider","console","log","close","photo","onLogin","check","setInterval","closed","undefined","clearInterval","_this$props2","left","window","innerWidth","top","innerHeight","url","open","react__WEBPACK_IMPORTED_MODULE_5___default","_globalComponent_Hoc__WEBPACK_IMPORTED_MODULE_10__","react_social_login_buttons__WEBPACK_IMPORTED_MODULE_9__","iconSize","soclialAuthStart"],"mappings":"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","file":"static/js/10.2ad54796.chunk.js","sourcesContent":["const Hoc = (props) => props.children;\r\nexport default Hoc;","import React from 'react';\r\n\r\nconst Loader = (props) => (\r\n    <div className=\"spinner-border\" role=\"status\" style={{color: props.color}}>\r\n        <span className=\"sr-only\">Loading...</span>\r\n    </div>\r\n);\r\n\r\nexport default Loader;","module.exports = __webpack_public_path__ + \"static/media/logo.919201fe.png\";","import React, { Component } from 'react';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faUserCircle } from '@fortawesome/free-solid-svg-icons';\r\nimport './Notifications.scss';\r\n\r\nclass Notifications extends Component {\r\n    render() {\r\n        let recommandations = [...this.props.recommandations.reverse()];\r\n        recommandations.reverse();\r\n        return (\r\n            <div className=\"recommandations d-flex flex-column\">\r\n            {\r\n                recommandations.slice(0,5).map((rec, i) =>(\r\n                    <div key={i} className={!rec.visited ? \"notvisited rec-item\" : \"rec-item\"}>\r\n                        <a href={rec.link}>\r\n                            <h4>{rec.title}</h4>\r\n                            <div className=\"d-flex\">\r\n                                <div className=\"d-flex flex-row align-items-center\">\r\n                                    <FontAwesomeIcon icon={faUserCircle} size={\"1x\"} />\r\n                                    <h6 className=\"ml-2 mb-0\">Par {rec.name}</h6>\r\n                                </div>\r\n                                {/* <label className=\"ml-auto\">New</label> */}\r\n                            </div>\r\n                        </a>\r\n                    </div>\r\n                ))\r\n            }\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Notifications;","import React, { PureComponent } from 'react';\r\nimport './SearchResult.scss';\r\nimport img from '../../../assets/images/logo.png';\r\nimport axios from 'axios';\r\nimport Loader from  '../../globalComponent/Loader'\r\nimport {rootUrl} from '../../../configs/config'\r\n\r\nclass SearchResultList extends PureComponent {\r\n\r\n    state = {\r\n        searching: false,\r\n        results: [],\r\n        error: ''\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n        if (prevProps.query !== this.props.query) {\r\n            if (this.props.query&&this.props.query.trim().length > 0) {\r\n                const query = this.props.query;\r\n                this.setState({ searching: true, results: [] })\r\n                // search form events\r\n                axios.get('/api/event/'+query+'/search')\r\n                    .then(res => {\r\n                        let eventList = []; \r\n                        res.data.events.forEach(event => { \r\n                            event.eventType = \"event\";\r\n                            if (!this.state.results.includes(event)) {\r\n                                eventList.push(event) ; \r\n                            }\r\n                        });\r\n                        // search form services\r\n                        axios.get('/api/service/' + query + '/search')\r\n                            .then(res => {\r\n                                let serviceList = [];\r\n                                res.data.services.forEach(service => {\r\n                                    service.eventType = \"service\";\r\n                                    if (!this.state.results.includes(service)) {\r\n                                        serviceList.push(service);\r\n                                    }\r\n                                });\r\n                                this.setState({\r\n                                    results: [...eventList, ...serviceList],\r\n                                    searching: false\r\n                                })\r\n                            })\r\n                            .catch(err => {\r\n                                this.setState({ error: \"Une érreur s'est produite. Veuillez recharger\", searching: false })\r\n                            })\r\n                    })\r\n                    .catch(err => {\r\n                        this.setState({ error: \"Une érreur s'est produite. Veuillez recharger\", searching: false })\r\n                    })\r\n                \r\n            } else {\r\n                this.setState({ searching: false })\r\n            }\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className={`searchResult-list ${this.props.className}`}>\r\n                {this.state.error.length ?<div className=\"alert alert-danger text-center\">{this.state.error}</div>:null}\r\n                {\r\n                    this.state.searching ? <div className=\"d-flex justify-content-center p-3\"><Loader/></div>:\r\n                    this.state.results.length ? \r\n                        this.state.results.slice(0,10).map((anounce, id) => <SearchResultItem key={id} result={anounce} />)\r\n                    : <div className=\"d-flex justify-content-center p-3\"><span>Aucun résultat</span></div>   \r\n                }\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default SearchResultList;\r\n\r\nexport const SearchResultItem = (props) => (\r\n    <a href={'/annonce/' + props.result.eventType + '/' + props.result._id} className=\"d-flex searchResult-item\">\r\n        <img src={rootUrl +'/'+ props.result.image} alt=\"\" className=\"mr-3\" />\r\n        <div className=\"d-flex flex-column \">\r\n            <h3>{props.result.title}</h3>\r\n            <span className=\"text-muted\">{props.result.category}</span>\r\n        </div>\r\n    </a>\r\n)","import React, { PureComponent } from 'react';\r\nimport { NavLink, Link } from 'react-router-dom';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { connect } from 'react-redux';\r\nimport { logout } from '../../store/actions';\r\nimport { faSearch, faBookmark } from '@fortawesome/free-solid-svg-icons';\r\nimport './Header.scss';\r\nimport logo from '../../assets/images/logo.png';\r\nimport socketIOClient from 'socket.io-client';\r\n\r\nimport Notifications from '../users/Notifications/Notifications';\r\nimport { rootUrl } from '../../configs/config';\r\nimport {autoSignIn} from '../../store/actions';\r\nimport SearchResult from '../components/SearchResult/SearchResult'\r\nimport Hoc from './Hoc';\r\n\r\nclass Header extends PureComponent {\r\n\r\n    state = {\r\n        user: null,\r\n        name: \"\",\r\n        token: null,\r\n        role: \"\",\r\n        accountValidated: null,\r\n        redirect: false,\r\n        query: \"\"\r\n    }\r\n\r\n    componentDidMount() {\r\n        const authData = JSON.parse(localStorage.getItem(\"authData\"));\r\n        if (authData && authData.user) {\r\n            this.setState({\r\n                user: authData.user,\r\n                name: authData.user.name,\r\n                token: authData.token,\r\n                role: authData.user.role,\r\n                accountValidated: authData.user.accountValidated\r\n            })\r\n\r\n            // WHen user send a recommandattion to another\r\n            const socket = socketIOClient(rootUrl);\r\n            socket.on('display notification', data => {\r\n                const authData = JSON.parse(localStorage.getItem(\"authData\"));\r\n                if (authData&&authData.user) {\r\n                    if (authData.user._id === data.to) {\r\n                        this.props.onAutoSign();\r\n                    }\r\n                }\r\n            })\r\n    \r\n            // When admin validate an anounce\r\n            socket.on('display anounce notification', data => {\r\n                const authData = JSON.parse(localStorage.getItem(\"authData\"));\r\n                if (authData && authData.user) {\r\n                    this.props.onAutoSign();\r\n                }\r\n            })\r\n        }\r\n\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n        if(prevProps.user !== this.props.user) {\r\n            this.setState({\r\n                user: this.props.user,\r\n                name: this.props.name, \r\n                token: this.props.token, \r\n                role: this.props.role, \r\n                accountValidated: this.props.accountValidated\r\n            })\r\n        }\r\n    }\r\n    \r\n    logout = () => {\r\n        this.props.onLogout();\r\n    }\r\n\r\n    handleInputChange = (e) => {\r\n        const value = e.target.value;\r\n        this.setState({ query: value})\r\n    }\r\n\r\n    render() {\r\n        const { name, token, role, accountValidated, user } = this.state;\r\n        let nNotifications = 0;\r\n        if (user && user.recommandations && user.recommandations.length) {\r\n            let unOpened = user.recommandations.filter(rec => {\r\n                return rec.visited === false;\r\n            })\r\n            nNotifications = unOpened.length;\r\n        }\r\n        return (\r\n            <Hoc>\r\n                <nav className={this.props.home ? \"navbar navbar-expand-lg navbar-light bg-light navbar-shadow\": \"navbar navbar-expand-lg navbar-light bg-light navbar-shadow\" }>\r\n                    <div className=\"container\">\r\n                        <button className=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarTogglerDemo03\" aria-controls=\"navbarTogglerDemo03\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n                            <span className=\"navbar-toggler-icon\"></span>\r\n                        </button>\r\n                        <div className=\"search-wrapper\">\r\n                            <form className=\"form-inline d-lg-none my-2 my-lg-0 navbar-brand form-mobile\">\r\n                                <input onChange={(e) => this.handleInputChange(e)} className=\"form-control mr-sm-2\" type=\"text\" placeholder=\"Rechercher...\" aria-label=\"Rechercher...\" />\r\n                                <FontAwesomeIcon icon={faSearch} size={\"2x\"} />\r\n                            </form>\r\n                            {this.state.query.trim().length > 0 ? \r\n                                <SearchResult query={this.state.query} className=\"d-lg-none\" />:null\r\n                            }\r\n                        </div>\r\n                        {\r\n                            token ?\r\n                            <div className=\"dropdown-mobile mt-2\">\r\n                                <a href=\"/recommandations\" className=\"\"  id=\"dropdownMenuButton\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\r\n                                    <FontAwesomeIcon icon={faBookmark} size={\"1x\"} /><sup className=\"ml-1\">{user.recommandations && user.recommandations.length ? user.recommandations.length:0}</sup>\r\n                                </a>\r\n                                    {user.recommandations && user.recommandations.length ? \r\n                                        <div className=\"dropdown-menu\" aria-labelledby=\"dropdownMenuButton\">\r\n                                            <Notifications recommandations={user.recommandations.reverse()} />\r\n                                            <div className=\"notifications-link py-2\">\r\n                                                <a id=\"notifications-link\" className=\"notifications-link pt-3 text-center\" href=\"/user/notifications\">Voir toutes les notifications</a>\r\n                                            </div>\r\n                                        </div> : null\r\n                                    }\r\n                            </div>:null\r\n                                \r\n                        }\r\n                        <Link className=\"navbar-brand\" to=\"/\">\r\n                            <img src={logo} width=\"110\" height=\"100%\" alt=\"Logo\" />\r\n                        </Link>\r\n                        <div className=\"collapse navbar-collapse\" id=\"navbarTogglerDemo03\">\r\n                            <div className=\"ml-auto search-wrapper\">\r\n                                <form className=\"form-inline d-none d-lg-block my-2 my-lg-0 ml-auto mr-4 form-desktop\">\r\n                                    <input onChange={(e) => this.handleInputChange(e)} className=\"form-control mr-sm-2\" type=\"text\" placeholder=\"Rechercher...\" aria-label=\"Rechercher...\" />\r\n                                    <FontAwesomeIcon icon={faSearch} size={\"2x\"} />\r\n                                </form>\r\n                                {this.state.query.trim().length > 0 ? \r\n                                <SearchResult query={this.state.query} className=\"d-none d-lg-block\" />:null\r\n                                }\r\n                            </div>\r\n                            <ul className=\"navbar-nav  mt-2 mt-lg-0\">\r\n                                {\r\n                                    token && role === \"admin\" ?\r\n                                    <li className=\"nav-item\">\r\n                                        <NavLink className=\"nav-link\" to=\"/admin/home\">Admin Dashboard</NavLink>\r\n                                    </li>:null\r\n                                }\r\n                                {\r\n                                    token && role === \"supplier\" && accountValidated ?\r\n                                    <li className=\"nav-item\">\r\n                                        <NavLink className=\"nav-link\" to=\"/dashboard/reservations\">Dashboard</NavLink>\r\n                                    </li>:null\r\n                                }\r\n                                {\r\n                                    token && (role === \"user\" || role === \"supplier\") ?\r\n                                    <li className=\"nav-item\">\r\n                                        <NavLink className=\"nav-link\" to=\"/user/reservations\">Mes Réservations</NavLink>\r\n                                    </li>:null\r\n                                }\r\n                                {\r\n                                    token && (role === \"user\" || role === \"supplier\") ?\r\n                                    <li className=\"nav-item\">\r\n                                        <NavLink className=\"nav-link\" to=\"/user/gallery\">Ma Galerie</NavLink>\r\n                                    </li>:null\r\n                                }\r\n                                {\r\n                                    token && role !== \"admin\"?\r\n                                    <li className=\"nav-item rec-item-desktop\">\r\n                                        <div className=\"dropdown mt-2\">\r\n                                            <a href=\"/recommandations\" className=\"\"  id=\"dropdownMenuButton\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\r\n                                                <FontAwesomeIcon icon={faBookmark} size={\"1x\"} /><sup className=\"ml-1\">{nNotifications}</sup>\r\n                                            </a>\r\n                                            {user.recommandations && user.recommandations.length ?\r\n                                                <div className=\"dropdown-menu\" aria-labelledby=\"dropdownMenuButton\">\r\n                                                    <Notifications recommandations={user.recommandations.reverse()} />\r\n                                                    <div className=\"notifications-link py-2\">\r\n                                                        <Link id=\"notifications-link\" className=\"notifications-link pt-3 text-center\" to=\"/user/notifications\">Voir toutes les notifications</Link>\r\n                                                    </div>\r\n                                                </div> : null\r\n                                            }\r\n                                        </div>\r\n                                    </li>: null\r\n                                        \r\n                                }\r\n                                {\r\n                                    !token ?\r\n                                        <Hoc>\r\n                                            <li className=\"nav-item\">\r\n                                                <NavLink className=\"nav-link\" to=\"/auth/signup\"><i className=\"fa fa-user\"></i>Créer un compte</NavLink>\r\n                                            </li>\r\n                                            <li className=\"nav-item\">\r\n                                                <NavLink className=\"nav-link\" to=\"/auth/login\"><i className=\"fa fa-user\"></i>Se connecter</NavLink>\r\n                                            </li>\r\n                                        </Hoc>\r\n                                        :null\r\n                                }\r\n                            </ul>\r\n                                {\r\n                                    token ?\r\n                                    <div className=\"dropdown\">\r\n                                        <p className=\"dropbtn\">{name}</p>\r\n                                        <div className=\"dropdown-content\">\r\n                                            <NavLink className=\"nav-link\" to=\"/user/profile\"><i className=\"fa fa-user\"></i>Mon profil</NavLink>\r\n                                            <a href=\"/auth/login\" onClick={this.logout}><i className=\"fa fa-sign-out\"></i>Logout</a>\r\n                                        </div>\r\n                                    </div>: null\r\n                                }\r\n                        </div>\r\n                    </div>\r\n                </nav>\r\n            </Hoc>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        userId: state.auth.email,\r\n        email: state.auth.email,\r\n        name: state.auth.name,\r\n        token: state.auth.token,\r\n        role: state.auth.role,\r\n        accountValidated: state.auth.accountValidated,\r\n        user: state.auth.user\r\n    }\r\n}\r\n\r\nconst mapDispatchToState = dispatch => {\r\n    return {\r\n        onLogout: () => dispatch(logout()),\r\n        onAutoSign: () => dispatch(autoSignIn())\r\n    }\r\n}\r\n\r\n\r\nexport default connect(mapStateToProps, mapDispatchToState)(Header);","import React, { Component } from 'react'\r\nimport { rootUrl } from '../../../configs/config';\r\nimport { connect } from 'react-redux';\r\nimport {soclialAuthStart} from '../../../store/actions'\r\nimport { FacebookLoginButton, GoogleLoginButton } from \"react-social-login-buttons\";\r\nimport Hoc from '../../globalComponent/Hoc'\r\n\r\nclass OAuth extends Component {\r\n\r\n    state = {\r\n        disabled: ''\r\n    }\r\n\r\n    componentDidMount() {\r\n        const { socket, provider } = this.props\r\n\r\n        socket.on(provider, user => {\r\n            console.log(user)\r\n            this.popup.close()\r\n            const { name, photo } = user;\r\n            this.props.onLogin(name, photo)\r\n        })\r\n    }\r\n\r\n    checkPopup() {\r\n        const check = setInterval(() => {\r\n            const { popup } = this\r\n            if (!popup || popup.closed || popup.closed === undefined) {\r\n                clearInterval(check)\r\n                this.setState({ disabled: '' })\r\n            }\r\n        }, 1000)\r\n    }\r\n\r\n    openPopup() {\r\n        const { provider, socket } = this.props\r\n        const width = 600, height = 600\r\n        const left = (window.innerWidth / 2) - (width / 2)\r\n        const top = (window.innerHeight / 2) - (height / 2)\r\n        const url = `${rootUrl}/api/auth/${provider}?socketId=${socket.id}`\r\n\r\n        return window.open(url, '',\r\n            `toolbar=no, location=no, directories=no, status=no, menubar=no, \r\n      scrollbars=no, resizable=no, copyhistory=no, width=${width}, \r\n      height=${height}, top=${top}, left=${left}`\r\n        )\r\n    }\r\n\r\n    startAuth = () => {\r\n        if (!this.state.disabled) {\r\n            this.popup = this.openPopup()\r\n            this.checkPopup()\r\n            this.setState({ disabled: 'disabled' })\r\n        }\r\n    }\r\n\r\n    closeCard = () => {\r\n        this.setState({ user: {} })\r\n    }\r\n\r\n    render() {\r\n        const { provider } = this.props\r\n        const { disabled } = this.state\r\n\r\n        return (\r\n            <Hoc>\r\n                {provider ===\"google\"&&<GoogleLoginButton disabled={disabled} onClick={this.startAuth} iconSize=\"23px\" />}\r\n                {provider ===\"facebook\"&&<FacebookLoginButton disabled={disabled} onClick={this.startAuth} iconSize=\"23px\" />}\r\n            </Hoc>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n        onLogin: (name, photo) => dispatch(soclialAuthStart(name, photo))\r\n    }\r\n}\r\n\r\nexport default connect(null, mapDispatchToProps)(OAuth)"],"sourceRoot":""}