{"version":3,"sources":["../node_modules/@babel/runtime/helpers/interopRequireDefault.js","ui/globalComponent/Hoc.js","ui/globalComponent/Loader.js","assets/images/logo.png","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","ui/users/Notifications/Notifications.js","ui/components/SearchResult/SearchResult.js","ui/globalComponent/Header.js","../node_modules/dom-helpers/class/hasClass.js","../node_modules/dom-helpers/class/addClass.js","../node_modules/dom-helpers/class/removeClass.js","ui/users/Gallery/UserGallery.js"],"names":["module","exports","obj","__esModule","default","Hoc","props","children","react__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","react__WEBPACK_IMPORTED_MODULE_0___default","n","Loader","a","createElement","className","role","style","color","p","_toConsumableArray","arr","Array","isArray","i","arr2","length","_arrayWithoutHoles","iter","Symbol","iterator","Object","prototype","toString","call","from","_iterableToArray","TypeError","_nonIterableSpread","d","__webpack_exports__","Notifications","recommandations","toConsumableArray","this","reverse","react_default","slice","map","rec","key","visited","href","link","title","index_es","icon","faUserCircle","size","name","Component","SearchResultList","state","searching","results","error","prevProps","_this2","query","trim","setState","axios","get","then","res","eventList","data","events","forEach","event","eventType","includes","push","serviceList","services","service","concat","catch","err","anounce","id","SearchResult_SearchResultItem","result","PureComponent","SearchResultItem","_id","src","rootUrl","image","alt","category","Header","user","token","accountValidated","redirect","logout","_this","onLogout","handleInputChange","e","value","target","authData","JSON","parse","localStorage","getItem","socket","socketIOClient","on","to","onAutoSign","_this3","_this$state","nNotifications","filter","home","type","data-toggle","data-target","aria-controls","aria-expanded","aria-label","onChange","placeholder","faSearch","SearchResult_SearchResult","aria-haspopup","faBookmark","aria-labelledby","users_Notifications_Notifications","react_router_dom","logo","width","height","onClick","connect","userId","auth","email","dispatch","autoSignIn","element","classList","contains","baseVal","indexOf","_interopRequireDefault","add","_hasClass","setAttribute","replaceClassName","origClass","classToRemove","replace","RegExp","remove","UserGallery","C_Users_User_Desktop_Web_projects_Entre_cops_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","C_Users_User_Desktop_Web_projects_Entre_cops_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","C_Users_User_Desktop_Web_projects_Entre_cops_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","loadGallery","images","gallery","thumbnail","thumbnailWidth","thumbnailHeight","loading","console","log","onSelectImageToRemove","index","img","hasOwnProperty","isSelected","isImageToDelete","deleteFromMyGallery","deleting","remainingImages","newImages","patch","currentImage","react__WEBPACK_IMPORTED_MODULE_5___default","_globalComponent_Hoc__WEBPACK_IMPORTED_MODULE_10__","_globalComponent_Header__WEBPACK_IMPORTED_MODULE_6__","backgroundColor","_globalComponent_Loader__WEBPACK_IMPORTED_MODULE_9__","react_grid_gallery__WEBPACK_IMPORTED_MODULE_7___default","enableLightbox","enableImageSelection","onSelectImage","currentImageWillChange","onCurrentImageChange"],"mappings":"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","file":"static/js/24.b96b3514.chunk.js","sourcesContent":["function _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nmodule.exports = _interopRequireDefault;","const Hoc = (props) => props.children;\r\nexport default Hoc;","import React from 'react';\r\n\r\nconst Loader = (props) => (\r\n    <div className=\"spinner-border\" role=\"status\" style={{color: props.color}}>\r\n        <span className=\"sr-only\">Loading...</span>\r\n    </div>\r\n);\r\n\r\nexport default Loader;","module.exports = __webpack_public_path__ + \"static/media/logo.919201fe.png\";","import arrayWithoutHoles from \"./arrayWithoutHoles\";\nimport iterableToArray from \"./iterableToArray\";\nimport nonIterableSpread from \"./nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || nonIterableSpread();\n}","export default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}","export default function _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}","import React, { Component } from 'react';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faUserCircle } from '@fortawesome/free-solid-svg-icons';\r\nimport './Notifications.scss';\r\n\r\nclass Notifications extends Component {\r\n    render() {\r\n        let recommandations = [...this.props.recommandations.reverse()];\r\n        recommandations.reverse();\r\n        return (\r\n            <div className=\"recommandations d-flex flex-column\">\r\n            {\r\n                recommandations.slice(0,5).map((rec, i) =>(\r\n                    <div key={i} className={!rec.visited ? \"notvisited rec-item\" : \"rec-item\"}>\r\n                        <a href={rec.link}>\r\n                            <h4>{rec.title}</h4>\r\n                            <div className=\"d-flex\">\r\n                                <div className=\"d-flex flex-row align-items-center\">\r\n                                    <FontAwesomeIcon icon={faUserCircle} size={\"1x\"} />\r\n                                    <h6 className=\"ml-2 mb-0\">Par {rec.name}</h6>\r\n                                </div>\r\n                                {/* <label className=\"ml-auto\">New</label> */}\r\n                            </div>\r\n                        </a>\r\n                    </div>\r\n                ))\r\n            }\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Notifications;","import React, { PureComponent } from 'react';\r\nimport './SearchResult.scss';\r\nimport img from '../../../assets/images/logo.png';\r\nimport axios from 'axios';\r\nimport Loader from  '../../globalComponent/Loader'\r\nimport {rootUrl} from '../../../configs/config'\r\n\r\nclass SearchResultList extends PureComponent {\r\n\r\n    state = {\r\n        searching: false,\r\n        results: [],\r\n        error: ''\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n        if (prevProps.query !== this.props.query) {\r\n            if (this.props.query&&this.props.query.trim().length > 0) {\r\n                const query = this.props.query;\r\n                this.setState({ searching: true, results: [] })\r\n                // search form events\r\n                axios.get('/api/event/'+query+'/search')\r\n                    .then(res => {\r\n                        let eventList = []; \r\n                        res.data.events.forEach(event => { \r\n                            event.eventType = \"event\";\r\n                            if (!this.state.results.includes(event)) {\r\n                                eventList.push(event) ; \r\n                            }\r\n                        });\r\n                        // search form services\r\n                        axios.get('/api/service/' + query + '/search')\r\n                            .then(res => {\r\n                                let serviceList = [];\r\n                                res.data.services.forEach(service => {\r\n                                    service.eventType = \"service\";\r\n                                    if (!this.state.results.includes(service)) {\r\n                                        serviceList.push(service);\r\n                                    }\r\n                                });\r\n                                this.setState({\r\n                                    results: [...eventList, ...serviceList],\r\n                                    searching: false\r\n                                })\r\n                            })\r\n                            .catch(err => {\r\n                                this.setState({ error: \"Une érreur s'est produite. Veuillez recharger\", searching: false })\r\n                            })\r\n                    })\r\n                    .catch(err => {\r\n                        this.setState({ error: \"Une érreur s'est produite. Veuillez recharger\", searching: false })\r\n                    })\r\n                \r\n            } else {\r\n                this.setState({ searching: false })\r\n            }\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className={`searchResult-list ${this.props.className}`}>\r\n                {this.state.error.length ?<div className=\"alert alert-danger text-center\">{this.state.error}</div>:null}\r\n                {\r\n                    this.state.searching ? <div className=\"d-flex justify-content-center p-3\"><Loader/></div>:\r\n                    this.state.results.length ? \r\n                        this.state.results.slice(0,10).map((anounce, id) => <SearchResultItem key={id} result={anounce} />)\r\n                    : <div className=\"d-flex justify-content-center p-3\"><span>Aucun résultat</span></div>   \r\n                }\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default SearchResultList;\r\n\r\nexport const SearchResultItem = (props) => (\r\n    <a href={'/annonce/' + props.result.eventType + '/' + props.result._id} className=\"d-flex searchResult-item\">\r\n        <img src={rootUrl +'/'+ props.result.image} alt=\"\" className=\"mr-3\" />\r\n        <div className=\"d-flex flex-column \">\r\n            <h3>{props.result.title}</h3>\r\n            <span className=\"text-muted\">{props.result.category}</span>\r\n        </div>\r\n    </a>\r\n)","import React, { PureComponent } from 'react';\r\nimport { NavLink, Link } from 'react-router-dom';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { connect } from 'react-redux';\r\nimport { logout } from '../../store/actions';\r\nimport { faSearch, faBookmark } from '@fortawesome/free-solid-svg-icons';\r\nimport './Header.scss';\r\nimport logo from '../../assets/images/logo.png';\r\nimport socketIOClient from 'socket.io-client';\r\n\r\nimport Notifications from '../users/Notifications/Notifications';\r\nimport { rootUrl } from '../../configs/config';\r\nimport {autoSignIn} from '../../store/actions';\r\nimport SearchResult from '../components/SearchResult/SearchResult'\r\nimport Hoc from './Hoc';\r\n\r\nclass Header extends PureComponent {\r\n\r\n    state = {\r\n        user: null,\r\n        name: \"\",\r\n        token: null,\r\n        role: \"\",\r\n        accountValidated: null,\r\n        redirect: false,\r\n        query: \"\"\r\n    }\r\n\r\n    componentDidMount() {\r\n        const authData = JSON.parse(localStorage.getItem(\"authData\"));\r\n        if (authData && authData.user) {\r\n            this.setState({\r\n                user: authData.user,\r\n                name: authData.user.name,\r\n                token: authData.token,\r\n                role: authData.user.role,\r\n                accountValidated: authData.user.accountValidated\r\n            })\r\n\r\n            // WHen user send a recommandattion to another\r\n            const socket = socketIOClient(rootUrl);\r\n            socket.on('display notification', data => {\r\n                const authData = JSON.parse(localStorage.getItem(\"authData\"));\r\n                if (authData&&authData.user) {\r\n                    if (authData.user._id === data.to) {\r\n                        this.props.onAutoSign();\r\n                    }\r\n                }\r\n            })\r\n    \r\n            // When admin validate an anounce\r\n            socket.on('display anounce notification', data => {\r\n                const authData = JSON.parse(localStorage.getItem(\"authData\"));\r\n                if (authData && authData.user) {\r\n                    this.props.onAutoSign();\r\n                }\r\n            })\r\n        }\r\n\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n        if(prevProps.user !== this.props.user) {\r\n            this.setState({\r\n                user: this.props.user,\r\n                name: this.props.name, \r\n                token: this.props.token, \r\n                role: this.props.role, \r\n                accountValidated: this.props.accountValidated\r\n            })\r\n        }\r\n    }\r\n    \r\n    logout = () => {\r\n        this.props.onLogout();\r\n    }\r\n\r\n    handleInputChange = (e) => {\r\n        const value = e.target.value;\r\n        this.setState({ query: value})\r\n    }\r\n\r\n    render() {\r\n        const { name, token, role, accountValidated, user } = this.state;\r\n        let nNotifications = 0;\r\n        if (user && user.recommandations && user.recommandations.length) {\r\n            let unOpened = user.recommandations.filter(rec => {\r\n                return rec.visited === false;\r\n            })\r\n            nNotifications = unOpened.length;\r\n        }\r\n        return (\r\n            <Hoc>\r\n                <nav className={this.props.home ? \"navbar navbar-expand-lg navbar-light bg-light navbar-shadow\": \"navbar navbar-expand-lg navbar-light bg-light navbar-shadow\" }>\r\n                    <div className=\"container\">\r\n                        <button className=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarTogglerDemo03\" aria-controls=\"navbarTogglerDemo03\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n                            <span className=\"navbar-toggler-icon\"></span>\r\n                        </button>\r\n                        <div className=\"search-wrapper\">\r\n                            <form className=\"form-inline d-lg-none my-2 my-lg-0 navbar-brand form-mobile\">\r\n                                <input onChange={(e) => this.handleInputChange(e)} className=\"form-control mr-sm-2\" type=\"text\" placeholder=\"Rechercher...\" aria-label=\"Rechercher...\" />\r\n                                <FontAwesomeIcon icon={faSearch} size={\"2x\"} />\r\n                            </form>\r\n                            {this.state.query.trim().length > 0 ? \r\n                                <SearchResult query={this.state.query} className=\"d-lg-none\" />:null\r\n                            }\r\n                        </div>\r\n                        {\r\n                            token ?\r\n                            <div className=\"dropdown-mobile mt-2\">\r\n                                <a href=\"/recommandations\" className=\"\"  id=\"dropdownMenuButton\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\r\n                                    <FontAwesomeIcon icon={faBookmark} size={\"1x\"} /><sup className=\"ml-1\">{user.recommandations && user.recommandations.length ? user.recommandations.length:0}</sup>\r\n                                </a>\r\n                                    {user.recommandations && user.recommandations.length ? \r\n                                        <div className=\"dropdown-menu\" aria-labelledby=\"dropdownMenuButton\">\r\n                                            <Notifications recommandations={user.recommandations.reverse()} />\r\n                                            <div className=\"notifications-link py-2\">\r\n                                                <a id=\"notifications-link\" className=\"notifications-link pt-3 text-center\" href=\"/user/notifications\">Voir toutes les notifications</a>\r\n                                            </div>\r\n                                        </div> : null\r\n                                    }\r\n                            </div>:null\r\n                                \r\n                        }\r\n                        <Link className=\"navbar-brand\" to=\"/\">\r\n                            <img src={logo} width=\"110\" height=\"100%\" alt=\"Logo\" />\r\n                        </Link>\r\n                        <div className=\"collapse navbar-collapse\" id=\"navbarTogglerDemo03\">\r\n                            <div className=\"ml-auto search-wrapper\">\r\n                                <form className=\"form-inline d-none d-lg-block my-2 my-lg-0 ml-auto mr-4 form-desktop\">\r\n                                    <input onChange={(e) => this.handleInputChange(e)} className=\"form-control mr-sm-2\" type=\"text\" placeholder=\"Rechercher...\" aria-label=\"Rechercher...\" />\r\n                                    <FontAwesomeIcon icon={faSearch} size={\"2x\"} />\r\n                                </form>\r\n                                {this.state.query.trim().length > 0 ? \r\n                                <SearchResult query={this.state.query} className=\"d-none d-lg-block\" />:null\r\n                                }\r\n                            </div>\r\n                            <ul className=\"navbar-nav  mt-2 mt-lg-0\">\r\n                                {\r\n                                    token && role === \"admin\" ?\r\n                                    <li className=\"nav-item\">\r\n                                        <NavLink className=\"nav-link\" to=\"/admin/home\">Admin Dashboard</NavLink>\r\n                                    </li>:null\r\n                                }\r\n                                {\r\n                                    token && role === \"supplier\" && accountValidated ?\r\n                                    <li className=\"nav-item\">\r\n                                        <NavLink className=\"nav-link\" to=\"/dashboard/reservations\">Dashboard</NavLink>\r\n                                    </li>:null\r\n                                }\r\n                                {\r\n                                    token && (role === \"user\" || role === \"supplier\") ?\r\n                                    <li className=\"nav-item\">\r\n                                        <NavLink className=\"nav-link\" to=\"/user/reservations\">Mes Réservations</NavLink>\r\n                                    </li>:null\r\n                                }\r\n                                {\r\n                                    token && (role === \"user\" || role === \"supplier\") ?\r\n                                    <li className=\"nav-item\">\r\n                                        <NavLink className=\"nav-link\" to=\"/user/gallery\">Ma Galerie</NavLink>\r\n                                    </li>:null\r\n                                }\r\n                                {\r\n                                    token && role !== \"admin\"?\r\n                                    <li className=\"nav-item rec-item-desktop\">\r\n                                        <div className=\"dropdown mt-2\">\r\n                                            <a href=\"/recommandations\" className=\"\"  id=\"dropdownMenuButton\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\r\n                                                <FontAwesomeIcon icon={faBookmark} size={\"1x\"} /><sup className=\"ml-1\">{nNotifications}</sup>\r\n                                            </a>\r\n                                            {user.recommandations && user.recommandations.length ?\r\n                                                <div className=\"dropdown-menu\" aria-labelledby=\"dropdownMenuButton\">\r\n                                                    <Notifications recommandations={user.recommandations.reverse()} />\r\n                                                    <div className=\"notifications-link py-2\">\r\n                                                        <Link id=\"notifications-link\" className=\"notifications-link pt-3 text-center\" to=\"/user/notifications\">Voir toutes les notifications</Link>\r\n                                                    </div>\r\n                                                </div> : null\r\n                                            }\r\n                                        </div>\r\n                                    </li>: null\r\n                                        \r\n                                }\r\n                                {\r\n                                    !token ?\r\n                                        <Hoc>\r\n                                            <li className=\"nav-item\">\r\n                                                <NavLink className=\"nav-link\" to=\"/auth/signup\"><i className=\"fa fa-user\"></i>Créer un compte</NavLink>\r\n                                            </li>\r\n                                            <li className=\"nav-item\">\r\n                                                <NavLink className=\"nav-link\" to=\"/auth/login\"><i className=\"fa fa-user\"></i>Se connecter</NavLink>\r\n                                            </li>\r\n                                        </Hoc>\r\n                                        :null\r\n                                }\r\n                            </ul>\r\n                                {\r\n                                    token ?\r\n                                    <div className=\"dropdown\">\r\n                                        <p className=\"dropbtn\">{name}</p>\r\n                                        <div className=\"dropdown-content\">\r\n                                            <NavLink className=\"nav-link\" to=\"/user/profile\"><i className=\"fa fa-user\"></i>Mon profil</NavLink>\r\n                                            <a href=\"/auth/login\" onClick={this.logout}><i className=\"fa fa-sign-out\"></i>Logout</a>\r\n                                        </div>\r\n                                    </div>: null\r\n                                }\r\n                        </div>\r\n                    </div>\r\n                </nav>\r\n            </Hoc>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        userId: state.auth.email,\r\n        email: state.auth.email,\r\n        name: state.auth.name,\r\n        token: state.auth.token,\r\n        role: state.auth.role,\r\n        accountValidated: state.auth.accountValidated,\r\n        user: state.auth.user\r\n    }\r\n}\r\n\r\nconst mapDispatchToState = dispatch => {\r\n    return {\r\n        onLogout: () => dispatch(logout()),\r\n        onAutoSign: () => dispatch(autoSignIn())\r\n    }\r\n}\r\n\r\n\r\nexport default connect(mapStateToProps, mapDispatchToState)(Header);","\"use strict\";\n\nexports.__esModule = true;\nexports.default = hasClass;\n\nfunction hasClass(element, className) {\n  if (element.classList) return !!className && element.classList.contains(className);else return (\" \" + (element.className.baseVal || element.className) + \" \").indexOf(\" \" + className + \" \") !== -1;\n}\n\nmodule.exports = exports[\"default\"];","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports.default = addClass;\n\nvar _hasClass = _interopRequireDefault(require(\"./hasClass\"));\n\nfunction addClass(element, className) {\n  if (element.classList) element.classList.add(className);else if (!(0, _hasClass.default)(element, className)) if (typeof element.className === 'string') element.className = element.className + ' ' + className;else element.setAttribute('class', (element.className && element.className.baseVal || '') + ' ' + className);\n}\n\nmodule.exports = exports[\"default\"];","'use strict';\n\nfunction replaceClassName(origClass, classToRemove) {\n  return origClass.replace(new RegExp('(^|\\\\s)' + classToRemove + '(?:\\\\s|$)', 'g'), '$1').replace(/\\s+/g, ' ').replace(/^\\s*|\\s*$/g, '');\n}\n\nmodule.exports = function removeClass(element, className) {\n  if (element.classList) element.classList.remove(className);else if (typeof element.className === 'string') element.className = replaceClassName(element.className, className);else element.setAttribute('class', replaceClassName(element.className && element.className.baseVal || '', className));\n};","import React, { Component } from 'react';\r\nimport Header from '../../globalComponent/Header';\r\nimport Gallery from 'react-grid-gallery';\r\nimport axios from 'axios';\r\nimport Loader from '../../globalComponent/Loader';\r\nimport Hoc from '../../globalComponent/Hoc';\r\n\r\nclass UserGallery extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = { images: [], loading: true, currentImage: 0, isImageToDelete: false, deleting: false };\r\n    }\r\n\r\n    \r\n\r\n    componentDidMount() {\r\n        this.loadGallery()\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n        if(prevProps !== this.props) {\r\n            this.loadGallery()\r\n        }\r\n    }\r\n\r\n    loadGallery = () => {\r\n        const authData = JSON.parse(localStorage.getItem(\"authData\"));\r\n        axios.get('/api/user/' + authData.user._id)\r\n        .then(res => {\r\n            let images = res.data.user.gallery.map((image, id) => (\r\n                {\r\n                    src: image,\r\n                    thumbnail: image,\r\n                    thumbnailWidth: 320,\r\n                    thumbnailHeight: 200\r\n                }\r\n            ));\r\n            images.reverse()\r\n            this.setState({ images: images, loading: false })\r\n        })\r\n        .catch(err => {\r\n            console.log(err)\r\n            this.setState({ images: [], loading: false })\r\n        })\r\n    }    \r\n    \r\n    onSelectImageToRemove = (index, image) => {\r\n        var images = this.state.images.slice();\r\n        var img = images[index];\r\n        if (img.hasOwnProperty(\"isSelected\"))\r\n            img.isSelected = !img.isSelected;\r\n        else\r\n            img.isSelected = true;\r\n\r\n        this.setState({\r\n            images: images\r\n        }, () => {\r\n            const selectedImages = this.state.images.filter(image => image.isSelected === true)\r\n            selectedImages.length ? this.setState({ isImageToDelete: true }) : this.setState({ isImageToDelete: false })\r\n        });\r\n    }\r\n\r\n    deleteFromMyGallery = () => {\r\n        const userId = JSON.parse(localStorage.getItem('authData')).user._id\r\n        this.setState({ deleting: true })\r\n        const remainingImages = this.state.images.filter(image => image.isSelected !== true);\r\n        let newImages = remainingImages.map(image => image.src);\r\n        axios.patch('/api/user/'+ userId +'/gallery/delete', { images: newImages})\r\n        .then(res => {\r\n            this.setState({ deleting: false, images: remainingImages, isImageToDelete: false});\r\n        })\r\n        .catch(err => {\r\n            this.setState({ deleting: false, isImageToDelete: false })\r\n        })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Hoc>\r\n                <Header />\r\n                <section>\r\n                    <div className=\"container py-5 mt-5\">\r\n                        <div className=\"row py-5\" style={{ backgroundColor: \"white\" }}>\r\n                            <div className=\"col-sm-12 p-5\"><h2 className=\"text-center display-5\">MA GALERIE</h2></div>\r\n                            <div className=\"col-sm-12 px-5 pt-0 pb-5 mb-5\" >\r\n                                {\r\n                                    this.state.loading ? <div className=\"d-flex justify-content-center\"><Loader /></div>:\r\n                                        this.state.images.length > 0 ?\r\n                                        <Hoc>\r\n                                            {this.state.isImageToDelete?\r\n                                            this.state.deleting ?<div className=\"d-flex justify-content-center\"><Loader /></div>:\r\n                                            <div className=\"d-flex justify-content-center\">\r\n                                            <button onClick={this.deleteFromMyGallery} className=\"btn btn-danger my-3\">Supprimer</button></div>:null\r\n                                            }\r\n                                            <Gallery \r\n                                                enableLightbox={true}\r\n                                                enableImageSelection={true}\r\n                                                onSelectImage={this.onSelectImageToRemove}\r\n                                                images={this.state.images}\r\n                                                currentImageWillChange={this.onCurrentImageChange}\r\n                                            />\r\n                                        </Hoc>\r\n                                        : <div className=\"d-flex justify-content-center py-5\"><h4>Aucune image dans votre galerie.</h4></div>\r\n                                }\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </section>\r\n            </Hoc>\r\n        );\r\n    }\r\n}\r\n\r\nexport default UserGallery;\r\n"],"sourceRoot":""}