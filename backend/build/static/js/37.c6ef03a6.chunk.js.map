{"version":3,"sources":["ui/components/Services/ServicesItem.js","ui/components/Services/Services.js","ui/components/Services/AllServicesPage.js"],"names":["ServiceItem","props","offre","service","length","slice","react_default","a","createElement","href","_id","className","coupons","nCoupons","src","rootUrl","image","alt","category","title","Services","state","loading","services","error","_this2","this","isHomePage","axios","get","then","res","setState","data","catch","err","isCategoryPage","isFilterPage","prevProps","_this$state","Hoc","Filter","eventType","Loader","map","id","key","ServicesItem","showMore","Component","AllServicesPage","react__WEBPACK_IMPORTED_MODULE_5___default","_globalComponent_Hoc__WEBPACK_IMPORTED_MODULE_7__","_globalComponent_Header__WEBPACK_IMPORTED_MODULE_6__","_Categories_Categories__WEBPACK_IMPORTED_MODULE_9__","_Services__WEBPACK_IMPORTED_MODULE_8__"],"mappings":"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","file":"static/js/37.c6ef03a6.chunk.js","sourcesContent":["import React from 'react';\r\nimport {rootUrl} from '../../../configs/config';\r\n\r\nconst ServiceItem = (props) => {\r\n    const offre = props.service.offre.length <= 90 ? props.service.offre:\r\n        props.service.offre.slice(0, 88) + '...';\r\n    return (\r\n        <a href={\"/annonce/service/\"+props.service._id} className=\"mt-5\">\r\n            <div className=\"card\">\r\n                <div className=\"box\">\r\n                    {props.service.coupons && props.service.coupons.nCoupons > 0 ? <h2 className=\"badge badge-warning custom-badge\">Coupons</h2> : <h2 className=\"badge badge-dark custom-badge\">Pas de coupons</h2>}\r\n                    <div className=\"img\">\r\n                        <img src={rootUrl+'/'+props.service.image} alt=\"Service\" />\r\n                    </div>\r\n                    <div className=\"text-content\">\r\n                        <h2>{props.service.category}<br/>\r\n                        <span>{props.service.title}</span></h2>\r\n                        <p>{offre}</p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </a>\r\n    );\r\n}\r\n\r\nexport default ServiceItem;","import React, { Component } from 'react';\r\nimport ServiceItem from './ServicesItem';\r\nimport Loader from '../../globalComponent/Loader';\r\nimport axios from 'axios';\r\nimport './Services.scss';\r\nimport Filter from '../Filter/Filter'\r\nimport Hoc from '../../globalComponent/Hoc'\r\n\r\nclass Services extends Component {\r\n\r\n    state = {\r\n        loading: true,\r\n        services: [],\r\n        error: ''\r\n    }\r\n\r\n    componentDidMount() {\r\n        if (this.props.isHomePage) {\r\n            axios.get('/api/service/4')\r\n            .then(res => {\r\n                this.setState({ loading: false, services: res.data.services, error: '' })\r\n            })\r\n            .catch(err => {\r\n                this.setState({ loading: false, error: 'Une erreur s\\'est produite. Veuillez recharger la page' })\r\n            })\r\n        } else if (this.props.isCategoryPage) {\r\n            this.setState({ services: this.props.services, loading: false, error: '' })\r\n        } else if (this.props.isFilterPage) {\r\n            this.setState({ services: this.props.services, loading: false, error: '' })\r\n        } else {\r\n            axios.get('/api/service/validated/all')\r\n            .then(res => {\r\n                this.setState({ loading: false, services: res.data.services, error: '' })\r\n            })\r\n            .catch(err => {\r\n                this.setState({ loading: false, error: 'Une erreur s\\'est produite. Veuillez recharger la page' })\r\n            })\r\n        }\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n        if(this.props.services !== prevProps.services) {\r\n            if (this.props.isCategoryPage || this.props.isFilterPage) {\r\n                this.setState({services: this.props.services, loading: false, error: ''})\r\n            }\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const {error, services, loading} = this.state;\r\n        return (\r\n            <Hoc>\r\n                {!this.props.isHomePage&&<Filter />}\r\n                <section className={this.props.isHomePage ? \"services bg-white pb-5\" : \"services pb-5\"}>\r\n                    <div className=\"container pt-3 pb-5\">\r\n                        <div className=\"row pt-5\">\r\n                            <div className=\"col\">\r\n                                <h1 className={this.props.isHomePage ? \"pt-4 pb-4 service-header text-center\" : \"pt-4 pb-4 service-header text-left\"}>\r\n                                    {this.props.eventType}\r\n                                </h1>\r\n                            </div>\r\n                        </div>\r\n                        <div className={loading || error.length || this.props.isHomePage? \"row pb-5 mb-2 justify-content-center\":\"row pb-5 mb-2\"}>\r\n                            {error.length ? <div className=\"alert alert-danger\">{error}</div>:null}\r\n                            {\r\n                                loading ? <div className=\"d-block ml-auto mr-auto justify-content-center\"><Loader/></div>:\r\n                                    services&&services.length ?\r\n                                    services.map((service, id) => (\r\n                                            <div key={id} className=\"col-sm-12 col-md-6 col-lg-3 mt-3\">\r\n                                                <ServiceItem service={service} />\r\n                                            </div>\r\n                                        )): null\r\n                            }\r\n                            {!loading&&services.length === 0 &&!error.length ? <div className=\"d-block ml-auto mr-auto justify-content-center\"><h5>Aucun Service</h5></div>:null}\r\n                        </div>\r\n                            {\r\n                            this.props.isHomePage&&services.length !==0 ?\r\n                                <div className=\"row\">\r\n                                    <div className=\"col text-center see-more\">\r\n                                        <a href=\"/services\" className=\"btn btn-danger\">Voir plus</a>\r\n                                    </div>\r\n                                </div>: null\r\n                            }\r\n                            {\r\n                            this.props.showMore&&services.length !==0 ?\r\n                                <div className=\"row pb-5\">\r\n                                    <div className=\"col text-center see-more\">\r\n                                        <a className=\"btn btn-danger\" href={\"/services/category/\"+ this.props.category}>Voir plus</a>\r\n                                    </div>\r\n                                </div>: null\r\n                            }\r\n                    </div>\r\n                </section>\r\n            </Hoc>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Services;","import React, { Component } from 'react';\r\nimport Header from '../../globalComponent/Header';\r\nimport Hoc from '../../globalComponent/Hoc'\r\nimport Services from './Services';\r\nimport Categories from '../Categories/Categories';\r\n\r\nclass AllServicesPage extends Component {\r\n\r\n    render() {\r\n        return (\r\n            <Hoc>\r\n                <Header />\r\n                <Categories />\r\n                <Services eventType=\"Tous les Services\" isHomePage={false} />\r\n            </Hoc>\r\n        );\r\n    }\r\n}\r\n\r\nexport default AllServicesPage;"],"sourceRoot":""}