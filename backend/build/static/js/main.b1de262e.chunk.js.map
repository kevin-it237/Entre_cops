{"version":3,"sources":["assets/images/user.png","assets/icons/biceps.svg","assets/icons/shopping-store.svg","assets/icons/meat.svg","assets/icons/map-location.svg","assets/icons/idea.svg","assets/icons/graphic-design.svg","assets/icons/237maded.png","assets/icons/photo.svg","assets/images/b2.png","assets/images/logo.png","../node_modules/encoding/lib sync","store/actions/auth.js","store/actions/actionsTypes.js","store/actions/loader.js","ui/users/Notifications/Notifications.js","configs/config.js","ui/globalComponent/Loader.js","ui/components/SearchResult/SearchResult.js","ui/globalComponent/Header.js","ui/globalComponent/Hoc.js","ui/components/Events/EventItem.js","ui/components/Filter/Filter.js","ui/components/Events/Events.js","ui/components/Services/ServicesItem.js","ui/components/Services/Services.js","ui/components/Categories/CategoryItem.js","ui/components/Categories/Categories.js","ui/components/Caroussel/Caroussel.js","ui/components/Supplier/SupplierBanner.js","ui/Home.js","ui/components/Oauth/OAuth.js","ui/components/Forms/SignupForm.js","ui/components/Forms/SignupPage.js","ui/components/Forms/LoginForm.js","ui/components/Forms/LoginPage.js","ui/components/Services/AllServicesPage.js","ui/components/Events/AllEventsPage.js","ui/components/Categories/SingleCategoryPage.js","ui/utils/DateFormat.js","ui/globalComponent/Notifications.js","ui/components/Reviews/ReviewItem.js","ui/components/UserSearchResult/UserSearchResult.js","ui/components/Stars/Stars.js","ui/components/CouponSchema/CouponPreview.js","ui/components/Details/DetailsPage.js","ui/components/Forms/Upload.js","ui/suppliers/Dashboard/EventModal.js","ui/suppliers/Dashboard/ServiceModal.js","ui/suppliers/Dashboard/Dashboard.js","ui/components/Forms/SuplierForm.js","ui/components/Supplier/SupplierRegistration.js","ui/components/Supplier/SupplierConfirmationForm.js","ui/users/Gallery/GalleryItem.js","ui/users/Gallery/GalleryList.js","ui/users/Gallery/GalleryPage.js","ui/users/Gallery/UserGallery.js","ui/users/Profile/Profile.js","ui/users/Notifications/NotificationsPage.js","ui/users/Reservations/Reservations.js","ui/components/Filter/FilterResults.js","ui/components/NotFound/NotFound.js","ui/components/CouponSchema/Coupon.js","ui/admin/AdminCoupons/AdminCoupons.js","ui/admin/Home/Home.js","ui/admin/AdminAnnonces/AdminAnnonces.js","ui/admin/AdminServices/AdminServices.js","ui/admin/AdminSuppliers/AdminSuppliers.js","ui/admin/AdminUsers/AdminUsers.js","ui/admin/AdminSlider/AdminSlider.js","ui/admin/AdminEMails/AdminEMails.js","ui/admin/Admin.js","ui/utils/PrivateRoute.js","App.js","serviceWorker.js","store/reducers/auth.js","store/reducers/loader.js","store/configureStore.js","ui/globalComponent/Footer.js","index.js"],"names":["module","exports","__webpack_require__","p","webpackEmptyContext","req","e","Error","code","keys","resolve","id","startSignup","data","type","login","dispatch","axios","post","email","password","then","res","localStorage","setItem","JSON","stringify","startLogin","clearLoader","catch","err","response","message","authError","error","errorType","logout","removeItem","autoSignIn","authData","getItem","parse","now","Date","token","user","parseInt","expiresDate","get","_id","newAuthData","_objectSpread","console","log","name","userId","previousData","newData","Notifications","recommandations","Object","toConsumableArray","this","props","reverse","react_default","a","createElement","className","slice","map","rec","i","key","visited","href","link","title","index_es","icon","faUserCircle","size","Component","rootUrl","Loader","role","style","color","SearchResultList","state","searching","results","prevProps","_this2","query","trim","length","setState","eventList","events","forEach","event","eventType","includes","push","serviceList","services","service","concat","globalComponent_Loader","anounce","SearchResult_SearchResultItem","result","PureComponent","SearchResultItem","src","image","alt","category","Header","accountValidated","redirect","_this","onLogout","handleInputChange","value","target","socket","socketIOClient","on","to","onAutoSign","_this3","_this$state","nNotifications","filter","react","home","data-toggle","data-target","aria-controls","aria-expanded","aria-label","onChange","placeholder","faSearch","SearchResult_SearchResult","aria-haspopup","faBookmark","aria-labelledby","users_Notifications_Notifications","logo","width","height","react_router_dom","onClick","connect","auth","Hoc","children","EventItem","description","coupons","nCoupons","Filter","date1","date2","tag","town","pickDate","date","field","defineProperty","save","handleChange","searchParams","liveFilter","preventDefault","defaultValue","react_datepicker_min_default","dateFormat","placeholderText","selected","Events","loading","isHomePage","isCategoryPage","isFilterPage","components_Filter_Filter","Events_EventItem","showMore","ServiceItem","offre","Services","ServicesItem","CategoryItem","categoryName","split","join","url","window","location","pathname","imgCoupons","imgSortir","imgBar","imgSante","imgVoyage","imgShopping","madein","Categories","categories","fetchCategories","content","Categories_CategoryItem","imgGallery","Caroussel","images","getBannerImages","banners","bannerImages","data-ride","data-slide-to","minHeight","data-slide","aria-hidden","Home","img","globalComponent_Hoc","ui_globalComponent_Header","components_Caroussel_Caroussel","components_Categories_Categories","components_Events_Events","components_Services_Services","SupplierBanner","OAuth","disabled","startAuth","popup","openPopup","checkPopup","closeCard","_this$props","provider","close","photo","onLogin","check","setInterval","closed","undefined","clearInterval","_this$props2","left","innerWidth","top","innerHeight","open","dist","iconSize","soclialAuthStart","io","SignUpForm","tel","isTyping","formErrors","emailValid","passwordValid","nameValid","formValid","validateField","handleSubmit","onRenderLoader","onSignUp","onClearError","fieldName","fieldValidationErrors","match","validateForm","loader","userLogo","Oauth_OAuth","signup","SigninPage","history","goBack","SignupForm","LoginForm","withRouter","LoginPage","Forms_LoginForm","AllServicesPage","AllEventsPage","loadingServices","loadingEvents","getEventsByCategory","params","getServicesByCategory","isAllAnoucesPage","AnounceType","DateFormat","react_moment_dist_default","format","ForNowDateFormat","fromNow","Notification","react_notifications_component_dist_default","addNotification","store","insert","container","animationIn","animationOut","dismiss","duration","onScreen","ReviewItem","comment","DateFormat_ForNowDateFormat","UserSearchResult","recommand","recommanded","applyRecommandation","makeRecommandation","faCheck","Stars","voting","success","rate","vote","previousValue","newValue","Number","clients","patch","anounceType","setTimeout","number","isSupplierDashboard","faStar","faCheckCircle","CouponPreview","border","backgroundColor","coupon","infos","montant","datelimite","pdfMake","vfs","pdfFonts","DetailsPage","showReservationModal","showRecModal","showCouponModal","showVideo","showToast","downloadingCoupon","announce","userMessage","userEmail","userName","sendingComment","messageValid","commentError","numberOfPlaces","reserving","reservationError","searchingUser","userList","search","recError","validate","searchUser","_this$setState2","users","openRecommandationModal","makeRecommadation","projectId","emit","makeReservation","_this$props$match$par","reservation","DetailsPage_objectSpread","reservations","openReservationModal","submitComment","_this$props$match$par2","newAnnounce","comments","getCoupon","haveMakedReservation","couponError","displayToast","navigator","clipboard","writeText","openMap","_this$props$match$par3","notifications","not","updateOne","file","previewFile","_this$state2","original","thumbnail","Notifications_Notification","image_gallery_default","items","components_Stars_Stars","faCalendar","DateFormat_DateFormat","faMapMarked","place","faAnchor","faComment","video","controls","youtubeVideoLink","mapLink","cursor","owner","otherInfos","problem","components_Reviews_ReviewItem","rows","profileImage","Modal_default","show","onHide","closeButton","Title","Body","for","pattern","Footer","Button_default","variant","ev","components_UserSearchResult_UserSearchResult","CouponPreview_CouponPreview","Upload","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","URL","createObjectURL","files","setFile","label","oldUrl","isEditing","accept","inputElement","click","visibility","preview","ref","input","projectName","align","frameBorder","EventModal","eventVideo","previewImages","titleValid","categoryValid","placeValid","descriptionValid","imageValid","validated","validating","deleting","tags","_this$setState","formData","FormData","append","Array","from","headers","content-type","refreshEventList","closeModal","updateEvent","initCategories","validateEvent","newEvent","EventModal_objectSpread","refreshList","deleteEvent","delete","loadingEv","_this$state3","fontSize","required","showTimeSelect","multiple","Upload_Upload","ServiceModal","cible","probleme","serviceVideo","cibleValid","offreValid","problemeValid","serviceImageValid","loadingAn","refreshServiceList","updateService","validateservice","newservice","ServiceModal_objectSpread","deleteservice","Dashboard","showNewEv","showNewAn","servicesLoading","eventsLoading","error2","closeEventModal","fetchEvents","fetchServices","generateCSV","csvContent","rowArray","row","encodedUri","encodeURI","document","setAttribute","fileName","react_router","scope","faDownload","Dashboard_EventModal","Dashboard_ServiceModal","SupplierForm","telValid","locationValid","servicesValid","profileImageValid","otherInfosValid","closeTo","SupplierRegistration","marginTop","SuplierForm","SupplierConfirmationForm","password2","submitting","supplier","GalleryItem","currentImage","importTomyGallery","bind","assertThisInitialized","onCurrentImageChange","gallery","thumbnailWidth","thumbnailHeight","isSelected","index","toggleModal","deletePublication","lib_Gallery_default","enableLightbox","enableImageSelection","currentImageWillChange","customControls","position","right","bottom","borderRadius","GalleryList","publications","haveSearched","loadGallery","keyPressed","onKeyPress","class","pub","Gallery_GalleryItem","Gallery","Gallery_GalleryList","UserGallery","onSelectImageToRemove","hasOwnProperty","isImageToDelete","deleteFromMyGallery","remainingImages","newImages","onSelectImage","Profile","isTyping2","successReset","successModify","password1","newpassword1","newpassword2","newpassword1Valid","passwordMatch","changingPassword","handleSubmit2","newpassword","_this$props$user","userImg","NotificationsPage","notification","Reservation","showModal","selectedCoupon","displayCoupon","reservations2","coupons2","Tabs","defaultActiveKey","Tab","eventKey","es_Modal","es_Button","FilterResults","startFilter","NotFound","counponToPrint","logoBase64","qr","filename","defaultFileName","pageSize","fillColor","pageMargins","alignment","lineHeight","text","bold","italics","image2base64","require","AdminCoupons","selectedAnnonce","couponValid","removing","openModal","generateCoupon","newEvents","docDefinition","createPdf","previewCoupon","_announce$coupons","removeCoupon","AdminHome","showEventModal","showServiceModal","loadinSingleEv","loadinSingleAn","uploadError","showUploadModal","publishing","succesPublish","publishError","closeSupplierModal","getSingleEvent","getSingleService","list","publish","faCamera","AdminAnnonce","showReservationListModal","showCreationModal","getAllServices","info","AdminService","AdminSupplier","suppliers","loadinSingle","fetcherror","showSupplierCreationModal","getSingleSupplier","validateSupplier","newSupplier","AdminSuppliers_objectSpread","deleteSupplier","AdminUser","deleteUser","AdminSlider","currentBanner","imageToDelete","imagesToUpload","getImages","banner","thumbnailCaption","successUpload","setBanner","removeToBanner","makeSearch","selectOne","allImages","followlink","selectedOne","lightboxWidth","borderBottom","AdminEmails","selectedUsers","sendEmails","object","sending","emails","html","emailError","selectAllUsers","inputClass","toggleBtn","usersCheckboxToggleAll","getElementsByClassName","usersCheckboxes","checked","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","next","done","return","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_loop","_iterator2","editorState","ckeditor_default","editor","ClassicEditor","config","toolbar","onInit","getData","onBlur","onFocus","Admin","nSuppliers","nUsers","loadingSuppliers","loadingUsers","n","faUserFriends","exact","path","component","AdminAnnonces","AdminServices","AdminSuppliers","AdminUsers","PrivateRoute","_ref","rest","objectWithoutProperties","assign","render","App","onAutoSiginIn","SignupPage","SingleCategoryPage","Filter_FilterResults","PrivateRoute_PrivateRoute","SupplierDashboard","UserReservations","Boolean","hostname","initialState","reducer","arguments","action","auth_objectSpread","loader_objectSpread","rootReducer","combineReducers","authReducer","loaderReducer","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","configureStore","createStore","applyMiddleware","thunk","alignItems","defaults","baseURL","ReactDOM","es","src_App","globalComponent_Footer","getElementById","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.b1de262e.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/biceps.31e86318.svg\";","module.exports = __webpack_public_path__ + \"static/media/shopping-store.3c854bf9.svg\";","module.exports = __webpack_public_path__ + \"static/media/meat.d6e5b490.svg\";","module.exports = __webpack_public_path__ + \"static/media/map-location.17ee361c.svg\";","module.exports = __webpack_public_path__ + \"static/media/idea.d6e0b16d.svg\";","module.exports = __webpack_public_path__ + \"static/media/graphic-design.8abfb9cb.svg\";","module.exports = __webpack_public_path__ + \"static/media/237maded.5f6e9e61.png\";","module.exports = __webpack_public_path__ + \"static/media/photo.e3cd8550.svg\";","module.exports = __webpack_public_path__ + \"static/media/b2.8f95ea04.png\";","module.exports = __webpack_public_path__ + \"static/media/logo.fdbe45a0.png\";","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 488;","import * as actionTypes from '../actions/actionsTypes';\r\nimport {clearLoader} from '../actions'\r\nimport axios from 'axios';\r\n\r\nexport const signup = (data) => {\r\n    return dispatch => {\r\n        try {\r\n            axios.post('/api/user/signup', {\r\n                \"email\": data.email,\r\n                \"password\": data.password,\r\n                \"name\": data.name,\r\n                \"tel\": data.tel\r\n            })\r\n            .then(res => {\r\n                // Save in localstorage\r\n                localStorage.setItem('authData', JSON.stringify(res.data));\r\n                dispatch(startSignup(res.data))\r\n                dispatch(clearLoader())\r\n            })\r\n            .catch(err => {\r\n                // User already Exist\r\n                if (err.response.data.message === 'EMAIL_EXIST') {\r\n                    dispatch(authError(\"Adresse Email déja utilisée\"))\r\n                } else {\r\n                    dispatch(authError(\"Une érreur s'est produite, Veuillez reéssayer\"))\r\n                }\r\n                dispatch(clearLoader())\r\n            })\r\n        } catch (error) {\r\n            dispatch(authError(\"Problème de connection.\"))\r\n            dispatch(clearLoader())\r\n        }\r\n    }\r\n};\r\n\r\nexport const startSignup = (data) => {\r\n    return {\r\n        type: actionTypes.SIGNUP,\r\n        data: data\r\n    }\r\n};\r\n\r\n\r\nexport const login = (data) => {\r\n    return dispatch => {\r\n        try {\r\n            axios.post('/api/user/login', {\r\n                \"email\": data.email,\r\n                \"password\": data.password\r\n            })\r\n            .then(res => {\r\n                // Save in localstorage\r\n                localStorage.setItem('authData', JSON.stringify(res.data));\r\n                dispatch(startLogin(res.data))\r\n                dispatch(clearLoader())\r\n            })\r\n            .catch(err => {\r\n                if (err.response.data.message === 'WRONG_PASSWORD'\r\n                    || err.response.data.message === 'EMAIL_NOT_EXIST') {\r\n                    dispatch(authError(\"Vos informations sont Incorrectes.\"))\r\n                } else {\r\n                    dispatch(authError(\"Une érreur s'est produite, Veuillez reéssayer\"))\r\n                }\r\n                dispatch(clearLoader())\r\n            })\r\n        } catch (error) {\r\n            dispatch(authError(\"Erreur de connexion. Veuillez reéssayer.\"))\r\n            dispatch(clearLoader())\r\n        }\r\n    }\r\n};\r\n\r\nexport const startLogin = (data) => {\r\n    return {\r\n        type: actionTypes.LOGIN,\r\n        data: data\r\n    }\r\n};\r\n\r\nexport const authError = (type) => {\r\n    return {\r\n        type: actionTypes.AUTH_ERROR,\r\n        errorType: type\r\n    }\r\n};\r\n\r\nexport const clearError = () => {\r\n    return {\r\n        type: actionTypes.CLEAR_ERROR\r\n    }\r\n};\r\n\r\n\r\nexport const logout = () => {\r\n    localStorage.removeItem('authData')\r\n    return {\r\n        type: actionTypes.LOGOUT\r\n    }\r\n};\r\n\r\n// Auto signin the user when the token expires\r\nexport const autoSignIn = () => {\r\n    let authData = localStorage.getItem(\"authData\");\r\n    authData = JSON.parse(authData);\r\n    return dispatch => {\r\n        const now = new Date();\r\n        if (authData && authData.token && authData.user) {\r\n            const parsedExpiryDate = new Date(parseInt(authData.expiresDate));\r\n            if (parsedExpiryDate > now) {\r\n                // Get user data and update the local storage/ The localstorage can be outdated\r\n                axios.get('/api/user/' + authData.user._id)\r\n                .then(res => {\r\n                    const newAuthData = {...authData};\r\n                    newAuthData.user = res.data.user;\r\n                    localStorage.setItem(\"authData\", JSON.stringify(newAuthData));\r\n                    dispatch(startLogin(newAuthData));\r\n                    console.log(\"Auto sign\")\r\n                })\r\n                .catch(err => {\r\n\r\n                })\r\n            } else {\r\n                // Generate a new token and login the user\r\n                const user = {\r\n                    email: authData.user.email,\r\n                    name: authData.user.name,\r\n                    userId: authData.user.userId,\r\n                }\r\n                axios.post('/api/user/generatetoken', user)\r\n                .then(res => {\r\n                    console.log(\"Re signin\");\r\n                    // Update the localstorage localstorage\r\n                    let previousData = JSON.parse(localStorage.getItem('authData'));\r\n                    previousData.token = res.data.token;\r\n                    previousData.expiresDate = res.data.expiresDate;\r\n                    localStorage.setItem('authData', JSON.stringify(previousData));\r\n                    const newData = {\r\n                        ...user,\r\n                        token: res.data.token,\r\n                        expiresDate: res.data.expiresDate\r\n                    }\r\n                    dispatch(startLogin(newData))\r\n                })\r\n                .catch(err => {\r\n                    dispatch(authError(\"Erreur de connexion. Veuillez reéssayer.\"))\r\n                })\r\n            }\r\n        } else {\r\n            console.log(\"Logout\")\r\n            dispatch(logout());\r\n        }\r\n    }\r\n};\r\n\r\n\r\nexport const soclialAuthStart = (name, photo) => {\r\n    return dispatch => {\r\n        try {\r\n            axios.post('/api/user/socialauth', {\r\n                \"name\": name,\r\n                \"photo\": photo\r\n            })\r\n            .then(res => {\r\n                // Save in localstorage\r\n                localStorage.setItem('authData', JSON.stringify(res.data));\r\n                dispatch(startLogin(res.data))\r\n            })\r\n            .catch(err => {\r\n                console.log({err})\r\n            })\r\n        } catch (error) {\r\n            console.log(error)\r\n        }\r\n    }\r\n};","export const LOGIN = 'LOGIN';\r\nexport const SIGNUP = 'SIGNUP';\r\nexport const LOGOUT = 'LOGOUT';\r\nexport const AUTH_ERROR = 'AUTH_ERROR';\r\nexport const CLEAR_ERROR = 'CLEAR_ERROR';\r\n\r\nexport const SOCIAL_AUTH = 'SOCIAL_AUTH';\r\n\r\nexport const START_LOADING = 'START_LOADING';\r\nexport const STOP_LOADING = 'STOP_LOADING';","import * as actionTypes from '../actions/actionsTypes';\r\n\r\nexport const renderLoader = () => {\r\n    return {\r\n        type: actionTypes.START_LOADING\r\n    }\r\n};\r\n\r\nexport const clearLoader = () => {\r\n    return {\r\n        type: actionTypes.STOP_LOADING\r\n    }\r\n};\r\n\r\n","import React, { Component } from 'react';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faUserCircle } from '@fortawesome/free-solid-svg-icons';\r\nimport './Notifications.scss';\r\n\r\nclass Notifications extends Component {\r\n    render() {\r\n        let recommandations = [...this.props.recommandations.reverse()];\r\n        recommandations.reverse();\r\n        return (\r\n            <div className=\"recommandations d-flex flex-column\">\r\n            {\r\n                recommandations.slice(0,5).map((rec, i) =>(\r\n                    <div key={i} className={!rec.visited ? \"notvisited rec-item\" : \"rec-item\"}>\r\n                        <a href={rec.link}>\r\n                            <h4>{rec.title}</h4>\r\n                            <div className=\"d-flex\">\r\n                                <div className=\"d-flex flex-row align-items-center\">\r\n                                    <FontAwesomeIcon icon={faUserCircle} size={\"1x\"} />\r\n                                    <h6 className=\"ml-2 mb-0\">Par {rec.name}</h6>\r\n                                </div>\r\n                                {/* <label className=\"ml-auto\">New</label> */}\r\n                            </div>\r\n                        </a>\r\n                    </div>\r\n                ))\r\n            }\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Notifications;","//export const rootUrl = \"http://localhost:5000\";\r\nexport  const rootUrl = \"https://entrecops.co\";","import React from 'react';\r\n\r\nconst Loader = (props) => (\r\n    <div className=\"spinner-border\" role=\"status\" style={{color: props.color}}>\r\n        <span className=\"sr-only\">Loading...</span>\r\n    </div>\r\n);\r\n\r\nexport default Loader;","import React, { PureComponent } from 'react';\r\nimport './SearchResult.scss';\r\nimport img from '../../../assets/images/logo.png';\r\nimport axios from 'axios';\r\nimport Loader from  '../../globalComponent/Loader'\r\nimport {rootUrl} from '../../../configs/config'\r\n\r\nclass SearchResultList extends PureComponent {\r\n\r\n    state = {\r\n        searching: false,\r\n        results: [],\r\n        error: ''\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n        if (prevProps.query !== this.props.query) {\r\n            if (this.props.query&&this.props.query.trim().length > 0) {\r\n                const query = this.props.query;\r\n                this.setState({ searching: true, results: [] })\r\n                // search form events\r\n                axios.get('/api/event/'+query+'/search')\r\n                    .then(res => {\r\n                        let eventList = []; \r\n                        res.data.events.forEach(event => { \r\n                            event.eventType = \"event\";\r\n                            if (!this.state.results.includes(event)) {\r\n                                eventList.push(event) ; \r\n                            }\r\n                        });\r\n                        // search form services\r\n                        axios.get('/api/service/' + query + '/search')\r\n                            .then(res => {\r\n                                let serviceList = [];\r\n                                res.data.services.forEach(service => {\r\n                                    service.eventType = \"service\";\r\n                                    if (!this.state.results.includes(service)) {\r\n                                        serviceList.push(service);\r\n                                    }\r\n                                });\r\n                                this.setState({\r\n                                    results: [...eventList, ...serviceList],\r\n                                    searching: false\r\n                                })\r\n                            })\r\n                            .catch(err => {\r\n                                this.setState({ error: \"Une érreur s'est produite. Veuillez recharger\", searching: false })\r\n                            })\r\n                    })\r\n                    .catch(err => {\r\n                        this.setState({ error: \"Une érreur s'est produite. Veuillez recharger\", searching: false })\r\n                    })\r\n                \r\n            } else {\r\n                this.setState({ searching: false })\r\n            }\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className={`searchResult-list ${this.props.className}`}>\r\n                {this.state.error.length ?<div className=\"alert alert-danger text-center\">{this.state.error}</div>:null}\r\n                {\r\n                    this.state.searching ? <div className=\"d-flex justify-content-center p-3\"><Loader/></div>:\r\n                    this.state.results.length ? \r\n                        this.state.results.slice(0,10).map((anounce, id) => <SearchResultItem key={id} result={anounce} />)\r\n                    : <div className=\"d-flex justify-content-center p-3\"><span>Aucun résultat</span></div>   \r\n                }\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default SearchResultList;\r\n\r\nexport const SearchResultItem = (props) => (\r\n    <a href={'/annonce/' + props.result.eventType + '/' + props.result._id} className=\"d-flex searchResult-item\">\r\n        <img src={rootUrl +'/'+ props.result.image} alt=\"\" className=\"mr-3\" />\r\n        <div className=\"d-flex flex-column \">\r\n            <h3>{props.result.title}</h3>\r\n            <span className=\"text-muted\">{props.result.category}</span>\r\n        </div>\r\n    </a>\r\n)","import React, { PureComponent, Fragment } from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { connect } from 'react-redux';\r\nimport { logout } from '../../store/actions';\r\nimport { faSearch, faBookmark } from '@fortawesome/free-solid-svg-icons';\r\nimport './Header.scss';\r\nimport logo from '../../assets/images/logo.png';\r\nimport socketIOClient from 'socket.io-client';\r\n\r\nimport Notifications from '../users/Notifications/Notifications';\r\nimport { rootUrl } from '../../configs/config';\r\nimport {autoSignIn} from '../../store/actions';\r\nimport SearchResult from '../components/SearchResult/SearchResult'\r\n\r\nclass Header extends PureComponent {\r\n\r\n    state = {\r\n        user: null,\r\n        name: \"\",\r\n        token: null,\r\n        role: \"\",\r\n        accountValidated: null,\r\n        redirect: false,\r\n        query: \"\"\r\n    }\r\n\r\n    componentDidMount() {\r\n        const authData = JSON.parse(localStorage.getItem(\"authData\"));\r\n        if (authData && authData.user) {\r\n            this.setState({\r\n                user: authData.user,\r\n                name: authData.user.name,\r\n                token: authData.token,\r\n                role: authData.user.role,\r\n                accountValidated: authData.user.accountValidated\r\n            })\r\n        }\r\n\r\n        // WHen user send a recommandattion to another\r\n        const socket = socketIOClient(rootUrl);\r\n        socket.on('display notification', data => {\r\n            const authData = JSON.parse(localStorage.getItem(\"authData\"));\r\n            if (authData&&authData.user) {\r\n                if (authData.user._id === data.to) {\r\n                    this.props.onAutoSign();\r\n                }\r\n            }\r\n        })\r\n\r\n        // When admin validate an anounce\r\n        socket.on('display anounce notification', data => {\r\n            const authData = JSON.parse(localStorage.getItem(\"authData\"));\r\n            if (authData && authData.user) {\r\n                this.props.onAutoSign();\r\n            }\r\n        })\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n        if(prevProps.user !== this.props.user) {\r\n            this.setState({\r\n                user: this.props.user,\r\n                name: this.props.name, \r\n                token: this.props.token, \r\n                role: this.props.role, \r\n                accountValidated: this.props.accountValidated\r\n            })\r\n        }\r\n    }\r\n    \r\n    logout = () => {\r\n        this.props.onLogout();\r\n    }\r\n\r\n    handleInputChange = (e) => {\r\n        const value = e.target.value;\r\n        this.setState({ query: value})\r\n    }\r\n\r\n    render() {\r\n        const { name, token, role, accountValidated, user } = this.state;\r\n        let nNotifications = 0;\r\n        if (user && user.recommandations && user.recommandations.length) {\r\n            let unOpened = user.recommandations.filter(rec => {\r\n                return rec.visited === false;\r\n            })\r\n            nNotifications = unOpened.length;\r\n        }\r\n        return (\r\n            <Fragment>\r\n                <nav className={this.props.home ? \"navbar navbar-expand-lg navbar-light bg-light navbar-shadow\": \"navbar navbar-expand-lg navbar-light bg-light navbar-shadow\" }>\r\n                    <div className=\"container\">\r\n                        <button className=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarTogglerDemo03\" aria-controls=\"navbarTogglerDemo03\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n                            <span className=\"navbar-toggler-icon\"></span>\r\n                        </button>\r\n                        <div className=\"search-wrapper\">\r\n                            <form className=\"form-inline d-lg-none my-2 my-lg-0 navbar-brand form-mobile\">\r\n                                <input onChange={(e) => this.handleInputChange(e)} className=\"form-control mr-sm-2\" type=\"text\" placeholder=\"Rechercher...\" aria-label=\"Rechercher...\" />\r\n                                <FontAwesomeIcon icon={faSearch} size={\"2x\"} />\r\n                            </form>\r\n                            {this.state.query.trim().length > 0 ? \r\n                                <SearchResult query={this.state.query} className=\"d-lg-none\" />:null\r\n                            }\r\n                        </div>\r\n                        {\r\n                            token ?\r\n                            <div className=\"dropdown-mobile mt-2\">\r\n                                <a href=\"/recommandations\" className=\"\"  id=\"dropdownMenuButton\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\r\n                                    <FontAwesomeIcon icon={faBookmark} size={\"1x\"} /><sup className=\"ml-1\">{user.recommandations && user.recommandations.length ? user.recommandations.length:0}</sup>\r\n                                </a>\r\n                                    {user.recommandations && user.recommandations.length ? \r\n                                        <div className=\"dropdown-menu\" aria-labelledby=\"dropdownMenuButton\">\r\n                                            <Notifications recommandations={user.recommandations.reverse()} />\r\n                                            <div className=\"notifications-link py-2\">\r\n                                                <a id=\"notifications-link\" className=\"notifications-link pt-3 text-center\" href=\"/user/notifications\">Voir toutes les notifications</a>\r\n                                            </div>\r\n                                        </div> : null\r\n                                    }\r\n                            </div>:null\r\n                                \r\n                        }\r\n                        <a className=\"navbar-brand\" href=\"/\">\r\n                            <img src={logo} width=\"110\" height=\"100%\" alt=\"Logo\" />\r\n                        </a>\r\n                        <div className=\"collapse navbar-collapse\" id=\"navbarTogglerDemo03\">\r\n                            <div className=\"ml-auto search-wrapper\">\r\n                                <form className=\"form-inline d-none d-lg-block my-2 my-lg-0 ml-auto mr-4 form-desktop\">\r\n                                    <input onChange={(e) => this.handleInputChange(e)} className=\"form-control mr-sm-2\" type=\"text\" placeholder=\"Rechercher...\" aria-label=\"Rechercher...\" />\r\n                                    <FontAwesomeIcon icon={faSearch} size={\"2x\"} />\r\n                                </form>\r\n                                {this.state.query.trim().length > 0 ? \r\n                                <SearchResult query={this.state.query} className=\"d-none d-lg-block\" />:null\r\n                                }\r\n                            </div>\r\n                            <ul className=\"navbar-nav  mt-2 mt-lg-0\">\r\n                                {\r\n                                    token && role === \"admin\" ?\r\n                                    <li className=\"nav-item\">\r\n                                        <NavLink className=\"nav-link\" to=\"/admin/home\">Admin Dashboard</NavLink>\r\n                                    </li>:null\r\n                                }\r\n                                {\r\n                                    token && role === \"supplier\" && accountValidated ?\r\n                                    <li className=\"nav-item\">\r\n                                        <NavLink className=\"nav-link\" to=\"/dashboard/reservations\">Dashboard</NavLink>\r\n                                    </li>:null\r\n                                }\r\n                                {\r\n                                    token && (role === \"user\" || role === \"supplier\") ?\r\n                                    <li className=\"nav-item\">\r\n                                        <NavLink className=\"nav-link\" to=\"/user/reservations\">Mes Réservations</NavLink>\r\n                                    </li>:null\r\n                                }\r\n                                {\r\n                                    token && (role === \"user\" || role === \"supplier\") ?\r\n                                    <li className=\"nav-item\">\r\n                                        <NavLink className=\"nav-link\" to=\"/user/gallery\">Ma Galerie</NavLink>\r\n                                    </li>:null\r\n                                }\r\n                                {\r\n                                    token && role !== \"admin\"?\r\n                                    <li className=\"nav-item rec-item-desktop\">\r\n                                        <div className=\"dropdown mt-2\">\r\n                                            <a href=\"/recommandations\" className=\"\"  id=\"dropdownMenuButton\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\r\n                                                <FontAwesomeIcon icon={faBookmark} size={\"1x\"} /><sup className=\"ml-1\">{nNotifications}</sup>\r\n                                            </a>\r\n                                            {user.recommandations && user.recommandations.length ?\r\n                                                <div className=\"dropdown-menu\" aria-labelledby=\"dropdownMenuButton\">\r\n                                                    <Notifications recommandations={user.recommandations.reverse()} />\r\n                                                    <div className=\"notifications-link py-2\">\r\n                                                        <a id=\"notifications-link\" className=\"notifications-link pt-3 text-center\" href=\"/user/notifications\">Voir toutes les notifications</a>\r\n                                                    </div>\r\n                                                </div> : null\r\n                                            }\r\n                                        </div>\r\n                                    </li>: null\r\n                                        \r\n                                }\r\n                                {\r\n                                    !token ?\r\n                                        <Fragment>\r\n                                            <li className=\"nav-item\">\r\n                                                <NavLink className=\"nav-link\" to=\"/auth/signup\"><i className=\"fa fa-user\"></i>Créer un compte</NavLink>\r\n                                            </li>\r\n                                            <li className=\"nav-item\">\r\n                                                <NavLink className=\"nav-link\" to=\"/auth/login\"><i className=\"fa fa-user\"></i>Se connecter</NavLink>\r\n                                            </li>\r\n                                        </Fragment>\r\n                                        :null\r\n                                }\r\n                            </ul>\r\n                                {\r\n                                    token ?\r\n                                    <div className=\"dropdown\">\r\n                                        <p className=\"dropbtn\">{name}</p>\r\n                                        <div className=\"dropdown-content\">\r\n                                            <a className=\"nav-link\" href=\"/user/profile\"><i className=\"fa fa-user\"></i>Mon profil</a>\r\n                                            <a href=\"/auth/login\" onClick={this.logout}><i className=\"fa fa-sign-out\"></i>Logout</a>\r\n                                        </div>\r\n                                    </div>: null\r\n                                }\r\n                        </div>\r\n                    </div>\r\n                </nav>\r\n            </Fragment>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        userId: state.auth.email,\r\n        email: state.auth.email,\r\n        name: state.auth.name,\r\n        token: state.auth.token,\r\n        role: state.auth.role,\r\n        accountValidated: state.auth.accountValidated,\r\n        user: state.auth.user\r\n    }\r\n}\r\n\r\nconst mapDispatchToState = dispatch => {\r\n    return {\r\n        onLogout: () => dispatch(logout()),\r\n        onAutoSign: () => dispatch(autoSignIn())\r\n    }\r\n}\r\n\r\n\r\nexport default connect(mapStateToProps, mapDispatchToState)(Header);","const Hoc = (props) => props.children;\r\nexport default Hoc;","import React from 'react';\r\nimport {rootUrl} from '../../../configs/config';\r\n\r\nconst EventItem = (props) => {\r\n    const textLength = props.event.description.length;\r\n    const description = textLength <= 95 ? props.event.description:\r\n        props.event.description.slice(0, 93) + '...';\r\n    return (\r\n        <a href={\"/annonce/event/\" + props.event._id} className=\"home mt-4\">\r\n            {props.event.coupons && props.event.coupons.nCoupons > 0 ? <h2 className=\"badge badge-warning custom-badge\">Coupons</h2> : <h2 className=\"badge badge-dark custom-badge\">Pas de coupons</h2>}\r\n            <img src={rootUrl+'/'+props.event.image} alt=\"\" className=\"home__img\"/>\r\n            <h5 className=\"home_name\">{props.event.title}</h5>\r\n            <div className=\"home_content\">\r\n                <center>\r\n                    <p>{description}</p>\r\n                </center>\r\n            </div>\r\n            <button className=\"btn home__btn\">Consulter</button>\r\n        </a>\r\n    );\r\n}\r\n\r\nexport default EventItem;","import React, { Component } from 'react';\r\nimport './Filter.scss';\r\nimport DatePicker from \"react-datepicker\";\r\nimport {Link} from 'react-router-dom';\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faSearch } from '@fortawesome/free-solid-svg-icons';\r\n\r\nclass Filter extends Component {\r\n    state = {\r\n        date1: null,\r\n        date2: null,\r\n        category: \"\",\r\n        tag: \"\",\r\n        town: \"\"\r\n    }\r\n\r\n    pickDate = (date, field) => {\r\n        this.setState({ [field]: date }, this.save)\r\n    }\r\n    \r\n    handleChange = (e) => {\r\n        const value = e.target.value.trim();\r\n        const name = e.target.name;\r\n        this.setState({[name]: value}, this.save)\r\n    }\r\n\r\n    // save search params to localstorage\r\n    save = () => {\r\n        const searchParams = this.state;\r\n        localStorage.setItem(\"searchParams\", JSON.stringify(searchParams))\r\n    }\r\n\r\n    liveFilter = (e) => {\r\n        e.preventDefault();\r\n    }\r\n\r\n    render() {\r\n        const { date1, date2, category, town, tag} = this.state;\r\n        return (\r\n            <section className=\"filter-row\">\r\n                <div className=\"filter container\">\r\n                    <div className=\"row justify-content-center align-items-center py-4\">\r\n                        <div className=\"form-group col-sm-6 col-md-2 mt-2\">\r\n                            <label className=\"mb-4 d-block\" id=\"cat\">Catégories</label>\r\n                            <select name=\"category\" id=\"inputState\" onChange={(e) => this.handleChange(e)} defaultValue={category} className=\"form-control form-control-lg\">\r\n                                <option defaultValue>Choisir la catégorie</option>\r\n                                <option>Coupons</option>\r\n                                <option>Sortir</option>\r\n                                <option>Bar louge & Restaurants</option>\r\n                                <option>Shopping</option>\r\n                                <option>Beauté & Santé</option>\r\n                                <option>Voyages</option>\r\n                                <option>Made in 237</option>\r\n                            </select>\r\n                        </div>\r\n                        <div className=\"form-group col-sm-6 col-md-2 mt-sm-2\">\r\n                            <label>Ville</label>\r\n                            <input type=\"text\" onChange={(e) => this.handleChange(e)} name=\"town\" className=\"form-control\" value={town} id=\"ville\" placeholder=\"Entrez une ville\" />\r\n                        </div>\r\n                        <div className=\"form-group col-sm-6 col-md-2 mt-sm-2\">\r\n                            <label>Tag</label>\r\n                            <input type=\"text\" onChange={(e) => this.handleChange(e)} name=\"tag\" className=\"form-control\" value={tag} id=\"tag\" placeholder=\"Entrez un tag\" />\r\n                        </div>\r\n                        <div className=\"form-group col-sm-6 col-md-2 mt-sm-2\">\r\n                            <label>Se déroulant entre le:</label>\r\n                            <DatePicker \r\n                                dateFormat=\"Pp\" \r\n                                placeholderText=\"Choisissez une date\"\r\n                                className=\"form-control\" selected={date1}\r\n                                onChange={date => this.pickDate(date, \"date1\")} />\r\n                        </div>\r\n                        <div className=\"form-group col-sm-6 col-md-2 mt-sm-2\">\r\n                            <label>Et le:</label>\r\n                            <DatePicker \r\n                                dateFormat=\"Pp\" id=\"date2\"\r\n                                placeholderText=\"Choisissez une date\"\r\n                                className=\"form-control\" selected={date2}\r\n                                onChange={date => this.pickDate(date, \"date2\")} />\r\n                        </div>\r\n                        <div className=\"form-group col-sm-12 col-md-1 mt-sm-2\">\r\n                            <Link to=\"/filter\" className=\"button\"><FontAwesomeIcon icon={faSearch} size=\"1x\" /></Link>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </section>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Filter;","import React, { Component, Fragment } from 'react';\r\nimport EventItem from './EventItem';\r\nimport Loader from '../../globalComponent/Loader';\r\nimport axios from 'axios';\r\nimport './Events.scss';\r\nimport Filter from '../Filter/Filter';\r\nclass Events extends Component {\r\n\r\n    state = {\r\n        loading: true,\r\n        events: [],\r\n        error: ''\r\n    }\r\n\r\n    componentDidMount() {\r\n        if(this.props.isHomePage) {\r\n            axios.get(\"/api/event/4\")\r\n            .then(res => {\r\n                this.setState({ loading: false, events: res.data.events, error: '' })\r\n            })\r\n            .catch(err => {\r\n                this.setState({ loading: false, error: 'Une erreur s\\'est produite. Veuillez recharger la page' })\r\n            })\r\n        } else if(this.props.isCategoryPage) {\r\n            this.setState({ events: this.props.events, loading: false, error: '' })\r\n        } else if (this.props.isFilterPage) {\r\n            this.setState({ events: this.props.events, loading: false, error: '' })\r\n        } else {\r\n            axios.get(\"/api/event/validated/all\")\r\n            .then(res => {\r\n                this.setState({ loading: false, events: res.data.events, error: '' })\r\n            })\r\n            .catch(err => {\r\n                this.setState({ loading: false, error: 'Une erreur s\\'est produite. Veuillez recharger la page' })\r\n            })\r\n        }\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n        if(this.props.events !== prevProps.events) {\r\n            if (this.props.isCategoryPage || this.props.isFilterPage) {\r\n                this.setState({events: this.props.events, loading: false, error: ''})\r\n            }\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const {error, events, loading} = this.state;\r\n        return (\r\n            <Fragment>\r\n                {!this.props.isHomePage&&<Filter />}\r\n                <section className={this.props.isHomePage ? \"events pt-5\":\"events pt-5 bgWhite\"} id=\"events\">\r\n                    <div className=\"container pb-5\">\r\n                        <div className=\"row pt-5\">\r\n                            <div className=\"col-sm-12\">\r\n                                <h3 className={this.props.isHomePage ? \"event-header text-center\" : \"pt-4 pb-1 event-header text-left\"}>\r\n                                    {this.props.eventType}\r\n                                </h3>\r\n                            </div>\r\n                        </div>\r\n                        <div className={loading || error.length || this.props.isHomePage? \"row pb-5 mb-2 justify-content-center\":\"row pb-5 mb-3 px-2\"}>\r\n                            {error&&error.length ? <div className=\"alert alert-danger\">{error}</div>:null}\r\n                            {\r\n                                loading ? <div className=\"d-block ml-auto mr-auto justify-content-center\"><Loader/></div>:\r\n                                    events&&events.length ?\r\n                                        events.map((event, id) => (\r\n                                            <div key={id} className=\"col-sm-12 col-md-6 col-lg-3 mt-3\">\r\n                                                <EventItem event={event} />\r\n                                            </div>\r\n                                        )): null\r\n                            }\r\n                            {!loading&&events.length === 0 &&!error.length ? <div className=\"d-block ml-auto mr-auto justify-content-center\"><h5>Aucune Actualité</h5></div>:null}\r\n                        </div>\r\n                        {\r\n                            this.props.isHomePage&&events.length !==0 ?\r\n                            <div className=\"row pb-5\">\r\n                                <div className=\"col text-center see-more\">\r\n                                    <a className=\"btn btn-danger\" href=\"/events\">Voir plus</a>\r\n                                </div>\r\n                            </div> : null\r\n                        }\r\n                        {\r\n                            this.props.showMore&&events.length !==0 ?\r\n                            <div className=\"row pb-5\">\r\n                                <div className=\"col text-center see-more\">\r\n                                    <a className=\"btn btn-danger\" href={\"/events/category/\"+this.props.category}>Voir plus</a>\r\n                                </div>\r\n                            </div> : null\r\n                        }\r\n                    </div>\r\n                </section> \r\n            </Fragment>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Events;","import React from 'react';\r\nimport {rootUrl} from '../../../configs/config';\r\n\r\nconst ServiceItem = (props) => {\r\n    const offre = props.service.offre.length <= 90 ? props.service.offre:\r\n        props.service.offre.slice(0, 88) + '...';\r\n    return (\r\n        <a href={\"/annonce/service/\"+props.service._id} className=\"mt-5\">\r\n            <div className=\"card\">\r\n                <div className=\"box\">\r\n                    {props.service.coupons && props.service.coupons.nCoupons > 0 ? <h2 className=\"badge badge-warning custom-badge\">Coupons</h2> : <h2 className=\"badge badge-dark custom-badge\">Pas de coupons</h2>}\r\n                    <div className=\"img\">\r\n                        <img src={rootUrl+'/'+props.service.image} alt=\"Service\" />\r\n                    </div>\r\n                    <div className=\"text-content\">\r\n                        <h2>{props.service.category}<br/>\r\n                        <span>{props.service.title}</span></h2>\r\n                        <p>{offre}</p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </a>\r\n    );\r\n}\r\n\r\nexport default ServiceItem;","import React, { Component, Fragment } from 'react';\r\nimport ServiceItem from './ServicesItem';\r\nimport Loader from '../../globalComponent/Loader';\r\nimport axios from 'axios';\r\nimport './Services.scss';\r\nimport Filter from '../Filter/Filter'\r\n\r\nclass Services extends Component {\r\n\r\n    state = {\r\n        loading: true,\r\n        services: [],\r\n        error: ''\r\n    }\r\n\r\n    componentDidMount() {\r\n        if (this.props.isHomePage) {\r\n            axios.get('/api/service/4')\r\n            .then(res => {\r\n                this.setState({ loading: false, services: res.data.services, error: '' })\r\n            })\r\n            .catch(err => {\r\n                this.setState({ loading: false, error: 'Une erreur s\\'est produite. Veuillez recharger la page' })\r\n            })\r\n        } else if (this.props.isCategoryPage) {\r\n            this.setState({ services: this.props.services, loading: false, error: '' })\r\n        } else if (this.props.isFilterPage) {\r\n            this.setState({ services: this.props.services, loading: false, error: '' })\r\n        } else {\r\n            axios.get('/api/service/validated/all')\r\n            .then(res => {\r\n                this.setState({ loading: false, services: res.data.services, error: '' })\r\n            })\r\n            .catch(err => {\r\n                this.setState({ loading: false, error: 'Une erreur s\\'est produite. Veuillez recharger la page' })\r\n            })\r\n        }\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n        if(this.props.services !== prevProps.services) {\r\n            if (this.props.isCategoryPage || this.props.isFilterPage) {\r\n                this.setState({services: this.props.services, loading: false, error: ''})\r\n            }\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const {error, services, loading} = this.state;\r\n        return (\r\n            <Fragment>\r\n                {!this.props.isHomePage&&<Filter />}\r\n                <section className={this.props.isHomePage ? \"services bg-white pb-5\" : \"services pb-5\"}>\r\n                    <div className=\"container pt-3 pb-5\">\r\n                        <div className=\"row pt-5\">\r\n                            <div className=\"col\">\r\n                                <h1 className={this.props.isHomePage ? \"pt-4 pb-4 service-header text-center\" : \"pt-4 pb-4 service-header text-left\"}>\r\n                                    {this.props.eventType}\r\n                                </h1>\r\n                            </div>\r\n                        </div>\r\n                        <div className={loading || error.length || this.props.isHomePage? \"row pb-5 mb-2 justify-content-center\":\"row pb-5 mb-2\"}>\r\n                            {error.length ? <div className=\"alert alert-danger\">{error}</div>:null}\r\n                            {\r\n                                loading ? <div className=\"d-block ml-auto mr-auto justify-content-center\"><Loader/></div>:\r\n                                    services&&services.length ?\r\n                                    services.map((service, id) => (\r\n                                            <div key={id} className=\"col-sm-12 col-md-6 col-lg-3 mt-3\">\r\n                                                <ServiceItem service={service} />\r\n                                            </div>\r\n                                        )): null\r\n                            }\r\n                            {!loading&&services.length === 0 &&!error.length ? <div className=\"d-block ml-auto mr-auto justify-content-center\"><h5>Aucun Service</h5></div>:null}\r\n                        </div>\r\n                            {\r\n                            this.props.isHomePage&&services.length !==0 ?\r\n                                <div className=\"row\">\r\n                                    <div className=\"col text-center see-more\">\r\n                                        <a href=\"/services\" className=\"btn btn-danger\">Voir plus</a>\r\n                                    </div>\r\n                                </div>: null\r\n                            }\r\n                            {\r\n                            this.props.showMore&&services.length !==0 ?\r\n                                <div className=\"row pb-5\">\r\n                                    <div className=\"col text-center see-more\">\r\n                                        <a className=\"btn btn-danger\" href={\"/services/category/\"+ this.props.category}>Voir plus</a>\r\n                                    </div>\r\n                                </div>: null\r\n                            }\r\n                    </div>\r\n                </section>\r\n            </Fragment>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Services;","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport imgSante from '../../../assets/icons/biceps.svg';\r\nimport imgShopping from '../../../assets/icons/shopping-store.svg';\r\nimport imgBar from '../../../assets/icons/meat.svg';\r\nimport imgVoyage from '../../../assets/icons/map-location.svg';\r\nimport imgSortir from '../../../assets/icons/idea.svg';\r\nimport imgCoupons from '../../../assets/icons/graphic-design.svg';\r\nimport madein from '../../../assets/icons/237maded.png';\r\n\r\nconst CategoryItem = (props) => {\r\n    const {category} = props;\r\n    const categoryName = category.name.split(\" \").join(\"-\");\r\n    let url = \"\";\r\n    if (window.location.pathname.split('/')[1] === \"events\") {\r\n        url = \"/events/category/\" + categoryName;\r\n    } else if (window.location.pathname.split('/')[1] === \"services\") {\r\n        url = \"/services/category/\" + categoryName;\r\n    } else {\r\n        url = \"/category/\" + categoryName;\r\n    }\r\n\r\n    return (\r\n        <div className=\"wrimagecard wrimagecard-topimage\">\r\n            <NavLink to={url}>\r\n                <div className=\"wrimagecard-topimage_header\">\r\n                    <center>\r\n                        {(category.name === \"Coupons\") && <img src={imgCoupons} alt=\"\" />}\r\n                        {(category.name === \"Sortir\") && <img src={imgSortir} alt=\"\" />}\r\n                        {(category.name === \"Bar louge & Restaurants\") && <img src={imgBar} alt=\"\" />}\r\n                        {(category.name === \"Beauté & Santé\") && <img src={imgSante} alt=\"\" />}\r\n                        {(category.name === \"Voyages\") && <img src={imgVoyage} alt=\"\" />}\r\n                        {(category.name === \"Shopping\") && <img src={imgShopping} alt=\"\" />}\r\n                        {(category.name === \"Made in 237\") && <img src={madein} alt=\"\" />}\r\n                    </center>\r\n                </div>\r\n                <div className=\"wrimagecard-topimage_title\">\r\n                    <p className={props.selected ? \"text-center selected\": \"text-center\"}>{category.name}</p>\r\n                </div>\r\n            </NavLink>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default CategoryItem;","import React, { Component } from 'react';\r\nimport CategoryItem from './CategoryItem';\r\nimport './Categories.scss';\r\nimport axios from 'axios';\r\nimport Loader from '../../globalComponent/Loader';\r\nimport imgGallery from '../../../assets/icons/photo.svg';\r\n\r\nclass Categories extends Component {\r\n    state = {\r\n        selected: false,\r\n        categories: [],\r\n        loading: true,\r\n        error: null\r\n    }\r\n\r\n    componentDidMount() {\r\n        //get the categories\r\n        const categories = JSON.parse(localStorage.getItem(\"categories\"));\r\n        if(categories) {\r\n            this.setState({\r\n                categories: categories,\r\n                loading: false\r\n            });\r\n            // Fetch if new categories\r\n            axios.get('/api/category/all')\r\n            .then(res => {\r\n                if(JSON.stringify(categories) !== JSON.stringify(res.data.categories)) {\r\n                    localStorage.setItem(\"categories\", JSON.stringify(res.data.categories));\r\n                    console.log('Categories changed');\r\n                    this.setState({\r\n                        categories: res.data.categories,\r\n                        loading: false\r\n                    })\r\n                }\r\n            })\r\n            .catch(err => {\r\n                this.setState({\r\n                    error: \"Une erreur s'est produite\",\r\n                    loading: false\r\n                })\r\n            })\r\n            \r\n        } else {\r\n            this.fetchCategories();\r\n        }\r\n    }\r\n\r\n    fetchCategories = () => {\r\n        axios.get('/api/category/all')\r\n        .then(res => {\r\n            localStorage.setItem(\"categories\", JSON.stringify(res.data.categories));\r\n            this.setState({\r\n                categories: res.data.categories,\r\n                loading: false\r\n            })\r\n        })\r\n        .catch(err => {\r\n            this.setState({\r\n                error: \"Une erreur s'est produite\",\r\n                loading: false\r\n            })\r\n        })\r\n    }\r\n\r\n    render() {\r\n        const { categories, loading } = this.state;\r\n        let content = <div className=\"d-block ml-auto mr-auto\"><Loader /></div>;\r\n        if(!loading&&categories.length) {\r\n            content = categories.map(category => {\r\n                if(this.props.selected === category.name) {\r\n                    return <CategoryItem selected={true} key={category._id} category={category}  />\r\n                } else {\r\n                    return <CategoryItem key={category._id} category={category} />\r\n                }\r\n        });\r\n        }\r\n        return (\r\n            <section className=\"categories\">\r\n                <div className=\"container pb-4\">\r\n                    <div className=\"row py-5\">\r\n                        <div className=\"col\">\r\n                            <center><h2 className=\"pt-4 service-header\">Parcourir par catégorie</h2></center>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"row pb-5 categories-wrapper\">\r\n                        {content}\r\n                        <div className=\"wrimagecard wrimagecard-topimage\">\r\n                            <a href=\"/gallery\">\r\n                                <div className=\"wrimagecard-topimage_header\">\r\n                                    <center><center><img src={imgGallery} alt=\"Galerie\" /></center></center>\r\n                                </div>\r\n                                <div className=\"wrimagecard-topimage_title\">\r\n                                    <p className={\"text-center\"}>Galerie</p>\r\n                                </div>\r\n                            </a>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </section>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Categories;","import React, {Component, Fragment} from 'react';\r\nimport axios from 'axios';\r\nimport Loader from '../../globalComponent/Loader';\r\nimport './Caroussel.scss';\r\n\r\nclass Caroussel extends Component {\r\n    state = {\r\n        images: [],\r\n        error: '',\r\n        loading: true\r\n    }\r\n    componentDidMount() {\r\n        const bannerImages = JSON.parse(localStorage.getItem('banner'))\r\n        if(bannerImages&&bannerImages.length) {\r\n            this.setState({images: bannerImages, loading: false})\r\n        }\r\n        this.getBannerImages()\r\n    }\r\n\r\n    getBannerImages = () => {\r\n        axios.get('/api/banner/current')\r\n        .then(res => {\r\n            if(JSON.stringify(res.data.banners) !== localStorage.getItem('banner')) {\r\n                // Banner have changed\r\n                let images = res.data.banners;\r\n                images.reverse()\r\n                this.setState({loading: false, images: images, error: ''})\r\n                localStorage.setItem('banner', JSON.stringify(images))\r\n            }\r\n        })\r\n        .catch(err => {\r\n            this.setState({loading: false, error: \"Une erreur s'est produite, veuillez reéssayer\",})\r\n        })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <section id=\"showcase\">\r\n                <div id=\"carouselExampleIndicators\" className=\"carousel slide\" data-ride=\"carousel\">\r\n                    <ol className=\"carousel-indicators\">\r\n                        {\r\n                            this.state.images.length ? \r\n                            <Fragment>\r\n                                {this.state.images.map((image, i) => (<li key={i} data-target=\"#carouselExampleIndicators\" data-slide-to={i} className={i===0&&\"active\"}></li>))}\r\n                            </Fragment>:null\r\n                        }\r\n                    </ol>\r\n                    <div className=\"carousel-inner\">\r\n                        {this.state.loading ? <div className=\"d-flex justify-content-center align-items-center\" style={{minHeight: \"75vh\"}}><Loader /></div> :\r\n                            <Fragment>\r\n                                {this.state.images.map((image, i) => {\r\n                                    return (\r\n                                        <div key={i}  className={i=== 0 ? \"carousel-item active\": \"carousel-item\"}>\r\n                                            <img className=\"d-block w-100\" src={image.link} alt=\"First slide\"/>\r\n                                            <div className=\"container\">\r\n                                                <div className=\"carousel-caption d-none d-sm-block text-bottom mb-5\">\r\n                                                    {/* <h1 className=\"\">SOYEZ A L'ACTU DE TOUS LES EVENEMENTS ET SERVICES</h1> */}\r\n                                                    {/* <p>Réservez directement vos places.</p> */}\r\n                                                    {/* <a href=\"#events\" className=\"btn btn-danger btn-lg\">Parcourir les Evènements</a> */}\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    )\r\n                                })}\r\n                            </Fragment> \r\n                        }\r\n                    </div>\r\n                    <a className=\"carousel-control-prev\" href=\"#carouselExampleIndicators\" role=\"button\" data-slide=\"prev\">\r\n                        <span className=\"carousel-control-prev-icon\" aria-hidden=\"true\"></span>\r\n                        <span className=\"sr-only\">Previous</span>\r\n                    </a>\r\n                    <a className=\"carousel-control-next\" href=\"#carouselExampleIndicators\" role=\"button\" data-slide=\"next\">\r\n                        <span className=\"carousel-control-next-icon\" aria-hidden=\"true\"></span>\r\n                        <span className=\"sr-only\">Next</span>\r\n                    </a>\r\n                </div>\r\n            </section>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Caroussel;","import React, { Component, Fragment } from 'react';\r\nimport './Supplier.scss';\r\nimport img from '../../../assets/images/b2.png';\r\n\r\nclass Home extends Component {\r\n    render() {\r\n        return (\r\n            <Fragment>\r\n                <section className=\" bannerwrapper\">\r\n                    <div className=\"container py-5 banner\">\r\n                        <div className=\"row py-5 justify-content-between align-items-center\">\r\n                            <div className=\"col-sm-12 d-none d-md-block col-md-6 align-self-end text-center\">\r\n                                <img src={img} className=\"img-fluid \" alt=\"\" />\r\n                            </div>\r\n                            <div className=\"col-sm-12 col-md-6 d-md-center\">\r\n                                <h1><b>Vous avez des services ou</b> </h1>\r\n                                <h1><b>des actualités à communiquer ?</b></h1>\r\n                                <a className=\"btn btn-outline-light btn-lg mt-4 supplierdemand\" href=\"/supplier\">Devenez un Partenaire Maintenant</a>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </section>\r\n            </Fragment>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Home;","import React, { Component } from 'react';\r\nimport Header from '../ui/globalComponent/Header';\r\n\r\nimport Hoc from './globalComponent/Hoc';\r\nimport Events from '../ui/components/Events/Events';\r\nimport Services from '../ui/components/Services/Services';\r\nimport Categories from '../ui/components/Categories/Categories';\r\nimport Caroussel from '../ui/components/Caroussel/Caroussel';\r\nimport SupplierBaner from '../ui/components/Supplier/SupplierBanner';\r\nimport Filter from '../ui/components/Filter/Filter'\r\n\r\nclass Home extends Component {\r\n    render() {\r\n        return (\r\n            <Hoc>\r\n                <Header home={true} />\r\n                <Caroussel />\r\n                <Filter />\r\n                <Categories />\r\n                <Events eventType=\"Actualités\" isHomePage={true} />\r\n                <Services eventType=\"Services\" isHomePage={true} />\r\n                <SupplierBaner />\r\n            </Hoc>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Home;","import React, { Component, Fragment } from 'react'\r\nimport { rootUrl } from '../../../configs/config';\r\nimport { connect } from 'react-redux';\r\nimport {soclialAuthStart} from '../../../store/actions'\r\nimport { FacebookLoginButton, GoogleLoginButton } from \"react-social-login-buttons\";\r\n\r\nclass OAuth extends Component {\r\n\r\n    state = {\r\n        disabled: ''\r\n    }\r\n\r\n    componentDidMount() {\r\n        const { socket, provider } = this.props\r\n\r\n        socket.on(provider, user => {\r\n            this.popup.close()\r\n            const { name, photo } = user;\r\n            this.props.onLogin(name, photo)\r\n        })\r\n    }\r\n\r\n    checkPopup() {\r\n        const check = setInterval(() => {\r\n            const { popup } = this\r\n            if (!popup || popup.closed || popup.closed === undefined) {\r\n                clearInterval(check)\r\n                this.setState({ disabled: '' })\r\n            }\r\n        }, 1000)\r\n    }\r\n\r\n    openPopup() {\r\n        const { provider, socket } = this.props\r\n        const width = 600, height = 600\r\n        const left = (window.innerWidth / 2) - (width / 2)\r\n        const top = (window.innerHeight / 2) - (height / 2)\r\n        const url = `${rootUrl}/api/auth/${provider}?socketId=${socket.id}`\r\n\r\n        return window.open(url, '',\r\n            `toolbar=no, location=no, directories=no, status=no, menubar=no, \r\n      scrollbars=no, resizable=no, copyhistory=no, width=${width}, \r\n      height=${height}, top=${top}, left=${left}`\r\n        )\r\n    }\r\n\r\n    startAuth = () => {\r\n        if (!this.state.disabled) {\r\n            this.popup = this.openPopup()\r\n            this.checkPopup()\r\n            this.setState({ disabled: 'disabled' })\r\n        }\r\n    }\r\n\r\n    closeCard = () => {\r\n        this.setState({ user: {} })\r\n    }\r\n\r\n    render() {\r\n        const { provider } = this.props\r\n        const { disabled } = this.state\r\n\r\n        return (\r\n            <Fragment>\r\n                {provider ===\"google\"&&<GoogleLoginButton disabled={disabled} onClick={this.startAuth} iconSize=\"23px\" />}\r\n                {provider ===\"facebook\"&&<FacebookLoginButton disabled={disabled} onClick={this.startAuth} iconSize=\"23px\" />}\r\n            </Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n        onLogin: (name, photo) => dispatch(soclialAuthStart(name, photo))\r\n    }\r\n}\r\n\r\nexport default connect(null, mapDispatchToProps)(OAuth)","import React, { Component } from 'react';\r\nimport './Forms.scss';\r\nimport { connect } from 'react-redux';\r\nimport {Link} from 'react-router-dom';\r\nimport { signup, renderLoader, clearError } from '../../../store/actions';\r\nimport Loader from '../../globalComponent/Loader';\r\nimport OAuth from '../Oauth/OAuth'\r\nimport io from 'socket.io-client';\r\nimport { rootUrl } from '../../../configs/config'\r\n\r\nimport userLogo from '../../../assets/images/logo.png';\r\nconst socket = io(rootUrl);\r\n\r\nclass SignUpForm extends Component {\r\n    state = {\r\n        email: '',\r\n        password: '',\r\n        name: '',\r\n        tel: '',\r\n        isTyping: false,\r\n        formErrors: {email: '', password: '', name: ''},\r\n        emailValid: false,\r\n        passwordValid: false,\r\n        nameValid: false,\r\n        formValid: false\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.props.onClearError();\r\n    }\r\n\r\n    handleInputChange = (e) => {\r\n        e.preventDefault();\r\n        const name = e.target.name;\r\n        const value = e.target.value;\r\n        this.setState({[name]: value}, \r\n            () => { this.validateField(name, value) });\r\n    }\r\n\r\n    validateField(fieldName, value) {\r\n        let fieldValidationErrors = this.state.formErrors;\r\n        let emailValid = this.state.emailValid;\r\n        let passwordValid = this.state.passwordValid;\r\n        let nameValid = this.state.nameValid;\r\n      \r\n        switch(fieldName) {\r\n          case 'email':\r\n            emailValid = value.match(/^([\\w.%+-]+)@([\\w-]+\\.)+([\\w]{2,})$/i);\r\n            fieldValidationErrors.email = emailValid ? '' : ' is invalid';\r\n            break;\r\n          case 'password':\r\n            passwordValid = value.length >= 6;\r\n            fieldValidationErrors.password = passwordValid ? '': ' is too short';\r\n            break;\r\n          case 'name':\r\n            nameValid = value.trim().length >= 6;\r\n            fieldValidationErrors.name = nameValid ? '': ' is too short';\r\n            break;\r\n          default:\r\n            break;\r\n        }\r\n        this.setState({formErrors: fieldValidationErrors,\r\n                        emailValid: emailValid,\r\n                        passwordValid: passwordValid,\r\n                        nameValid: nameValid\r\n                      }, this.validateForm);\r\n    }\r\n      \r\n    validateForm() {\r\n        this.setState({formValid: this.state.emailValid && this.state.passwordValid && this.state.nameValid});\r\n    }\r\n\r\n    handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        this.setState({isTyping: true});\r\n        if (this.state.formValid) {\r\n            // Display Loader\r\n            this.props.onRenderLoader();\r\n            const data = {\r\n                name: this.state.name,\r\n                email: this.state.email,\r\n                password: this.state.password,\r\n                tel: this.state.tel\r\n            }\r\n            // Launch the signup\r\n            this.props.onSignUp(data);\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const { isTyping, emailValid, passwordValid, nameValid , name, email, password, tel } = this.state;\r\n        const { error, loader } = this.props;\r\n        return (\r\n            <div className=\"wrapper fadeInDown\">\r\n                <div id=\"formContent\">\r\n                    <div className=\"fadeIn first mt-5\">\r\n                    <img src={userLogo} id=\"icon\" alt=\"User Icon\" />\r\n                    </div>\r\n                    <form>\r\n                        {error&&error.length ? <div className=\"alert alert-danger\">{error}</div>:null}\r\n                        <input type=\"text\" value={name} onChange={(e) => this.handleInputChange(e)} id=\"nom\" className=\"fadeIn second\" name=\"name\" placeholder=\"Nom\"/>\r\n                        {isTyping&&!nameValid ? <div style={{color: \"red\"}}>Invalide. Min 6 caratères</div>:null}\r\n                        <input type=\"email\" value={email} onChange={(e) => this.handleInputChange(e)} id=\"email\" className=\"fadeIn second\" name=\"email\" placeholder=\"Adresse Email\"/>\r\n                        {isTyping&&!emailValid ? <div style={{color: \"red\"}}>Email non valide.</div>:null}\r\n                        <input type=\"password\" value={password} onChange={(e) => this.handleInputChange(e)} id=\"password\" className=\"fadeIn third\" name=\"password\" placeholder=\"Mot de passe\"/>\r\n                        {isTyping&&!passwordValid ? <div style={{color: \"red\"}}>Invalide. Min 6 caratères</div>:null}\r\n                        <input type=\"text\" value={tel} onChange={(e) => this.handleInputChange(e)} id=\"tel\" className=\"fadeIn second\" name=\"tel\" placeholder=\"Numéro Whatsapp\" />\r\n                        <button disabled={loader} type=\"submit\" onClick={(e) => this.handleSubmit(e)} id=\"signBtn\" className=\"button fadeIn fourth mt-4 mb-5\">{loader ? <Loader color=\"white\" />:\"S'inscrire\"}</button>\r\n                    </form>\r\n\r\n                    <p>Ou bien inscrivez vous avec:</p>\r\n                    <div className=\"d-flex socialWrapper\">\r\n                        <OAuth\r\n                            provider={\"google\"}\r\n                            key={\"google\"}\r\n                            socket={socket}\r\n                        />\r\n                        <OAuth\r\n                            provider={\"facebook\"}\r\n                            key={\"facebook\"}\r\n                            socket={socket}\r\n                        />\r\n                    </div>\r\n\r\n                    <div id=\"formFooter\">\r\n                        <Link to=\"/auth/login\" className=\"underlineHover\">Déja inscrit ? Connectez vous.</Link>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapPropsToState = state => {\r\n    return {\r\n        loader: state.loader.loading,\r\n        error: state.auth.error\r\n    }\r\n}\r\n\r\nconst mapDispatchToState = dispatch => {\r\n    return {\r\n        onSignUp: (data) => dispatch(signup(data)),\r\n        onRenderLoader: () => dispatch(renderLoader()),\r\n        onClearError: () => dispatch(clearError()),\r\n    }\r\n}\r\n\r\nexport default connect(mapPropsToState, mapDispatchToState)(SignUpForm);","import React, { Component } from 'react';\r\nimport Header from '../../globalComponent/Header';\r\nimport Hoc from '../../globalComponent/Hoc';\r\nimport SignupForm from './SignupForm';\r\nimport { connect } from 'react-redux';\r\n\r\nclass SigninPage extends Component {\r\n\r\n    render() {\r\n        return (\r\n            <Hoc>\r\n                {this.props.token ? this.props.history.goBack(): null}\r\n                <Header />\r\n                <SignupForm />\r\n            </Hoc>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapPropsToState = state => {\r\n    return {\r\n        token: state.auth.token,\r\n    }\r\n}\r\n\r\nexport default connect(mapPropsToState)(SigninPage);","import React, { Component } from 'react';\r\nimport './Forms.scss'; \r\nimport { connect } from 'react-redux';\r\nimport {Link, withRouter} from 'react-router-dom';\r\nimport { login, renderLoader, clearError } from '../../../store/actions';\r\nimport Loader from '../../globalComponent/Loader';\r\nimport OAuth from '../Oauth/OAuth'\r\nimport io from 'socket.io-client';\r\nimport { rootUrl } from '../../../configs/config'\r\n\r\nimport userLogo from '../../../assets/images/logo.png';\r\nconst socket = io(rootUrl);\r\n\r\nclass LoginForm extends Component {\r\n\r\n    state = {\r\n        email: '',\r\n        password: '',\r\n        isTyping: false,\r\n        formErrors: { email: '', password: '' },\r\n        emailValid: false,\r\n        passwordValid: false,\r\n        formValid: false,\r\n        loading: false\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.props.onClearError();\r\n    }\r\n\r\n    handleInputChange = (e) => {\r\n        e.preventDefault();\r\n        const name = e.target.name;\r\n        const value = e.target.value;\r\n        this.setState({ [name]: value },\r\n            () => { this.validateField(name, value) });\r\n    }\r\n\r\n    validateField(fieldName, value) {\r\n        let fieldValidationErrors = this.state.formErrors;\r\n        let emailValid = this.state.emailValid;\r\n        let passwordValid = this.state.passwordValid;\r\n\r\n        switch (fieldName) {\r\n            case 'email':\r\n                emailValid = value.match(/^([\\w.%+-]+)@([\\w-]+\\.)+([\\w]{2,})$/i);\r\n                fieldValidationErrors.email = emailValid ? '' : ' is invalid';\r\n                break;\r\n            case 'password':\r\n                passwordValid = value.length >= 6;\r\n                fieldValidationErrors.password = passwordValid ? '' : ' is too short';\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n        this.setState({\r\n            formErrors: fieldValidationErrors,\r\n            emailValid: emailValid,\r\n            passwordValid: passwordValid\r\n        }, this.validateForm);\r\n    }\r\n\r\n    validateForm() {\r\n        this.setState({ formValid: this.state.emailValid && this.state.passwordValid });\r\n    }\r\n\r\n    handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        // Display Loader\r\n        this.setState({isTyping: true});\r\n        if(this.state.formValid) {\r\n            this.props.onRenderLoader();\r\n            const data = {\r\n                email: this.state.email,\r\n                password: this.state.password\r\n            }\r\n            // Launch the signup\r\n            this.props.onLogin(data);\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const { isTyping, emailValid, email, password } = this.state;\r\n        const { error, loader } = this.props;\r\n        return (\r\n            <div className=\"wrapper fadeInDown\">\r\n                <div id=\"formContent\">\r\n                    <div className=\"fadeIn first mt-5\">\r\n                    <img src={userLogo} id=\"icon\" alt=\"User Icon\" />\r\n                    </div>\r\n\r\n                    <form>\r\n                        {error && error.length ? <div className=\"alert alert-danger\">{error}</div> : null}\r\n                        <input type=\"email\" value={email} onChange={(e) => this.handleInputChange(e)} id=\"email\" className=\"fadeIn second\" name=\"email\" placeholder=\"Adresse Email\" />\r\n                        {isTyping && !emailValid ? <div style={{ color: \"red\" }}>Email non valide.</div> : null}\r\n                        <input type=\"password\" value={password} onChange={(e) => this.handleInputChange(e)} id=\"password\" className=\"fadeIn third\" name=\"password\" placeholder=\"Mot de passe\" />\r\n                        {isTyping && !this.state.passwordValid ? <div style={{ color: \"red\" }}>Invalide. Min 6 caratères</div> : null}\r\n                        <button disabled={loader} type=\"submit\" onClick={(e) => this.handleSubmit(e)} id=\"signBtn\" className=\"button fadeIn fourth mt-4 mb-5\">{loader ? <Loader color=\"white\" /> : \"Se connecter\"}</button>\r\n                    </form>\r\n                    <p>Ou bien connectez vous avec:</p>\r\n                    <div className=\"d-flex socialWrapper\">\r\n                        <OAuth\r\n                            provider={\"google\"}\r\n                            key={\"google\"}\r\n                            socket={socket}\r\n                        />\r\n                        <OAuth\r\n                            provider={\"facebook\"}\r\n                            key={\"facebook\"}\r\n                            socket={socket}\r\n                        />\r\n                    </div>\r\n\r\n                    <div id=\"formFooter\">\r\n                        <Link to=\"/auth/signup\" className=\"underlineHover\">Ou bien Inscrivez vous Ici.</Link>\r\n                    </div>\r\n\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapPropsToState = state => {\r\n    return {\r\n        loader: state.loader.loading,\r\n        error: state.auth.error\r\n    }\r\n}\r\n\r\nconst mapDispatchToState = dispatch => {\r\n    return {\r\n        onLogin: (data) => dispatch(login(data)),\r\n        onRenderLoader: () => dispatch(renderLoader()),\r\n        onClearError: () => dispatch(clearError()),\r\n    }\r\n}\r\n\r\nexport default connect(mapPropsToState, mapDispatchToState)(withRouter(LoginForm));","import React, { Component } from 'react';\r\nimport Header from '../../globalComponent/Header';\r\nimport Hoc from '../../globalComponent/Hoc'\r\nimport LoginForm from './LoginForm';\r\nimport { connect } from 'react-redux';\r\n\r\nclass LoginPage extends Component {\r\n\r\n    render() {\r\n        return (\r\n            <Hoc>\r\n                {this.props.token ? this.props.history.goBack(): null}\r\n                <Header />\r\n                <LoginForm />\r\n            </Hoc>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapPropsToState = state => {\r\n    return {\r\n        token: state.auth.token,\r\n    }\r\n}\r\n\r\nexport default connect(mapPropsToState)(LoginPage);","import React, { Component, Fragment } from 'react';\r\nimport Header from '../../globalComponent/Header';\r\nimport Services from './Services';\r\nimport Categories from '../Categories/Categories';\r\n\r\nclass AllServicesPage extends Component {\r\n\r\n    render() {\r\n        return (\r\n            <Fragment>\r\n                <Header />\r\n                <Categories />\r\n                <Services eventType=\"Tous les Services\" isHomePage={false} />\r\n            </Fragment>\r\n        );\r\n    }\r\n}\r\n\r\nexport default AllServicesPage;","import React, { Component, Fragment } from 'react';\r\nimport Header from '../../globalComponent/Header';\r\nimport Events from './Events';\r\nimport Categories from '../Categories/Categories';\r\n\r\nclass AllEventsPage extends Component {\r\n\r\n    render() {\r\n        return (\r\n            <Fragment>\r\n                <Header />\r\n                <Categories />\r\n                <Events eventType=\"Toutes les Actualités\" isHomePage={false} />\r\n            </Fragment>\r\n        );\r\n    }\r\n}\r\n\r\nexport default AllEventsPage;","import React, { Component } from 'react';\r\nimport Header from '../../globalComponent/Header';\r\nimport Hoc from '../../globalComponent/Hoc';\r\nimport Categories from './Categories';\r\nimport Events from '../Events/Events';\r\nimport Services from '../Services/Services';\r\nimport axios from 'axios';\r\nimport Loader from '../../globalComponent/Loader';\r\nimport './Categories.scss';\r\n\r\nclass Home extends Component {\r\n\r\n    state = {\r\n        loadingServices: true,\r\n        loadingEvents: true,\r\n        services: [],\r\n        events: [],\r\n        error: ''\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.getEventsByCategory();\r\n        this.getServicesByCategory();\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n        if(this.props !== prevProps) {\r\n            this.getEventsByCategory();\r\n            this.getServicesByCategory();\r\n        }\r\n    }\r\n\r\n    getEventsByCategory = () => {\r\n        this.setState({ loadingEvents: true});\r\n        const category = this.props.match.params.id.split(\"-\").join(\" \");\r\n        // Fetch events/services\r\n        axios.get('/api/event/category/' + category)\r\n        .then(res => {\r\n            let data = res.data.events;\r\n            if (window.location.pathname.split('/')[1] !== \"events\") {\r\n                data = data.slice(0, 8);\r\n            }\r\n            this.setState({events: data, error: '', loadingEvents: false});\r\n        })\r\n        .catch(err => {\r\n            this.setState({ error: 'Une érreur s\\'est produite. Veuillez recharger.', loadingEvents: false});\r\n        })\r\n    }\r\n\r\n    getServicesByCategory = () => {\r\n        this.setState({ loadingServices: true});\r\n        const category = this.props.match.params.id.split(\"-\").join(\" \");\r\n        // Fetch services/services\r\n        axios.get('/api/service/category/' + category)\r\n        .then(res => {\r\n            let data = res.data.services;\r\n            if (window.location.pathname.split('/')[1] !== \"services\") {\r\n                data = data.slice(0, 8);\r\n            }\r\n            this.setState({services: data, error: '', loadingServices: false});\r\n        })\r\n        .catch(err => {\r\n            this.setState({ error: 'Une érreur s\\'est produite. Veuillez recharger.', loadingServices: false});\r\n        })\r\n    }\r\n\r\n    render() {\r\n        const {events, services, loadingEvents, loadingServices} = this.state;\r\n        const category = this.props.match.params.id.split(\"-\").join(\" \");\r\n        const isAllAnoucesPage = window.location.pathname.split('/')[1] === \"category\";\r\n        return (\r\n            <Hoc>\r\n                <Header />\r\n                <Categories selected={category} />\r\n                {\r\n                    this.props.match.params.AnounceType === \"events\" || isAllAnoucesPage ?\r\n                        loadingEvents ? <div className=\"d-flex justify-content-center py-5\"><Loader /></div> :\r\n                        <Events showMore={isAllAnoucesPage} category={category}  events={events} isCategoryPage={true} eventType=\"Evènements\" isHomePage={false} /> : null\r\n                }\r\n                {\r\n                    this.props.match.params.AnounceType === \"services\" || isAllAnoucesPage ?\r\n                        loadingServices ? <div className=\"d-flex justify-content-center py-5\"><Loader /></div> :\r\n                        <Services showMore={isAllAnoucesPage} category={category} services={services} isCategoryPage={true} eventType=\"Services\" isHomePage={false} /> : null\r\n                }\r\n            </Hoc>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Home;","import React from 'react';\r\nimport Moment from 'react-moment';\r\nimport 'moment/locale/fr';\r\n\r\nexport const DateFormat = (props) => (\r\n    <Moment format=\"YYYY-MM-DD HH:mm\">{props.date}</Moment>\r\n)\r\n\r\nexport const ForNowDateFormat = props => (\r\n    <Moment fromNow>{props.date}</Moment>\r\n)","import React from 'react'\r\nimport ReactNotification from 'react-notifications-component'\r\nimport 'react-notifications-component/dist/theme.css'\r\nimport 'animate.css/animate.css'\r\nimport { store } from 'react-notifications-component';\r\n\r\nexport const Notification = (props) => {\r\n    return (\r\n        <ReactNotification />\r\n    )\r\n};\r\n\r\nexport const addNotification = (type, title, message) => {\r\n    store.addNotification({\r\n        title: title,\r\n        message: message,\r\n        type: type,\r\n        insert: \"top\",\r\n        container: \"top-center\",\r\n        animationIn: [\"animated\", \"bounceIn\"],\r\n        animationOut: [\"animated\", \"fadeOut\"],\r\n        dismiss: {\r\n            duration: 4000,\r\n            onScreen: false\r\n        }\r\n    });\r\n} ","import React from 'react';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faUserCircle } from '@fortawesome/free-solid-svg-icons';\r\nimport {ForNowDateFormat} from '../../utils/DateFormat'\r\nimport './ReviewItem.scss';\r\n\r\nconst ReviewItem = (props) => {\r\n    return (\r\n        <div className=\"row review-item\">\r\n            <div className=\"col-sm-12\">\r\n                <div className=\"box-head d-flex\">\r\n                    <FontAwesomeIcon icon={faUserCircle} size={\"3x\"} />\r\n                    <div className=\"box-body\">\r\n                        <h5>@{props.comment.name}</h5>\r\n                        <p className=\"mt-3 pb-3 mb-1\">{props.comment.message}</p>\r\n                    </div>\r\n                    <span className=\"ml-auto flex-shrink-0 pl-3\"><ForNowDateFormat date={props.comment.date} /></span>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default ReviewItem;","import React, { Component } from 'react';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faUserCircle, faCheck } from '@fortawesome/free-solid-svg-icons';\r\nimport './UserSearchResult.scss';\r\n\r\nclass UserSearchResult extends Component {\r\n\r\n    state = {\r\n        recommand: this.props.recommanded,\r\n        rec: false\r\n    }\r\n\r\n    applyRecommandation = () => {\r\n        this.setState({ recommand: true, rec: true })\r\n        this.props.makeRecommandation();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"d-flex align-items-center justify-content-between userSearchResult-item\">\r\n                <div className=\"d-flex align-items-center\">\r\n                    <FontAwesomeIcon icon={faUserCircle} size={\"2x\"} />\r\n                    <div>\r\n                        <h6 className=\"ml-3\">{this.props.name}</h6>\r\n                        <p className=\"ml-3 mb-0\">{this.props.email}</p>\r\n                    </div>\r\n                </div>\r\n                {\r\n                    this.state.rec ?\r\n                    <button className=\"btn btn-outline-dark\" disabled>Recommandé <FontAwesomeIcon icon={faCheck} /></button>:\r\n                    <button className=\"btn btn-dark\" onClick={this.applyRecommandation}>Recommander</button>\r\n                }\r\n                {/* {\r\n                    this.state.recommand ?\r\n                    <button className=\"btn btn-outline-dark\" disabled>Recommandé <FontAwesomeIcon icon={faCheck} /></button>:\r\n                    <button className=\"btn btn-dark\" onClick={this.applyRecommandation}>Recommander</button>\r\n                } */}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default UserSearchResult;","import React, { Component } from 'react';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faStar, faCheckCircle } from '@fortawesome/free-solid-svg-icons';\r\nimport Loader from '../../globalComponent/Loader'\r\nimport {addNotification} from '../../globalComponent/Notifications'\r\nimport axios from 'axios';\r\n\r\nimport './Stars.scss';\r\n\r\nclass Stars extends Component {\r\n    state = { voting: false, success: false, rate: this.props.rate }\r\n\r\n    vote = (value) => {\r\n        let authData = JSON.parse(localStorage.getItem(\"authData\"))\r\n        if(authData&&authData.token) {\r\n            this.setState({voting: true})\r\n            let previousValue = this.state.rate&&this.state.rate.value ? this.state.rate.value : 0;\r\n            // For the first time, dont divide by 2\r\n            let newValue = 0;\r\n            if(!this.state.rate) {\r\n                newValue = value;\r\n            } else {\r\n                newValue = (Number(previousValue) + value) / 2;\r\n            }\r\n            // persons that have already voted\r\n            let clients = this.state.rate&&this.state.rate.clients ? this.state.rate.clients : [];\r\n            clients.push(authData.user._id)\r\n            axios.patch('/api/' + this.props.anounceType + '/' + this.props.id + '/vote/' + newValue, {clients: clients})\r\n            .then(data => {\r\n                this.setState({ voting: false, success: true, rate: {value: newValue, clients: clients } })\r\n                // Display success button for 1.5 seconds\r\n                setTimeout(() => {\r\n                    this.setState({ success: false })\r\n                }, 1500)\r\n            })\r\n            .catch(err => {\r\n                this.setState({ voting: false })\r\n            })\r\n        } else {\r\n            addNotification(\"warning\", \"Authentification!\", \"Veuillez vous connecté\")\r\n        }\r\n    }\r\n\r\n    render() {\r\n        let value = this.state.rate&&this.state.rate.value ? this.state.rate.value : 0;\r\n        let number = this.state.rate&&this.state.rate.clients ? this.state.rate.clients.length : 0;\r\n        return (\r\n            !this.props.isSupplierDashboard ?\r\n                <div className=\"stars\">\r\n                    {this.state.voting&&<div className=\"mr-2\"><Loader /></div>}\r\n                    {this.state.success && <FontAwesomeIcon className=\"voted mr-2\" icon={faCheckCircle} size=\"2x\" />}\r\n                    <FontAwesomeIcon onClick={() => this.vote(1)} icon={faStar} className={value < 1 ? \"dark\" : \"\"} size=\"2x\" />\r\n                    <FontAwesomeIcon onClick={() => this.vote(2)} icon={faStar} className={value < 2 ? \"dark\" : \"\"} size=\"2x\" />\r\n                    <FontAwesomeIcon onClick={() => this.vote(3)} icon={faStar} className={value < 3 ? \"dark\" : \"\"} size=\"2x\" />\r\n                    <FontAwesomeIcon onClick={() => this.vote(4)} icon={faStar} className={value < 4 ? \"dark\" : \"\"} size=\"2x\" />\r\n                    <FontAwesomeIcon onClick={() => this.vote(5)} icon={faStar} className={value < 5 ? \"dark\" : \"\"} size=\"2x\" />\r\n                    <span className={this.props.isSupplierDashboard ? \"voteswhite\" : \"votes\"}>({number} votes)</span>\r\n                </div>:\r\n                <div className=\"stars\">\r\n                    <FontAwesomeIcon icon={faStar} className={value < 1 ? \"dark\" : \"\"} size=\"1x\" />\r\n                    <FontAwesomeIcon icon={faStar} className={value < 2 ? \"dark\" : \"\"} size=\"1x\" />\r\n                    <FontAwesomeIcon icon={faStar} className={value < 3 ? \"dark\" : \"\"} size=\"1x\" />\r\n                    <FontAwesomeIcon icon={faStar} className={value < 4 ? \"dark\" : \"\"} size=\"1x\" />\r\n                    <FontAwesomeIcon icon={faStar} className={value < 5 ? \"dark\" : \"\"} size=\"1x\" />\r\n                    <span className={this.props.isSupplierDashboard ? \"voteswhite\" : \"votes\"}>({number} votes)</span>\r\n                </div>\r\n            \r\n        )\r\n    }\r\n}\r\n\r\nexport default Stars;","import React from 'react';\r\nimport logo from '../../../assets/images/logo.png'\r\n\r\nexport const CouponPreview = (props) => (\r\n    <div className=\"container-fluid\">\r\n        <div className=\"row\"  >\r\n            <div className=\"col-sm-12 py-5 px-4\" style={{ \"border\": \"solid 1px #eee\", backgroundColor: \"#fafafa\" }}>\r\n                <img src={logo} alt=\"\" width=\"100\" />\r\n                <h3 className=\"mt-2\"><strong>COUPON DE REDUCTION</strong></h3>\r\n                <h3 className=\"mt-4\"><strong>{props.coupon.infos}</strong></h3>\r\n                <h3><strong className=\"text-danger\" style={{ \"color\": \"#de0027\" }}>Vous béneficiez d'une reduction de {props.coupon.montant}</strong></h3>\r\n                <h3>Pour l'annonce: {props.coupon.title}</h3>\r\n                <h5 className=\"mt-4\"><i>Offre valable jusqu'au {props.coupon.datelimite} sous présentation au guichet.</i></h5>\r\n            </div>\r\n        </div>\r\n    </div>\r\n)","import React, { Component, Fragment } from 'react';\r\nimport Modal from 'react-bootstrap/Modal';\r\nimport Button from 'react-bootstrap/Button';\r\nimport axios from 'axios';\r\nimport socketIOClient from \"socket.io-client\";\r\nimport {connect} from 'react-redux';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faCalendar, faMapMarked, faSearch, faComment, faAnchor } from '@fortawesome/free-solid-svg-icons';\r\nimport './DetailsPage.scss';\r\nimport {DateFormat} from \"../../utils/DateFormat\"\r\n// import AwesomeSlider from 'react-awesome-slider';\r\n// import AwsSliderStyles from 'react-awesome-slider/src/styles';\r\nimport pdfMake from \"pdfmake/build/pdfmake\";\r\nimport pdfFonts from \"pdfmake/build/vfs_fonts\";\r\nimport ImageGallery from 'react-image-gallery';\r\nimport \"react-image-gallery/styles/scss/image-gallery.scss\";\r\n\r\nimport Header from '../../globalComponent/Header';\r\nimport {Notification, addNotification} from '../../globalComponent/Notifications'\r\nimport Hoc from '../../globalComponent/Hoc';\r\nimport ReviewItem from '../Reviews/ReviewItem';\r\nimport SearchResultItem from '../UserSearchResult/UserSearchResult';\r\nimport Stars from '../Stars/Stars';\r\nimport Loader from '../../globalComponent/Loader';\r\nimport {CouponPreview} from '../CouponSchema/CouponPreview'\r\nimport {rootUrl} from '../../../configs/config';\r\n// import logo from '../../../assets/images/logo.png';\r\n// import {counponToPrint} from '../CouponSchema/Coupon'\r\npdfMake.vfs = pdfFonts.pdfMake.vfs;\r\n// const image2base64 = require('image-to-base64');\r\n\r\n\r\nclass DetailsPage extends Component {\r\n    state = {\r\n        showReservationModal: false,\r\n        showRecModal: false,\r\n        showCouponModal: false,\r\n        showVideo: false,\r\n        showToast: false,\r\n        downloadingCoupon: false,\r\n        coupon: '',\r\n\r\n        announce: null,\r\n        loading: true,\r\n        error: '',\r\n        /* When leaving a comment */\r\n        userMessage: '',\r\n        userEmail: this.props.user ? this.props.user.email : '',\r\n        userName: this.props.user ? this.props.user.name : '',\r\n        sendingComment: false,\r\n        messageValid: false,\r\n        commentError: '',\r\n\r\n        /* When making a reservation */\r\n        tel: '',\r\n        numberOfPlaces: '',\r\n        name: this.props.user ? this.props.user.name : '',\r\n        email: this.props.user ? this.props.user.email : '',\r\n        formValid: false,\r\n        reserving: false,\r\n        reservationError: '',\r\n\r\n        /* when searching user */\r\n        searchingUser: false,\r\n        userList: [],\r\n        search: '',\r\n        /* when making recommandations */\r\n        recError: '',\r\n    }\r\n\r\n    handleInputChange = (e) => {\r\n        e.preventDefault();\r\n        const name = e.target.name;\r\n        const value = e.target.value;\r\n        this.setState({\r\n            [name]: value\r\n        }, this.validate);\r\n    }\r\n\r\n    validate = () => {\r\n        const { name, email, tel, numberOfPlaces, userEmail, userName, userMessage } = this.state;\r\n        this.setState({ \r\n            formValid: name.trim().length > 0 && \r\n                email.match(/^([\\w.%+-]+)@([\\w-]+\\.)+([\\w]{2,})$/i) \r\n                && tel.trim().length > 0 && numberOfPlaces.trim().length > 0,\r\n            messageValid: userName.trim().length > 0 && \r\n                userEmail.match(/^([\\w.%+-]+)@([\\w-]+\\.)+([\\w]{2,})$/i) &&\r\n                userMessage.trim().length > 0\r\n         })\r\n    }\r\n\r\n    searchUser = (e) => {\r\n        e.preventDefault();\r\n        const name = e.target.name;\r\n        const value = e.target.value;\r\n        this.setState({\r\n            [name]: value,\r\n            searchingUser: true\r\n        });\r\n        if(value.length > 1) {\r\n            axios.get('/api/user/' + value + '/search')\r\n            .then(res => {\r\n                const userList = res.data.users\r\n                this.setState({ searchingUser: false, userList: userList })\r\n            })\r\n            .catch(err => {\r\n                this.setState({ searchingUser: false})\r\n            })\r\n        }\r\n    }\r\n\r\n    openRecommandationModal = () => {\r\n        if(this.props.user) {\r\n            this.setState({showRecModal: true})\r\n        } else {\r\n            this.props.history.push('/auth/login');\r\n        }\r\n    }\r\n\r\n    // Make a reccommandation\r\n    makeRecommadation = (id) => {\r\n        const rec = {\r\n            to: id, \r\n            title: this.state.announce.title, \r\n            link: '/annonce/' + this.props.match.params.anounceType + '/' + this.props.match.params.id,\r\n            image: rootUrl +'/'+ this.state.announce.image,\r\n            name: this.props.user.name,\r\n            visited: false,\r\n            projectId: this.props.match.params.id,\r\n            date: new Date() \r\n        }\r\n        try {\r\n            // Send notification with socketio\r\n            const socket = socketIOClient(rootUrl);\r\n            // save in database\r\n            axios.patch('/api/user/'+id+'/recommand', { rec: rec })\r\n            .then(res => {\r\n                    socket.emit(\"new notification\", rec);\r\n                    this.setState({ recError: '' })\r\n                })\r\n                .catch(err => {\r\n                    this.setState({ recError: 'Une érreur s\\'est produite. Veuillez recharger la page.' })\r\n                })\r\n        } catch (error) {\r\n            this.setState({ recError: 'Une érreur s\\'est produite. Veuillez recharger la page.' })\r\n        }\r\n    }\r\n\r\n    // When make a reservation\r\n    makeReservation = (e) => {\r\n        e.preventDefault();\r\n        this.setState({reserving: true})\r\n        const { anounceType, id } = this.props.match.params;\r\n        let url = \"\";\r\n        if(anounceType === \"event\") {\r\n            url = \"/api/event/\" + id + \"/makereservation\";\r\n        } else \r\n        if (anounceType === \"service\"){\r\n            url = \"/api/service/\" + id + \"/makereservation\";\r\n        }\r\n        try {\r\n            const reservation = {\r\n                userId: this.props.user._id,\r\n                name: this.state.name,\r\n                email: this.state.email,\r\n                tel: this.state.tel,\r\n                numberOfPlaces: this.state.numberOfPlaces,\r\n                image: rootUrl + '/' + this.state.announce.image,\r\n                title: this.state.announce.title,\r\n                link: '/annonce/' + this.props.match.params.anounceType + '/' + this.props.match.params.id,\r\n                projectId: this.props.match.params.id,\r\n                date: new Date()\r\n            }\r\n            let announce = { ...this.state.announce}\r\n            announce.reservations.push(reservation)\r\n            axios.patch(url, { reservation: reservation })\r\n            .then(res => {\r\n                this.setState({ reserving: false, reservationError: '', showReservationModal: false, announce: announce })\r\n                addNotification(\"success\", \"Reservation!\", \"Reservation effectueé avec succès\")\r\n            })\r\n            .catch(err => {\r\n                this.setState({ reserving: false, reservationError: 'Une érreur s\\'est produite. Veuillez recharger la page.' })\r\n            })\r\n        } catch (error) {\r\n            this.setState({ reserving: false, reservationError: 'Une érreur s\\'est produite. Veuillez recharger la page.' })\r\n        }\r\n    }\r\n\r\n    openReservationModal = () => {\r\n        if(this.props.user) {\r\n            this.setState({showReservationModal: true})\r\n        } else {\r\n            this.props.history.push('/auth/login');\r\n        }\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n        if(prevProps.user !== this.props.user) {\r\n            this.setState({ \r\n                name: this.props.user.name, \r\n                email: this.props.user.email, \r\n                userEmail: this.props.user.email, \r\n                userName: this.props.user.name})\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        const {anounceType, id} = this.props.match.params;\r\n        let url = \"\";\r\n        if(anounceType === \"event\") {\r\n            url = '/api/event/' + id;\r\n        } else if(anounceType === \"service\") {\r\n            url = '/api/service/' + id;\r\n        }\r\n        // get data from event/service\r\n        try {\r\n            axios.get(url)\r\n            .then(res => {\r\n                let data = anounceType === \"event\" ? res.data.event: res.data.service;\r\n                this.setState({announce: data, loading: false, error: ''})\r\n                // The way to update visited notification\r\n                const authData = JSON.parse(localStorage.getItem(\"authData\"));\r\n                if (authData&&authData.user.recommandations) {\r\n                    let notifications = [...authData.user.recommandations];\r\n                    authData.user.recommandations.forEach((not, i) => {\r\n                        if (not.projectId === this.props.match.params.id && !not.visited) {\r\n                            let updateOne = {...not};\r\n                            updateOne.visited = true;\r\n                            notifications[i] = updateOne;\r\n                            axios.patch('/api/user/' + authData.user._id + '/notification/seen', { rec: notifications})\r\n                            .then(res => {\r\n                                this.setState({ recError: '' })\r\n                            })\r\n                            .catch(err => {\r\n                                this.setState({ recError: 'Une érreur s\\'est produite. Veuillez recharger la page.' })\r\n                            })\r\n                        }\r\n                    });\r\n                }\r\n            })\r\n            .catch(err => {\r\n                this.setState({loading: false, error: 'Une érreur s\\'est produite. Veuillez recharger la page.'})\r\n            })\r\n        } catch (error) {\r\n            this.setState({ loading: false, error: 'Une érreur s\\'est produite. Veuillez recharger la page.' })\r\n        }\r\n\r\n    }\r\n\r\n    submitComment = (e) => {\r\n        e.preventDefault();\r\n        this.setState({ sendingComment: true })\r\n        const { anounceType, id } = this.props.match.params;\r\n        let url = \"\";\r\n        if (anounceType === \"event\") {\r\n            url = \"/api/event/\" + id + \"/comment\";\r\n        } else\r\n            if (anounceType === \"service\") {\r\n                url = \"/api/service/\" + id + \"/comment\";\r\n            }\r\n        try {\r\n            const comment = {\r\n                name: this.state.userName,\r\n                email: this.state.userEmail,\r\n                message: this.state.userMessage,\r\n                date: new Date()\r\n            }\r\n            axios.patch(url, { comment: comment })\r\n            .then(res => {\r\n                let newAnnounce = {...this.state.announce};\r\n                newAnnounce.comments.push(comment);\r\n                this.setState({ sendingComment: false, commentError: '', userEmail: '', userName: '', userMessage: '', announce: newAnnounce })\r\n            })\r\n            .catch(err => {\r\n                this.setState({ sendingComment: false, commentError: 'Une érreur s\\'est produite. Veuillez recharger la page.' })\r\n            })\r\n        } catch (error) {\r\n            this.setState({ sendingComment: false, commentError: 'Une érreur s\\'est produite. Veuillez recharger la page.' })\r\n        }\r\n    }\r\n\r\n    getCoupon = () => {\r\n        if(this.props.user) {\r\n            if (this.state.announce.coupons && this.state.announce.coupons.clients) {\r\n                // Verify if i have not already download the this coupons\r\n                if (this.state.announce.coupons.clients.includes(this.props.user._id)) {\r\n                    addNotification(\"warning\", \"Coupon Info!\", \"Vous avez déja télécharger le coupon.\")\r\n                } else {\r\n                    // Verify if user have already make reservation\r\n                    let haveMakedReservation = false;\r\n                    this.state.announce.reservations.forEach(res => {\r\n                        if (res.userId === this.props.user._id) {\r\n                            haveMakedReservation = true;\r\n                            return;\r\n                        }\r\n                    })\r\n                    if(haveMakedReservation) {\r\n                        // this.setState({downloadingCoupon: true})\r\n                        // update the the remainings coupons\r\n                        let url = rootUrl + '/api/' + this.props.match.params.anounceType + '/' + this.state.announce._id + '/add/coupon';\r\n                        let coupon = { ...this.state.announce.coupons};\r\n                        coupon.nCoupons = Number(coupon.nCoupons) - 1;\r\n                        coupon.clients.push(this.props.user._id);\r\n                        axios.patch(url, { coupon: coupon })\r\n                        .then(res => {\r\n                            let newAnnounce = {...this.state.announce}\r\n                            newAnnounce.coupons.clients.push(this.props.user._id)\r\n                            this.setState({showCouponModal: false})\r\n                            addNotification(\"success\", \"Coupon!\", \"Le coupon a été sauvegardé dans votre espace personnel.\")\r\n                            // Generate the pdf\r\n                            /* image2base64(logo) // you can also to use url\r\n                                .then(response => {\r\n                                    const {infos, montant, datelimite} = this.state.announce.coupons;\r\n                                    let docDefinition = counponToPrint(response, infos, montant, datelimite, \r\n                                        this.state.announce.title, window.location.href, this.state.announce.title.split(' ').join('-'))\r\n                                    const pdfDocGenerator = pdfMake.createPdf(docDefinition).open();\r\n                                    this.setState({ downloadingCoupon: false, announce: newAnnounce, showCouponModal: false });\r\n                                    pdfDocGenerator.getDataUrl((dataUrl) => {\r\n                                        const iframe = document.createElement('iframe');\r\n                                        iframe.src = dataUrl;\r\n                                        // document.getElementById(\"couponpreview\").appendChild(iframe);\r\n                                    });\r\n                                })\r\n                                .catch((error) => console.log(error)) */\r\n                        })\r\n                        .catch(err => {\r\n                            this.setState({ loading: false, couponError: 'Une erreur s\\'est produite. Veuillez reéssayer.' });\r\n                        })\r\n                    } else {\r\n                        addNotification(\"warning\", \"Coupon Info!\", \"Veuillez effectuer une reservation avant de télécharger le coupon.\")\r\n                    }\r\n                }\r\n            }\r\n        } else {\r\n            this.props.history.push('/auth/login');\r\n        }\r\n    }\r\n\r\n    displayToast = () => {\r\n        this.setState({showToast: true});\r\n        navigator.clipboard.writeText('http://entrecops.co/annonce/' + this.props.match.params.anounceType + '/' + this.props.match.params.id,);\r\n        setTimeout(() => {\r\n            this.setState({showToast: false});\r\n        }, 2000)\r\n    }\r\n\r\n    setFile(name,file, previewFile) {\r\n        this.setState({\r\n            [name]: file\r\n        });\r\n    }\r\n\r\n    openMap = (e, url) => {\r\n        e.preventDefault()\r\n        const width = 600, height = 600\r\n        const left = (window.innerWidth / 2) - (width / 2)\r\n        const top = (window.innerHeight / 2) - (height / 2)\r\n\r\n        return window.open(url, '',\r\n            `toolbar=no, location=no, directories=no, status=no, menubar=no, \r\n      scrollbars=no, resizable=no, copyhistory=no, width=${width}, \r\n      height=${height}, top=${top}, left=${left}`\r\n        )\r\n    }\r\n\r\n    render() {\r\n        const { announce, error, loading, name, email, tel, messageValid, reserving, downloadingCoupon,\r\n                numberOfPlaces, formValid, reservationError, recError, sendingComment, userEmail, userName, userMessage } = this.state;\r\n        const {anounceType} = this.props.match.params;\r\n\r\n        let images = [];\r\n        if(announce&&announce.images) {\r\n            images = announce.images.map(image => {\r\n                return {\r\n                    original: rootUrl + '/' + image,\r\n                    thumbnail: rootUrl + '/' + image\r\n                }\r\n            })\r\n        }\r\n\r\n        return (\r\n            <Hoc>\r\n                <Header />\r\n                <Notification />\r\n                <section className=\"project-details\">\r\n                    <div className=\"container\" id=\"projectdetails\">\r\n                        <div className=\"row\">\r\n                            {error.length ? <div className=\"alert alert-danger d-block mr-auto ml-auto\">{error}</div>:null}\r\n                        </div>\r\n                        <div className=\"row pb-5 pt-3\">\r\n                            {\r\n                                loading ? <div className=\"d-block mr-auto ml-auto py-5 mt-5\"><Loader /></div>:\r\n                                <Fragment>\r\n                                    <div className=\"col-sm-12 col-md-8 col-lg-8 left\">\r\n                                        <div className=\"infos pb-4\">\r\n                                            {/* <img src={rootUrl + '/' +announce.image} alt=\"service\" /> */}\r\n                                            {/* <AwesomeSlider bullets={false} cssModule={AwsSliderStyles}>\r\n                                                {announce.images.map((image, id) => <div key={id} data-src={rootUrl + '/' + image} />)}\r\n                                            </AwesomeSlider> */}\r\n\r\n                                            <ImageGallery items={images} />\r\n\r\n                                            <div className=\"otherinfos\">\r\n                                                <div className=\"d-flex align-items-center justify-content-between titleandstars\">\r\n                                                    <div>\r\n                                                        <h2>{announce.title}</h2>\r\n                                                        <h5 className=\"py-2\">{announce.category}</h5>\r\n                                                    </div>\r\n                                                    <div className=\"moreinfos d-none d-md-block d-flex justify-content-between mt-3\">\r\n                                                        <Stars \r\n                                                            rate={announce.rate ? announce.rate: null }\r\n                                                            anounceType={anounceType}  \r\n                                                            id={this.props.match.params.id} />\r\n                                                    </div>\r\n                                                </div>\r\n                                                <hr/>\r\n                                            </div>\r\n\r\n                                            {/* Mobile Version */}\r\n                                            <div className=\"right right-mobile\" id=\"right-mobile\">\r\n                                                <div className=\"infos\">\r\n                                                {\r\n                                                    anounceType === \"event\" ?\r\n                                                    <Fragment>\r\n                                                        <div className=\"d-flex py-2\">\r\n                                                            <FontAwesomeIcon icon={faCalendar} size={\"2x\"} />\r\n                                                            <h2>Date: <DateFormat date={announce.date} /></h2>\r\n                                                        </div>\r\n                                                        <hr />\r\n                                                        <div className=\"d-flex py-2\">\r\n                                                            <FontAwesomeIcon icon={faMapMarked} size={\"2x\"} />\r\n                                                            <h2>Lieu: {announce.place}</h2>\r\n                                                        </div>\r\n                                                    </Fragment>:null\r\n                                                }\r\n                                                {\r\n                                                    anounceType === \"service\" ?\r\n                                                    <Fragment>\r\n                                                        <div className=\"d-flex py-2\">\r\n                                                            <FontAwesomeIcon icon={faCalendar} size={\"2x\"} />\r\n                                                            <h2>Durée: {announce.duration}</h2>\r\n                                                        </div>\r\n                                                        <hr />\r\n                                                        <div className=\"d-flex py-2\">\r\n                                                            <FontAwesomeIcon icon={faMapMarked} size={\"2x\"} />\r\n                                                            <h2>Lieu: {announce.place}</h2>\r\n                                                        </div>\r\n                                                        <hr />\r\n                                                        <div className=\"d-flex py-2\">\r\n                                                            <FontAwesomeIcon icon={faAnchor} size={\"2x\"} />\r\n                                                            <h2>Cible: {announce.target}</h2>\r\n                                                        </div>\r\n                                                    </Fragment>:null\r\n                                                }\r\n                                                    <hr />\r\n                                                    <button className=\"button mt-3 book\" \r\n                                                        onClick={this.openReservationModal}>Reserver</button>\r\n                                                    <button className=\"button mt-3 reccommand\" \r\n                                                        onClick={this.openRecommandationModal}>Recommander</button>\r\n                                                </div>\r\n\r\n                                                <div className=\"other-infos mt-4\">\r\n                                                    {announce.coupons ?\r\n                                                        Number(announce.coupons.nCoupons) > 0 ?\r\n                                                            <div className=\"d-flex flex-column py-2\">\r\n                                                                <h3 className=\"pb-3\">Coupon  disponible !!</h3>\r\n                                                                <h3 style={{ color: \"#DC3545\" }}>{announce.coupons.infos}</h3><br />\r\n                                                                <h4>Coupon de réduction de <strong>{announce.coupons.montant}</strong>.</h4><br />\r\n                                                                <button className=\"button mt-2 book\" onClick={() => this.setState({showCouponModal: true})}>Télécharger le Coupon {downloadingCoupon ? <Loader color=\"white\" /> : null}</button>\r\n                                                            </div> :\r\n                                                            <div className=\"d-flex flex-column py-2\">\r\n                                                                <h3>Pas de Coupons de réductions disponible pour cette annonce.</h3>\r\n                                                            </div> :\r\n                                                        <div className=\"d-flex flex-column py-2\">\r\n                                                            <h3>Pas de Coupons de réductions disponible pour cette annonce.</h3>\r\n                                                        </div>\r\n                                                    }\r\n                                                </div>\r\n                                                <div className=\"moreinfos d-flex justify-content-between mb-3\">\r\n                                                    <div className=\"headers d-flex align-items-center py-4\">\r\n                                                        <FontAwesomeIcon icon={faComment} size={\"2x\"} />\r\n                                                        <h3 className=\"ml-3 mb-0\">Reviews des clients</h3>\r\n                                                    </div>\r\n                                                    <Stars \r\n                                                        rate={announce.rate ? announce.rate: null }\r\n                                                        anounceType={anounceType}  \r\n                                                        id={this.props.match.params.id} />\r\n                                                </div>\r\n                                                <div className=\"other-infos mt-4\">\r\n                                                    <div className=\"d-flex flex-column\">\r\n                                                        {\r\n                                                            announce.video&&announce.video.length ?\r\n                                                            <Fragment>\r\n                                                                <h3 className=\"mb-3\">Regardez l'aperçu en video</h3>\r\n                                                                <video src={rootUrl + '/' + announce.video} width=\"100%\" height=\"100%\" controls onClick={() => this.setState({ showVideo: true })}>\r\n                                                                </video>\r\n                                                            </Fragment> :\r\n                                                                    announce.youtubeVideoLink&&announce.youtubeVideoLink.length ?\r\n                                                                <Fragment>\r\n                                                                    <h3 className=\"mb-3\">Regardez l'aperçu en video</h3>\r\n                                                                    <iframe width=\"100%\" height=\"100%\" title=\"Video de l'annonce\"\r\n                                                                        src={announce.youtubeVideoLink}\r\n                                                                        onClick={() => this.setState({ showVideo: true })}>\r\n                                                                    </iframe>\r\n                                                                </Fragment> :\r\n                                                                <h3 className=\"mb-3 text-center\">Aucune vidéo disponible.</h3>\r\n                                                        }\r\n                                                    </div>\r\n                                                    <div className=\"d-flex flex-column\">\r\n                                                        <h3 className=\"mb-4\">Localisation</h3>\r\n                                                        {announce.mapLink && announce.mapLink.length ?\r\n                                                            <Fragment>\r\n                                                                <h2><a href=\"#map\" style={{\"cursor\":\"pointer\"}} onClick={(e) => this.openMap(e, announce.mapLink)} >Lien Google Map</a></h2>\r\n                                                                <p>Cliquez sur le lien pour agrandir.</p>\r\n                                                            </Fragment> :\r\n                                                            <p>Pas de Localisation disponible</p>}\r\n                                                        <h3 className=\"mb-3 mt-5\">A propos du promoteur</h3>\r\n                                                        <div className=\"d-flex justify-content-between align-items-center owner\">\r\n                                                            <div>\r\n                                                                <p>Nom: {announce.owner.name}</p>\r\n                                                                <p>Tel: {announce.owner.tel}</p>\r\n                                                            </div>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                            {/* End Mobile Version */}\r\n\r\n                                            {\r\n                                                anounceType === \"event\" ?\r\n                                                <Fragment>\r\n                                                    <div className=\"otherinfos\">\r\n                                                        <div className=\"d-flex flex-column\">\r\n                                                            <h3>Description</h3>\r\n                                                            <p>{announce.description}</p>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                    <div className=\"otherinfos\">\r\n                                                        <div className=\"d-flex flex-column\">\r\n                                                            <h3>Autres Informations</h3>\r\n                                                            <p>{announce.otherInfos}</p>\r\n                                                        </div>\r\n                                                        <hr/>\r\n                                                    </div>\r\n                                                </Fragment>:null\r\n                                            }\r\n                                            {\r\n                                                anounceType === \"service\" ?\r\n                                                <Fragment>\r\n                                                    <div className=\"otherinfos\">\r\n                                                        <div className=\"d-flex flex-column\">\r\n                                                            <h3>Offre</h3>\r\n                                                            <p>{announce.offre}</p>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                    <div className=\"otherinfos\">\r\n                                                        <div className=\"d-flex flex-column\">\r\n                                                            <h3>Problème</h3>\r\n                                                            <p>{announce.problem}</p>\r\n                                                        </div>\r\n                                                        <hr/>\r\n                                                    </div>\r\n                                                </Fragment>:null\r\n                                            }\r\n\r\n                                            <div className=\"moreinfos d-flex justify-content-between mb-3\">\r\n                                                <div className=\"headers d-flex align-items-center py-4\">\r\n                                                    <FontAwesomeIcon icon={faComment} size={\"2x\"} />\r\n                                                    <h3 className=\"ml-3 mb-0\">Reviews des clients</h3>\r\n                                                </div>\r\n                                            </div>\r\n                                            <div className=\"moreinfos\">\r\n                                                <div className=\"content\">\r\n                                                    {\r\n                                                        announce.comments&&announce.comments.length ?\r\n                                                        announce.comments.reverse().map((comment, i) => (\r\n                                                            <ReviewItem key={i} comment={comment} />\r\n                                                        ))\r\n                                                        : <h5 className=\"text-center py-3\">Aucun commentaire</h5>\r\n                                                    }\r\n                                                </div>\r\n                                            </div>\r\n                                            <div className=\"form-content mb-5\">\r\n                                                <p>Laissez un commentaire</p>\r\n                                                <form className=\"input__form\">\r\n                                                    <div className=\"row\">\r\n                                                        <div className=\"col-sm-6\">\r\n                                                            <div className=\"form-group\">\r\n                                                                    <input placeholder=\"Votre nom\" value={userName} className=\"form-control\" name=\"userName\" onChange={(e) => this.handleInputChange(e)} />\r\n                                                            </div>\r\n                                                        </div>\r\n                                                        <div className=\"col-sm-6\">\r\n                                                            <div className=\"form-group\">\r\n                                                                    <input placeholder=\"Adresse email\" value={userEmail} className=\"form-control\" name=\"userEmail\" onChange={(e) => this.handleInputChange(e)} />\r\n                                                            </div>\r\n                                                        </div>\r\n                                                        <div className=\"col-sm-12 my-2\">\r\n                                                            <div className=\"form-group\">\r\n                                                                    <textarea placeholder=\"Entrer votre commentaire\" value={userMessage} name=\"userMessage\" className=\"form-control\" onChange={(e) => this.handleInputChange(e)} id=\"textmessage\" rows=\"3\"></textarea>\r\n                                                            </div>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                    <button disabled={sendingComment || !messageValid} onClick={(e) => this.submitComment(e)} className=\"btn btn-danger send-btn\" type=\"submit\">Publier {sendingComment ? <Loader color=\"white\"/>:null}</button>\r\n                                                </form>\r\n                                            </div>\r\n                                        </div>\r\n                                    \r\n                                    </div>\r\n\r\n                                    <div className=\"col-sm-12 col-md-4 col-lg-4 right right-desktop\">\r\n                                        <div className=\"\">\r\n                                            <div className=\"infos\">\r\n                                            {\r\n                                                anounceType === \"event\" ?\r\n                                                <Fragment>\r\n                                                    <div className=\"d-flex py-2\">\r\n                                                        <FontAwesomeIcon icon={faCalendar} size={\"2x\"} />\r\n                                                        <h2>Date: <DateFormat date={announce.date} /></h2>\r\n                                                    </div>\r\n                                                    <hr />\r\n                                                    <div className=\"d-flex py-2\">\r\n                                                        <FontAwesomeIcon icon={faMapMarked} size={\"2x\"} />\r\n                                                        <h2>Lieu: {announce.place}</h2>\r\n                                                    </div>\r\n                                                </Fragment>:null\r\n                                            }\r\n                                            {\r\n                                                anounceType === \"service\" ?\r\n                                                <Fragment>\r\n                                                    <div className=\"d-flex py-2\">\r\n                                                        <FontAwesomeIcon icon={faCalendar} size={\"2x\"} />\r\n                                                        <h2>Durée: {announce.duration}</h2>\r\n                                                    </div>\r\n                                                    <hr />\r\n                                                    <div className=\"d-flex py-2\">\r\n                                                        <FontAwesomeIcon icon={faMapMarked} size={\"2x\"} />\r\n                                                        <h2>Lieu: {announce.place}</h2>\r\n                                                    </div>\r\n                                                    <hr />\r\n                                                    <div className=\"d-flex py-2\">\r\n                                                        <FontAwesomeIcon icon={faAnchor} size={\"2x\"} />\r\n                                                        <h2>Cible: {announce.target}</h2>\r\n                                                    </div>\r\n                                                </Fragment>:null\r\n                                            }\r\n                                                <hr />\r\n                                                <button className=\"button mt-3 book\" \r\n                                                    onClick={() => this.openReservationModal()}>Reserver</button>\r\n                                                <button className=\"button mt-3 reccommand\" \r\n                                                    onClick={() => this.openRecommandationModal()}>Recommander</button>\r\n                                            </div>\r\n\r\n                                            <div className=\"other-infos mt-4\">\r\n                                                {announce.coupons ?\r\n                                                    Number(announce.coupons.nCoupons) > 0 ?\r\n                                                    <div className=\"d-flex flex-column py-2\">\r\n                                                        <h3 className=\"pb-3\">Coupon  disponible !!</h3>\r\n                                                        <h3 style={{ color: \"#DC3545\"}}>{announce.coupons.infos}</h3><br/>\r\n                                                        <h4>Coupon de réduction de <strong>{announce.coupons.montant}</strong>.</h4><br/>\r\n                                                        <button className=\"button mt-2 book\" onClick={() => this.setState({ showCouponModal: true })}>Télécharger le Coupon {downloadingCoupon ? <Loader color=\"white\" /> : null}</button>\r\n                                                    </div>:\r\n                                                    <div className=\"d-flex flex-column py-2\">\r\n                                                        <h3>Pas de Coupons de réductions disponible pour cette annonce.</h3>\r\n                                                    </div>:\r\n                                                    <div className=\"d-flex flex-column py-2\">\r\n                                                        <h3>Pas de Coupons de réductions disponible pour cette annonce.</h3>\r\n                                                    </div>\r\n                                                }\r\n                                            </div>\r\n                                            <div className=\"other-infos mt-4\">\r\n                                                <div className=\"d-flex flex-column\">\r\n                                                        {\r\n                                                            announce.video&&announce.video.length ?\r\n                                                                <Fragment>\r\n                                                                    <h3 className=\"mb-3\">Regardez l'aperçu en video</h3>\r\n                                                                    <video src={rootUrl + '/' + announce.video} width=\"100%\" height=\"100%\" controls onClick={() => this.setState({ showVideo: true })}>\r\n                                                                    </video>\r\n                                                                </Fragment> :\r\n                                                                announce.youtubeVideoLink&&announce.youtubeVideoLink.length ?\r\n                                                                    <Fragment>\r\n                                                                        <h3 className=\"mb-3\">Regardez l'aperçu en video</h3>\r\n                                                                        <iframe width=\"100%\" height=\"100%\" title=\"Video de l'annonce\"\r\n                                                                            src={announce.youtubeVideoLink}\r\n                                                                            onClick={() => this.setState({ showVideo: true })}>\r\n                                                                        </iframe>\r\n                                                                    </Fragment> :\r\n                                                                <h3 className=\"mb-3 text-center\">Aucune vidéo disponible.</h3>\r\n                                                        }\r\n                                                </div>\r\n                                            </div>\r\n                                            <div className=\"other-infos mt-4\">\r\n                                                <div className=\"d-flex flex-column\">\r\n                                                    <h3 className=\"mb-4\">Localisation</h3>\r\n                                                    {announce.mapLink && announce.mapLink.length ?\r\n                                                    <Fragment>\r\n                                                        <h2><a href=\"#map\" style={{ \"cursor\": \"pointer\" }} onClick={(e) => this.openMap(e, announce.mapLink)} >Lien Google Map</a></h2>\r\n                                                        <p>Cliquez sur le lien pour agrandir.</p>\r\n                                                    </Fragment>:\r\n                                                    <p>Pas de Localisation disponible</p>}\r\n                                                    <h3 className=\"mb-3 mt-5\">A propos du promoteur</h3>\r\n                                                    <div className=\"d-flex justify-content-between align-items-center owner\">\r\n                                                        <div>\r\n                                                            <p>Nom: {announce.owner.name}</p>\r\n                                                            <p>Tel: {announce.owner.tel}</p>\r\n                                                        </div>\r\n                                                        <img src={rootUrl+'/'+announce.owner.profileImage} alt=\"profileimage\" width=\"100\" height=\"100\" className=\"rounded-circle align-self-center\" />\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                            </Fragment>\r\n                            }\r\n                        </div>\r\n                    </div>\r\n                </section>\r\n\r\n                {/* Reservation */}\r\n                <Modal show={this.state.showReservationModal} onHide={() => this.setState({showReservationModal: !this.state.showReservationModal})} >\r\n                    <Modal.Header closeButton>\r\n                    <Modal.Title>Faites votre réservation</Modal.Title>\r\n                    </Modal.Header>\r\n                    <Modal.Body>\r\n                        <div className=\"container\">\r\n                            <div className=\"row\">\r\n                                <div className=\"col-sm-12 pl-4 pr-4 mt-4 mb-3\">\r\n                                    {!formValid ? <div className=\"alert alert-danger\">Veuillez remplir tous les champs</div>:null}\r\n                                    {reservationError.length ? <div className=\"alert alert-danger\">{reservationError}</div>:null}\r\n                                    <div className=\"form-group\">\r\n                                        <label for=\"name\">Nom complet</label>\r\n                                        <input type=\"text\" className=\"form-control\" onChange={(e) => this.handleInputChange(e)} value={name} name=\"name\" id=\"name\" placeholder=\"Nom complet\"/>\r\n                                    </div>\r\n                                    <div className=\"form-group\">\r\n                                        <label for=\"email\">Email address</label>\r\n                                        <input type=\"email\" className=\"form-control\" onChange={(e) => this.handleInputChange(e)} value={email} name=\"email\" id=\"email\" placeholder=\"Adresse Email\"/>\r\n                                    </div>\r\n                                    <div className=\"form-group\">\r\n                                        <label for=\"tel\">Numero de Téléphone (Whatsapp)</label>\r\n                                        <input type=\"tel\" className=\"form-control\" value={tel} onChange={(e) => this.handleInputChange(e)} name=\"tel\" id=\"tel\" pattern=\"[0-9]{9}\" placeholder=\"Numero Whatsapp\"/>\r\n                                    </div>\r\n                                    <div className=\"form-group\">\r\n                                        <label for=\"places\">Nombre de places</label>\r\n                                        <input type=\"number\" className=\"form-control\" value={numberOfPlaces} onChange={(e) => this.handleInputChange(e)} name=\"numberOfPlaces\" id=\"places\" placeholder=\"Nombre de places\"/>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </Modal.Body>\r\n                    <Modal.Footer>\r\n                        <div className=\"py-3\">\r\n                            <Button variant=\"danger\" disabled={!formValid || reserving} onClick={(e) => this.makeReservation(e) }>\r\n                                Valider la Reservation {reserving ? <Loader color=\"white\" />: null}\r\n                            </Button>\r\n                            <Button variant=\"default\" onClick={() => this.setState({showReservationModal: !this.state.showReservationModal})}>\r\n                                Fermer\r\n                            </Button>\r\n                        </div>\r\n                    </Modal.Footer>\r\n                </Modal>\r\n\r\n                {/* Recommandation */}\r\n                <Modal show={this.state.showRecModal} onHide={() => this.setState({showRecModal: !this.state.showRecModal})} size=\"lg\" >\r\n                    <Modal.Header closeButton>\r\n                    <Modal.Title>Faire des recommandations</Modal.Title>\r\n                    </Modal.Header>\r\n                    <Modal.Body>\r\n                        <div className=\"container\">\r\n                            <div className=\"row\">\r\n                                <div className=\"col-sm-12 pl-4 pr-4 mt-4 mb-3\">\r\n                                    {recError.length ? <div className=\"alert alert-danger\">{recError}</div>:null}\r\n                                    <div className=\"d-flex flex-row search align-items-center\">\r\n                                        <input type=\"text\" className=\"form-control searchInput\" value={this.state.search} onChange={(e) => this.searchUser(e)} name=\"search\" placeholder=\"Rechercher un membre\"/>\r\n                                        <FontAwesomeIcon icon={faSearch} />\r\n                                    </div>\r\n                                    {/* Results */}\r\n                                    {\r\n                                        this.state.searchingUser ? <div className=\"d-block mr-auto ml-auto text-center mt-3\"><Loader/></div>:\r\n                                            this.state.userList.length ?\r\n                                            <div className=\"results py-5\">\r\n                                                {\r\n                                                    this.state.userList.map((user, i) => {\r\n                                                        const item = user.recommandations.filter(ev => (\r\n                                                            ev.title === announce.title\r\n                                                        ))\r\n                                                        if (item.length) {\r\n                                                            return <SearchResultItem key={i} recommanded={true} makeRecommandation={() => this.makeRecommadation(user._id)} name={user.name} email={user.email} />\r\n                                                        } else {\r\n                                                            return <SearchResultItem key={i} recommanded={false} makeRecommandation={() => this.makeRecommadation(user._id)} name={user.name} email={user.email} />\r\n                                                        }\r\n                                                    })\r\n                                                }\r\n                                            </div>:<h5 className=\"text-center d-block mr-auto ml-auto mt-3\">Aucun utilisateur trouvé.</h5>\r\n                                    }\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </Modal.Body>\r\n                    <Modal.Footer>\r\n                        {this.state.showToast ? <h4 className=\"mr-3\">Lien de partage Copié !!!</h4> : null}\r\n                        {/* <Button variant=\"outline-dark\" onClick={this.displayToast}>\r\n                            Copier le lien de partage\r\n                        </Button> */}\r\n                        <Button variant=\"default\" onClick={() => this.setState({showRecModal: !this.state.showRecModal})}>\r\n                            Fermer\r\n                        </Button>\r\n                    </Modal.Footer>\r\n                </Modal>\r\n\r\n                {/* Coupon */}\r\n                <Modal show={this.state.showCouponModal} onHide={() => this.setState({showCouponModal: false})} size=\"md\" >\r\n                    <Modal.Header closeButton>\r\n                    <Modal.Title>Coupon de réduction</Modal.Title>\r\n                    </Modal.Header>\r\n                    <Modal.Body>\r\n                        <div className=\"container\">\r\n                            <div className=\"row justify-content-between\">\r\n                                <div className=\"col-sm-12 pl-4 pr-4 mt-4 mb-3 text-center\">\r\n                                    <Fragment>\r\n                                        {\r\n                                            this.state.announce&&this.state.announce.coupons ?\r\n                                            <Fragment>\r\n                                                <CouponPreview coupon={this.state.announce.coupons} />\r\n                                                <div className=\"d-flex justify-content-center\" id=\"couponpreview\">\r\n                                                    <button \r\n                                                        className=\"btn btn-danger btn-lg mb-2 mt-4\" \r\n                                                        onClick={this.getCoupon}>Sauvegarder le coupon {downloadingCoupon ? <Loader color=\"white\" /> : null}</button>\r\n                                                </div>\r\n                                            </Fragment>\r\n                                            :null\r\n                                        }\r\n                                    </Fragment>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </Modal.Body>\r\n                    <Modal.Footer>\r\n                        <div className=\"py-3\">\r\n                            <Button variant=\"default\" onClick={() => this.setState({showCouponModal: false})}>\r\n                                Fermer\r\n                            </Button>\r\n                        </div>\r\n                    </Modal.Footer>\r\n                </Modal>\r\n\r\n                {/* Video */}\r\n                <Modal show={this.state.showVideo} onHide={() => this.setState({showVideo: false})} size=\"lg\" >\r\n                    <Modal.Header closeButton>\r\n                    <Modal.Title>Video</Modal.Title>\r\n                    </Modal.Header>\r\n                    <Modal.Body>\r\n                        {\r\n                            this.state.announce && this.state.announce.video && this.state.announce.video.length ?\r\n                                <Fragment>\r\n                                    <h3 className=\"mb-3\">Regardez l'aperçu en video</h3>\r\n                                    <video src={rootUrl + '/' + this.state.announce.video} width=\"100%\" height=\"100%\" controls onClick={() => this.setState({ showVideo: true })}>\r\n                                    </video>\r\n                                </Fragment> :\r\n                                this.state.announce && this.state.announce.youtubeVideoLink && this.state.announce.youtubeVideoLink.length ?\r\n                                    <Fragment>\r\n                                        <h3 className=\"mb-3\">Regardez l'aperçu en video</h3>\r\n                                        <iframe width=\"100%\" height=\"100%\" title=\"Video de l'annonce\"\r\n                                            src={this.state.announce.youtubeVideoLink}\r\n                                            onClick={() => this.setState({ showVideo: true })}>\r\n                                        </iframe>\r\n                                    </Fragment> :\r\n                                    <h3 className=\"mb-3 text-center\">Aucune vidéo disponible.</h3>\r\n                        }\r\n                    </Modal.Body>\r\n                </Modal>\r\n            </Hoc>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapPropsToState = state => {\r\n    return {\r\n        user: state.auth.user\r\n    }\r\n}\r\n\r\nexport default connect(mapPropsToState)(DetailsPage);","import React, { Component, Fragment } from 'react';\r\n\r\n// Task component - represents a single todo item\r\nexport default class Upload extends Component {\r\n      constructor(props) {\r\n          super(props);\r\n          \r\n          this.state = {\r\n              url: ''\r\n          }\r\n      }\r\n\r\n    preview(event){\r\n      this.setState({url: URL.createObjectURL(event.target.files[0])});\r\n      this.props.setFile(this.props.name, event.target.files[0])\r\n    }\r\n\r\n    render() {\r\n        const {url} = this.state;\r\n        const { label, oldUrl, type, isEditing} = this.props;\r\n        let accept = type === \"image\" ? \"image/png,image/jpeg,image/jpg\" : (type === \"document\" ? \".docx, .pptx, .pdf\" : \"video/*\");\r\n\r\n    return ( \r\n        <Fragment>\r\n            <button disabled={isEditing} type=\"button\" className=\"btn btn-dark mb-2\" onClick={()=>this.inputElement.click()}>{label} </button>\r\n            <input style={{visibility:'hidden'}} accept={accept} onChange={(event) => this.preview(event)} ref={input => this.inputElement = input} type=\"file\" />\r\n            <div className=\"ibox\">\r\n                <div className=\"ibox-content product-box active\">\r\n                    <div className={!url&&!oldUrl?'product-imitation':''}>\r\n                    {!(url||oldUrl)? '':'' }\r\n                     {(url||oldUrl)&&type===\"image\"?<img src={url||oldUrl} accept={accept} alt=\"\" style={{width:'100%'}} />:''}\r\n                    \r\n                    {(url||oldUrl)&&type===\"document\"?\r\n                        <iframe src={url||oldUrl||''} projectName=\"Funnel PDF\" align=\"top\" width=\"100%\" frameBorder=\"0\" title=\"Doc\" target=\"Message\"><p>Your browser doesn't support Iframe. Here is a <a href={url||oldUrl} >link to the document</a> instead.</p> </iframe>:''}\r\n\r\n                    {(url||oldUrl)&&type===\"video\"?<video src={url||oldUrl||''}  width=\"100%\" controls><p>Your browser doesn't support HTML5 video. Here is a <a href={url||oldUrl}>link to the video</a> instead.</p> </video>:''}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </Fragment>\r\n        );\r\n    }\r\n}","import React, {Component, Fragment} from 'react';\r\nimport Modal from 'react-bootstrap/Modal';\r\nimport Button from 'react-bootstrap/Button';\r\nimport DatePicker from \"react-datepicker\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport Upload from '../../components/Forms/Upload';\r\nimport axios from 'axios';\r\nimport socketIOClient from 'socket.io-client';\r\nimport Loader from '../../globalComponent/Loader';\r\nimport {rootUrl} from '../../../configs/config';\r\nimport { Notification, addNotification } from '../../globalComponent/Notifications'\r\nimport './EventForm.scss';\r\n\r\nclass EventModal extends Component {\r\n    state = {\r\n        title: '',\r\n        category: '',\r\n        place: '',\r\n        description: '',\r\n        date: new Date(),\r\n        eventVideo: '',\r\n        youtubeVideoLink: '',\r\n        previewImages: '',\r\n        otherInfos: '',\r\n        mapLink: '',\r\n        images: null,\r\n        isTyping: false,\r\n        formValid: false,\r\n        titleValid: false,\r\n        categoryValid: false,\r\n        placeValid: false,\r\n        descriptionValid: false,\r\n        imageValid: false,\r\n        loading: false,\r\n        error: '',\r\n        categories: [],\r\n        validated: false,\r\n        validating: false,\r\n        deleting: false,\r\n        tags: ''\r\n    }\r\n\r\n    handleInputChange = (e) => {\r\n        e.preventDefault();\r\n        const name = e.target.name;\r\n        let value = e.target.value;\r\n        if(name === \"youtubeVideoLink\") {\r\n            let newValue = \"https://www.youtube.com/embed/\"+value.split(\"=\")[1]\r\n            if(newValue.includes(\"&\")) {\r\n                newValue = newValue.split(\"&\")[0]\r\n            }\r\n            value = newValue;\r\n        }\r\n        this.setState({ [name]: value, error: '' },\r\n            () => { this.validateField(name, value) });\r\n    }\r\n\r\n    validateField = (fieldName, value) => {\r\n        let { titleValid, descriptionValid, placeValid, imageValid, categoryValid } = this.state;\r\n\r\n        switch (fieldName) {\r\n            case 'title':\r\n                titleValid = value.length > 0;\r\n                break;\r\n            case 'description':\r\n                descriptionValid = value.length > 0;\r\n                break;\r\n            case 'place':\r\n                placeValid = value.length > 0;\r\n                break;\r\n            case 'category':\r\n                categoryValid = value.length > 0;\r\n                break;\r\n            case 'images':\r\n                imageValid = value;\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n        this.setState({\r\n            titleValid: titleValid,\r\n            descriptionValid: descriptionValid,\r\n            placeValid: placeValid,\r\n            imageValid: imageValid,\r\n            categoryValid: categoryValid\r\n        }, this.validateForm);\r\n    }\r\n\r\n    validateForm = () => {\r\n        this.setState({\r\n            formValid:\r\n                this.state.titleValid &&\r\n                this.state.placeValid &&\r\n                this.state.descriptionValid &&\r\n                this.state.imageValid &&\r\n                this.state.categoryValid\r\n        });\r\n    }\r\n\r\n    handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        if (this.state.formValid) {\r\n            const formData = new FormData();\r\n            const { title, description, place, category, eventVideo, otherInfos, date, images, youtubeVideoLink, tags, mapLink } = this.state;\r\n            formData.append('title', title);\r\n            formData.append('category', category);\r\n            formData.append('place', place);\r\n            formData.append('youtubeVideoLink', youtubeVideoLink);\r\n            formData.append('description', description);\r\n            formData.append('otherInfos', otherInfos);\r\n            formData.append('date', date);\r\n            formData.append('tags', tags);\r\n            formData.append('mapLink', mapLink);\r\n            formData.append('user', JSON.stringify(this.props.user));\r\n            Array.from(images).forEach(file => {\r\n                formData.append('images', file);\r\n            });\r\n            if(eventVideo !== \"\") {\r\n                formData.append('eventVideo', eventVideo);\r\n            }\r\n            const config = {\r\n                headers: {\r\n                    'content-type': 'multipart/form-data'\r\n                }\r\n            };\r\n            // Add event\r\n            this.setState({ loading: true });\r\n            try {\r\n                axios.post('/api/event/new', formData, config)\r\n                    .then(res => {\r\n                        this.setState({ \r\n                            loading: false, \r\n                            error: '',\r\n                            title: '',\r\n                            place: '',\r\n                            category: '',\r\n                            otherInfos: '',\r\n                            description: '',\r\n                            mapLink: '',\r\n                            eventVideo: '',\r\n                            images: null,\r\n                            previewImages: null\r\n                         });\r\n                        if (this.props.refreshEventList) {\r\n                            this.props.refreshEventList();\r\n                        }\r\n                        this.props.closeModal();\r\n                    })\r\n                    .catch(err => {\r\n                        console.log({err});\r\n                        this.setState({ error: \"Une érreur s'est produite. Veuillez reéssayer.\", loading: false });\r\n                    })\r\n            } catch (error) {\r\n                this.setState({ error: \"Erreur de connexion. Veuillez reéssayer\", loading: false });\r\n            }\r\n        } else {\r\n            this.setState({ error: \"Veuillez remplir tous les champs\", isTyping: true });\r\n        }\r\n    }\r\n\r\n    updateEvent = (e) => {\r\n        e.preventDefault();\r\n        const formData = new FormData();\r\n        const { images } = this.state;\r\n        if(images) {\r\n            Array.from(images).forEach(file => {\r\n                formData.append('images', file);\r\n            });\r\n            const config = {\r\n                headers: {\r\n                    'content-type': 'multipart/form-data'\r\n                }\r\n            };\r\n            this.setState({ loading: true });\r\n            try {\r\n                axios.patch('/api/event/' + this.props.event._id, formData, config)\r\n                    .then(res => {\r\n                        this.setState({ \r\n                            loading: false,\r\n                         });\r\n                        this.props.closeModal();\r\n                    })\r\n                    .catch(err => {\r\n                        this.setState({ error: \"Erreur de connexion. Veuillez reéssayer\", loading: false });\r\n                    })\r\n            } catch (error) {\r\n                this.setState({ error: \"Erreur de connexion. Veuillez reéssayer\", loading: false });\r\n            }\r\n        } else {\r\n            addNotification(\"warning\", \"Modification!\", \"Aucune modification éffectuée\")\r\n        }\r\n    }\r\n\r\n    // preview image\r\n    preview = (e) => {\r\n        e.preventDefault()\r\n        let images = Array.from(e.target.files).map(file => URL.createObjectURL(file));\r\n        this.setState({ previewImages: images, images: e.target.files, imageValid: true }, \r\n            () => { this.validateField(\"images\", true)});\r\n    }\r\n\r\n    // preview video\r\n    setFile = (name, file) => {\r\n        this.setState({\r\n            [name]: file,\r\n            error: ''\r\n        }, this.validateForm);\r\n    }\r\n\r\n    pickDate = (date) => {\r\n        this.setState({ date: date })\r\n    }\r\n\r\n    componentDidMount() {\r\n        //Charge categories on form\r\n        this.initCategories();\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n        if(prevProps.event !== this.props.event) {\r\n            const { isEditing, loadingEv, event } = this.props;\r\n            if (isEditing && !loadingEv) {\r\n                let images = event.images.map(image => rootUrl + '/' + image);\r\n                this.setState({\r\n                    title: event.title,\r\n                    category: event.category,\r\n                    place: event.place,\r\n                    description: event.description,\r\n                    date: new Date(event.date),\r\n                    eventVideo: event.video&&event.video.length ? rootUrl + \"/\" + event.video : null,\r\n                    previewImages: images,\r\n                    otherInfos: event.otherInfos ? event.otherInfos : null,\r\n                    validated: event.validated,\r\n                    youtubeVideoLink: event.youtubeVideoLink,\r\n                    tags: event.tags,\r\n                    mapLink: event.mapLink,\r\n                })\r\n            }\r\n        }\r\n    }\r\n\r\n    // Fetch categories on the server and update if there is a new one\r\n    fetchCategories = () => {\r\n        let categories = JSON.parse(localStorage.getItem(\"categories\"));\r\n        axios.get(\"/api/category/all\")\r\n        .then(res => {\r\n            if(JSON.stringify(categories) !== JSON.stringify(res.data.categories)) {\r\n                this.setState({ categories: res.data.categories })\r\n            }\r\n        })\r\n        .catch(err => {\r\n            this.setState({ error: \"Erreur de chargement des catégories. Veuillez reéssayer.\" })\r\n        })\r\n    }\r\n\r\n    initCategories = () => {\r\n        let categories = JSON.parse(localStorage.getItem(\"categories\"));\r\n        if (categories && categories.length) {\r\n            this.setState({ categories: categories });\r\n            // Verify is there is a new category\r\n            this.fetchCategories();\r\n        } else {\r\n            try {\r\n                this.fetchCategories();\r\n            } catch (error) {\r\n                this.setState({ error: \"Erreur de chargement des catégories. Veuillez reéssayer.\" })\r\n            }\r\n        }\r\n    }\r\n\r\n    validateEvent = (event) => {\r\n        this.setState({ validating: true, event: event })\r\n        axios.patch('/api/event/validate/' + event._id)\r\n            .then(res => {\r\n                let events = this.props.events.map(event => {\r\n                    let newEvent = { ...event };\r\n                    if (event._id === this.props.event._id) {\r\n                        newEvent.validated = true;\r\n                    }\r\n                    return newEvent;\r\n                })\r\n                this.props.refreshList(events, \"events\");\r\n                this.props.closeModal();\r\n                this.setState({\r\n                    validating: false,\r\n                    'error': ''\r\n                })\r\n                // Send a notification\r\n                const not = {\r\n                    to: \"all\",\r\n                    title: event.title,\r\n                    image: rootUrl + '/' + event.image,\r\n                    link: '/annonce/event/' + event._id,\r\n                    name: \"Le Fournisseur\",\r\n                    visited: false,\r\n                    projectId: event._id,\r\n                    date: new Date()\r\n                }\r\n                // First save befor send notification\r\n                axios.patch('/api/user/recommand/to/all', { rec: not })\r\n                    .then(res => {\r\n                        const socket = socketIOClient(rootUrl);\r\n                        socket.emit(\"new anounce notification\", not);\r\n                    })\r\n                    .catch(err => {\r\n                        this.setState({ recError: 'Une érreur s\\'est produite. Veuillez recharger la page.' })\r\n                    })\r\n                // Send Email to Supplier\r\n            })\r\n            .catch(err => {\r\n                this.setState({\r\n                    validating: false,\r\n                    'error': 'Erreur survenue, veuillez actualiser'\r\n                })\r\n            })\r\n    }\r\n\r\n    deleteEvent = (event) => {\r\n        this.setState({ deleting: true, event: event })\r\n        axios.delete('/api/event/' + event._id)\r\n            .then(res => {\r\n                let events = this.props.events.filter(event => {\r\n                    return JSON.stringify(event) !== JSON.stringify(this.props.event)\r\n                })\r\n                this.props.refreshList(events, \"events\");\r\n                this.props.closeModal();\r\n                this.setState({\r\n                    deleting: false,\r\n                    'error': ''\r\n                })\r\n            })\r\n            .catch(err => {\r\n                this.setState({\r\n                    deleting: false,\r\n                    error: err\r\n                })\r\n            })\r\n    }\r\n\r\n    render() {\r\n        const { eventVideo, title, description, place, otherInfos, date, youtubeVideoLink,\r\n            category, imageValid, titleValid, descriptionValid, placeValid, categoryValid,\r\n            error, loading, isTyping, categories, validating, deleting, tags, mapLink } = this.state;\r\n        const { show, closeModal, loadingEv, isEditing, event} = this.props;\r\n        return (\r\n            <Modal show={show} onHide={() => closeModal()} size=\"lg\" >\r\n                <Modal.Header closeButton>\r\n                    <Modal.Title>Ajouter une nouvelle Actualité</Modal.Title>\r\n                </Modal.Header>\r\n                <Modal.Body>\r\n                    <Notification/>\r\n                    <form>\r\n                        <div className=\"container\">\r\n                            <div className=\"row\">\r\n                                <div className=\"col-sm-12 pl-4 pr-4 mt-4 mb-3\">\r\n                                    {\r\n                                        loadingEv ? <div className=\"d-flex justify-content-center\"><Loader /></div> :\r\n                                        <Fragment>\r\n                                          {error && error.length ? <div className=\"alert alert-danger\" style={{ fontSize: \"1.3rem\" }}>{error}</div> : null}\r\n                                            <div className=\"form-group\">\r\n                                                <label for=\"name\">Titre</label>\r\n                                                    <input disabled={isEditing} type=\"text\" className={isTyping && !titleValid ? \"form-control is-invalid\" : \"form-control\"} value={title} onChange={(e) => this.handleInputChange(e)} name=\"title\" placeholder=\"Titre de l'évènement\" required />\r\n                                                {isTyping && !titleValid ? <div className=\"invalid-feedback\">Invalide</div> : null}\r\n                                            </div>\r\n                                            <div className=\"form-group\">\r\n                                                <label for=\"category\">Catégorie</label>\r\n                                                <select disabled={isEditing} id=\"category\" name=\"category\" value={category} onChange={(e) => this.handleInputChange(e)} className={isTyping && !categoryValid ? \"form-control is-invalid\" : \"form-control\"} >\r\n                                                    <option>Choisir...</option>\r\n                                                    {\r\n                                                        categories && categories.length ?\r\n                                                            categories.map(category => (\r\n                                                                <option key={category._id}>{category.name}</option>\r\n                                                            )) : <option>Loading...</option>\r\n                                                    }\r\n                                                </select>\r\n                                                    {isTyping && !categoryValid ? <div className=\"invalid-feedback\">Sélectionnez une catégorie</div> : null}\r\n                                            </div>\r\n                                            <div className=\"form-group\">\r\n                                                <label for=\"name\">Description</label>\r\n                                                <textarea disabled={isEditing} type=\"text\" value={description} className={isTyping && !descriptionValid ? \"form-control is-invalid\" : \"form-control\"} onChange={(e) => this.handleInputChange(e)} name=\"description\" rows={2} placeholder=\"Resumé\"></textarea>\r\n                                                {isTyping && !descriptionValid ? <div className=\"invalid-feedback\">Invalide</div> : null}\r\n                                            </div>\r\n                                            <div className=\"row justify-content-between\">\r\n                                                <div className=\"col-sm-12 col-md-7 col-lg-7\">\r\n                                                    <div className=\"form-group\">\r\n                                                        <label for=\"name\">Lieu</label>\r\n                                                            <input disabled={isEditing} type=\"text\" value={place} onChange={(e) => this.handleInputChange(e)} className={isTyping && !placeValid ? \"form-control is-invalid\" : \"form-control\"} name=\"place\" placeholder=\"Lieu de l'évènement\" required />\r\n                                                        {isTyping && !placeValid ? <div className=\"invalid-feedback\">Invalide</div> : null}\r\n                                                    </div>\r\n                                                </div>\r\n                                                <div className=\"col-sm-12 col-md-5 col-lg-5\">\r\n                                                    <div className=\"form-group mt-2\">\r\n                                                        <label for=\"name\">Date et Heure de l'évènement</label><br />\r\n                                                        <DatePicker disabled={isEditing} showTimeSelect dateFormat=\"Pp\" className=\"form-control\" selected={date} onChange={date => this.pickDate(date)} />\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                            <div className=\"form-group\">\r\n                                                <label for=\"tags\">Lien Google Map</label>\r\n                                                <input disabled={isEditing} type=\"text\" value={mapLink} onChange={(e) => this.handleInputChange(e)} className=\"form-control\" name=\"mapLink\" placeholder=\"Lien Google Map\" />\r\n                                            </div>\r\n                                            <div className=\"form-group\">\r\n                                                <label for=\"tags\">Tags <strong>(Séparer par des virgules \",\")</strong></label>\r\n                                                <input disabled={isEditing} type=\"text\" value={tags} onChange={(e) => this.handleInputChange(e)} className= \"form-control\" name=\"tags\" placeholder=\"Tags: Exple fete, concert, boutique\" />\r\n                                            </div>\r\n                                            <div className=\"form-group\">\r\n                                                <label for=\"name\">Autres informations</label>\r\n                                                <textarea disabled={isEditing} type=\"text\" className=\"form-control\" value={otherInfos} onChange={(e) => this.handleInputChange(e)} name=\"otherInfos\" rows={3} placeholder=\"Autres informations\"></textarea>\r\n                                            </div>\r\n                                            <div className=\"row align-items-start py-3\">\r\n                                                <div className=\"col-sm-12 col-md-6 col-lg-6\">\r\n                                                    <label for=\"name\">Importer des images</label><br />\r\n                                                    <div className=\"custom-file\">\r\n                                                        <input disabled={this.state.validated} onChange={(e) => this.preview(e)} type=\"file\" className=\"custom-file-input\" accept=\"image/*\" id=\"customFile\" multiple />\r\n                                                        <label className=\"custom-file-label\" for=\"customFile\">Choisir les images</label>\r\n                                                    </div>\r\n                                                    {isTyping && !imageValid ? <p className=\"alert alert-danger\">Image Requise</p> : null}\r\n                                                    <div className=\"row justify-content-center mt-3\">\r\n                                                        {this.state.previewImages ?\r\n                                                            this.state.previewImages.map((image, id) => (\r\n                                                                <div key={id} className=\"col-sm-6 mt-2\">\r\n                                                                    <img src={image} className=\"img-fluid\" alt=\"\" />\r\n                                                                </div>\r\n                                                            )) : null\r\n                                                        }\r\n                                                    </div>\r\n                                                </div>\r\n                                                <div className=\"col-sm-12 col-md-6 col-lg-6\">\r\n                                                    <label for=\"name\">Importer une vidéo</label><br />\r\n                                                        <Upload isEditing={isEditing} type=\"video\" oldUrl={eventVideo} setFile={(name, file) => this.setFile(name, file)} name=\"eventVideo\" label={\"Importer depuis votre ordinateur\"} />\r\n                                                    <span>Ou bien insérez le lien youtube.</span>\r\n                                                    <input type=\"text\" disabled={isEditing} value={youtubeVideoLink} onChange={(e) => this.handleInputChange(e)} className=\"form-control\" name=\"youtubeVideoLink\" placeholder=\"Lien youtube\" />\r\n                                                    {\r\n                                                        youtubeVideoLink&&youtubeVideoLink.length ?\r\n                                                        <iframe width=\"100%\" title=\"video\"\r\n                                                            src={youtubeVideoLink}>\r\n                                                        </iframe>:null\r\n                                                    }\r\n                                                </div>\r\n                                            </div>\r\n                                            {\r\n                                                !isEditing ? \r\n                                                <div className=\"d-flex justify-content-end\">\r\n                                                    <button disabled={loading} type=\"submit\" onClick={(e) => this.handleSubmit(e)} className=\"button fourth mt-4 mb-5\">{loading ? <Loader color=\"white\" /> : \"Ajouter l'Evenement\"}</button>\r\n                                                </div>:\r\n                                                    !this.state.validated ?\r\n                                                    <div className=\"d-flex justify-content-end\">\r\n                                                        <button disabled={loading} type=\"submit\" onClick={(e) => this.updateEvent(e)} className=\"button fourth mt-4 mb-5\">{loading ? <Loader color=\"white\" /> : \"Enregistrer la modification\"}</button>\r\n                                                    </div>:null\r\n                                            }\r\n                                        </Fragment>\r\n                                    }\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </form>\r\n                </Modal.Body>\r\n                <Modal.Footer>\r\n                    {\r\n                        isEditing ? \r\n                        <Fragment>\r\n                            {!this.state.validated ? <Button disabled={validating} variant=\"dark\" className=\"mr-3\" onClick={() => this.validateEvent(event)}>{validating ? <Loader color=\"white\" /> : \"Valider le service\"}</Button>: null}\r\n                            <Button variant=\"danger\" disabled={deleting} className=\"mr-3\" onClick={() => this.deleteEvent(event)}>{deleting ? <Loader color=\"white\" /> : \"Supprimer\"}</Button>\r\n                        </Fragment>:null\r\n                    }\r\n                    <Button variant=\"default\" onClick={() => closeModal()}>Fermer</Button>\r\n                </Modal.Footer>\r\n            </Modal>\r\n        )\r\n    }\r\n}\r\n\r\nexport default EventModal;","import React, { Component, Fragment } from 'react';\r\nimport Modal from 'react-bootstrap/Modal';\r\nimport Button from 'react-bootstrap/Button';\r\nimport Upload from '../../components/Forms/Upload';\r\nimport axios from 'axios';\r\nimport socketIOClient from 'socket.io-client';\r\nimport {Notification, addNotification} from '../../globalComponent/Notifications'\r\nimport Loader from '../../globalComponent/Loader';\r\nimport { rootUrl } from '../../../configs/config';\r\nimport './EventForm.scss';\r\n\r\nclass ServiceModal extends Component {\r\n    state = {\r\n        title: '',\r\n        category: '',\r\n        cible: '',\r\n        probleme: '',\r\n        serviceVideo: '',\r\n        youtubeVideoLink: '',\r\n        offre: '',\r\n        duration: '',\r\n        tags: '',\r\n        place: '',\r\n        mapLink: '',\r\n        isTyping: false,\r\n        formValid: false,\r\n        previewImages: null,\r\n        images: null,\r\n        titleValid: false,\r\n        categoryValid: false,\r\n        cibleValid: false,\r\n        placeValid: false,\r\n        offreValid: false,\r\n        problemeValid: false,\r\n        serviceImageValid: false,\r\n        loading: false,\r\n        error: '',\r\n        categories: [],\r\n        validated: false,\r\n        validating: false,\r\n        deleting: false,\r\n        loadingAn :false\r\n    }\r\n\r\n    handleInputChange = (e) => {\r\n        e.preventDefault();\r\n        const name = e.target.name;\r\n        let value = e.target.value;\r\n        if(name === \"youtubeVideoLink\") {\r\n            let newValue = \"https://www.youtube.com/embed/\"+value.split(\"=\")[1]\r\n            if(newValue.includes(\"&\")) {\r\n                newValue = newValue.split(\"&\")[0]\r\n            }\r\n            value = newValue;\r\n        }\r\n        this.setState({ [name]: value, error: '' },\r\n            () => { this.validateField(name, value) });\r\n    }\r\n\r\n    validateField = (fieldName, value) => {\r\n        let { titleValid, problemeValid, cibleValid, serviceImageValid, \r\n            categoryValid, offreValid, placeValid } = this.state;\r\n\r\n        switch (fieldName) {\r\n            case 'title':\r\n                titleValid = value.length > 0;\r\n                break;\r\n            case 'probleme':\r\n                problemeValid = value.length > 0;\r\n                break;\r\n            case 'cible':\r\n                cibleValid = value.length > 0;\r\n                break;\r\n            case 'category':\r\n                categoryValid = value.length > 0;\r\n                break;\r\n            case 'offre':\r\n                offreValid = value.length > 0;\r\n                break;\r\n            case 'place':\r\n                placeValid = value.length > 0;\r\n                break;\r\n            case 'images':\r\n                placeValid = value;\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n        this.setState({\r\n            titleValid: titleValid,\r\n            problemeValid: problemeValid,\r\n            cibleValid: cibleValid,\r\n            serviceImageValid: serviceImageValid,\r\n            categoryValid: categoryValid,\r\n            offreValid: offreValid,\r\n            placeValid: placeValid,\r\n        }, this.validateForm);\r\n    }\r\n\r\n    validateForm = () => {\r\n        this.setState({\r\n            formValid:\r\n                this.state.titleValid &&\r\n                this.state.problemeValid &&\r\n                this.state.cibleValid &&\r\n                this.state.categoryValid &&\r\n                this.state.serviceImageValid &&\r\n                this.state.offreValid &&\r\n                this.state.placeValid\r\n        });\r\n    }\r\n\r\n    handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        if (this.state.formValid) {\r\n            const formData = new FormData();\r\n            const { title, probleme, cible, category, images, serviceVideo, offre, duration, place, youtubeVideoLink, tags, mapLink } = this.state;\r\n            formData.append('title', title);\r\n            formData.append('category', category);\r\n            formData.append('cible', cible);\r\n            formData.append('problem', probleme);\r\n            formData.append('youtubeVideoLink', youtubeVideoLink);\r\n            formData.append('offre', offre);\r\n            formData.append('duration', duration);\r\n            formData.append('place', place);\r\n            formData.append('tags', tags);\r\n            formData.append('mapLink', mapLink);\r\n            formData.append('user', JSON.stringify(this.props.user));\r\n            Array.from(images).forEach(file => {\r\n                formData.append('images', file);\r\n            });\r\n            if (serviceVideo !== \"\") {\r\n                formData.append('serviceVideo', serviceVideo);\r\n            }\r\n            const config = {\r\n                headers: {\r\n                    'content-type': 'multipart/form-data'\r\n                }\r\n            };\r\n            // Add the service\r\n            this.setState({ loading: true });\r\n            try {\r\n                axios.post('/api/service/new', formData, config)\r\n                    .then(res => {\r\n                        this.setState({\r\n                            loading: false,\r\n                            error: '',\r\n                            title: '',\r\n                            cible: '',\r\n                            category: '',\r\n                            probleme: '',\r\n                            serviceVideo: '',\r\n                            offre:'',\r\n                            duration: '',\r\n                            place: '',\r\n                            tags: '',\r\n                            mapLink: ''\r\n                        });\r\n                        // For admin when he creates service\r\n                        if (this.props.refreshServiceList) {\r\n                            this.props.refreshServiceList();\r\n                        }\r\n                        this.props.closeModal();\r\n                    })\r\n                    .catch(err => {\r\n                        console.log(err);\r\n                        this.setState({ error: \"Une érreur s'est produite. Veuillez reéssayer.\", loading: false });\r\n                    })\r\n            } catch (error) {\r\n                this.setState({ error: \"Erreur de connexion. Veuillez reéssayer\", loading: false });\r\n            }\r\n        } else {\r\n            this.setState({ error: \"Veuillez remplir tous les champs\", isTyping: true });\r\n        }\r\n    }\r\n\r\n    // preview image\r\n    preview = (e) => {\r\n        let images = Array.from(e.target.files).map(file => URL.createObjectURL(file));\r\n        this.setState({ previewImages: images, images: e.target.files, serviceImageValid: true }, \r\n            () => { this.validateField(\"images\", true) });\r\n    }\r\n\r\n    setFile = (name, file) => {\r\n        this.setState({\r\n            [name]: file,\r\n            error: ''\r\n        }, this.validateForm);\r\n    }\r\n\r\n    componentDidMount() {\r\n        //Charge categories on form\r\n        this.initCategories();\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n        if (prevProps.service !== this.props.service) {\r\n            const { isEditing, loadingAn, service } = this.props;\r\n            if (isEditing && !loadingAn) {\r\n                let images = service.images.map(image => rootUrl + '/' + image);\r\n                this.setState({\r\n                    title: service.title,\r\n                    category: service.category,\r\n                    cible: service.target,\r\n                    offre: service.offre,\r\n                    place: service.place,\r\n                    probleme: service.problem,\r\n                    serviceVideo: service.video&&service.video.length ? rootUrl + \"/\" + service.video : null,\r\n                    previewImages: images,\r\n                    duration: service.duration,\r\n                    mapLink: service.mapLink,\r\n                    validated: service.validated,\r\n                    youtubeVideoLink: service.youtubeVideoLink,\r\n                    tags: service.tags,\r\n                })\r\n            }\r\n        }\r\n    }\r\n\r\n    // Fetch categories on the server and update if there is a new one\r\n    fetchCategories = () => {\r\n        let categories = JSON.parse(localStorage.getItem(\"categories\"));\r\n        axios.get(\"/api/category/all\")\r\n        .then(res => {\r\n            if(JSON.stringify(categories) !== JSON.stringify(res.data.categories)) {\r\n                this.setState({ categories: res.data.categories })\r\n            }\r\n        })\r\n        .catch(err => {\r\n            this.setState({ error: \"Erreur de chargement des catégories. Veuillez reéssayer.\" })\r\n        })\r\n    }\r\n\r\n    initCategories = () => {\r\n        let categories = JSON.parse(localStorage.getItem(\"categories\"));\r\n        if (categories && categories.length) {\r\n            this.setState({ categories: categories });\r\n            // Verify is there is a new category\r\n            this.fetchCategories();\r\n        } else {\r\n            try {\r\n                this.fetchCategories();\r\n            } catch (error) {\r\n                this.setState({ error: \"Erreur de chargement des catégories. Veuillez reéssayer.\" })\r\n            }\r\n        }\r\n    }\r\n\r\n    updateService = (e) => {\r\n        e.preventDefault();\r\n        const formData = new FormData();\r\n        const { images } = this.state;\r\n        if (images) {\r\n            Array.from(images).forEach(file => {\r\n                formData.append('images', file);\r\n            });\r\n            const config = {\r\n                headers: {\r\n                    'content-type': 'multipart/form-data'\r\n                }\r\n            };\r\n            this.setState({ loading: true });\r\n            try {\r\n                axios.patch('/api/service/' + this.props.service._id, formData, config)\r\n                    .then(res => {\r\n                        this.setState({ \r\n                            loading: false,\r\n                         });\r\n                        this.props.closeModal();\r\n                    })\r\n                    .catch(err => {\r\n                        this.setState({ error: \"Veuillez faire une modification avant d'enregistrer\", loading: false });\r\n                    })\r\n            } catch (error) {\r\n                this.setState({ error: \"Erreur de connexion. Veuillez reéssayer\", loading: false });\r\n            }\r\n        } else {\r\n            addNotification(\"warning\", \"Modification!\", \"Aucune modification éffectuée\")\r\n        }\r\n    }\r\n\r\n    validateservice = (service) => {\r\n        this.setState({ validating: true, service: service })\r\n        axios.patch('/api/service/validate/' + service._id)\r\n            .then(res => {\r\n                let services = this.props.services.map(service => {\r\n                    let newservice = { ...service };\r\n                    if (service._id === this.props.service._id) {\r\n                        newservice.validated = true;\r\n                    }\r\n                    return newservice;\r\n                })\r\n                this.props.refreshList(services, \"services\");\r\n                this.props.closeModal();\r\n                this.setState({\r\n                    validating: false,\r\n                    'error': ''\r\n                })\r\n                // Send a notification\r\n                const not = {\r\n                    to: \"all\",\r\n                    title: service.title,\r\n                    image: rootUrl + '/' + service.image,\r\n                    link: '/annonce/service/' + service._id,\r\n                    name: \"Le Fournisseur\",\r\n                    visited: false,\r\n                    projectId: service._id,\r\n                    date: new Date()\r\n                }\r\n                axios.patch('/api/user/recommand/to/all', { rec: not })\r\n                    .then(res => {\r\n                        const socket = socketIOClient(rootUrl);\r\n                        socket.emit(\"new anounce notification\", not);\r\n                    })\r\n                    .catch(err => {\r\n                        this.setState({ recError: 'Une érreur s\\'est produite. Veuillez recharger la page.' })\r\n                    })\r\n                // Send Email to Supplier \r\n            })\r\n            .catch(err => {\r\n                this.setState({\r\n                    validating: false,\r\n                    'error': 'Erreur survenue, veuillez actualiser'\r\n                })\r\n            })\r\n    }\r\n\r\n    deleteservice = (service) => {\r\n        this.setState({ deleting: true, service: service })\r\n        axios.delete('/api/service/' + service._id)\r\n            .then(res => {\r\n                let services = this.props.services.filter(service => {\r\n                    return JSON.stringify(service) !== JSON.stringify(this.props.service)\r\n                })\r\n                this.props.refreshList(services, \"services\");\r\n                this.props.closeModal();\r\n                this.setState({\r\n                    deleting: false,\r\n                    'error': ''\r\n                })\r\n            })\r\n            .catch(err => {\r\n                this.setState({\r\n                    deleting: false,\r\n                    error: err\r\n                })\r\n            })\r\n    }\r\n\r\n    render() {\r\n        const { serviceVideo, title, probleme, cible, problemeValid, youtubeVideoLink,\r\n            category, serviceImageValid, titleValid, cibleValid, categoryValid, offre, place, placeValid,\r\n            error, loading, isTyping, categories, validating, deleting, duration, offreValid, mapLink } = this.state;\r\n        const { show, closeModal, loadingAn, isEditing, service, tags } = this.props;\r\n        return (\r\n            <Modal show={show} onHide={() => closeModal()} size=\"lg\" >\r\n                <Modal.Header closeButton>\r\n                    <Modal.Title>Ajouter un nouveau Service</Modal.Title>\r\n                </Modal.Header>\r\n                <Modal.Body>\r\n                    <Notification />\r\n                    <form>\r\n                        <div className=\"container\">\r\n                            <div className=\"row\">\r\n                                <div className=\"col-sm-12 pl-4 pr-4 mt-4 mb-3\">\r\n                                    {\r\n                                        loadingAn ? <div className=\"d-flex justify-content-center\"><Loader /></div> :\r\n                                            <Fragment>\r\n                                                {error && error.length ? <div className=\"alert alert-danger\" style={{ fontSize: \"1.3rem\" }}>{error}</div> : null}\r\n                                                <div className=\"form-group\">\r\n                                                    <label for=\"name\">Nom du Service</label>\r\n                                                    <input disabled={isEditing} type=\"text\" className={isTyping && !titleValid ? \"form-control is-invalid\" : \"form-control\"} value={title} onChange={(e) => this.handleInputChange(e)} name=\"title\" placeholder=\"Nom du Service\" required />\r\n                                                    {isTyping && !titleValid ? <div className=\"invalid-feedback\">Invalide</div> : null}\r\n                                                </div>\r\n                                                <div className=\"form-group\">\r\n                                                    <label for=\"category\">Catégorie</label>\r\n                                                    <select disabled={isEditing} id=\"category\" name=\"category\" value={category} onChange={(e) => this.handleInputChange(e)} className={isTyping && !categoryValid ? \"form-control is-invalid\" : \"form-control\"} >\r\n                                                        <option>Choisir...</option>\r\n                                                        {\r\n                                                            categories && categories.length ?\r\n                                                                categories.map(category => (\r\n                                                                    <option key={category._id}>{category.name}</option>\r\n                                                                )) : <option>Loading...</option>\r\n                                                        }\r\n                                                    </select>\r\n                                                    {isTyping && !categoryValid ? <div className=\"invalid-feedback\">Sélectionnez une catégorie</div> : null}\r\n                                                </div>\r\n                                                <div className=\"form-group\">\r\n                                                    <label for=\"name\">Problème</label>\r\n                                                    <textarea disabled={isEditing} type=\"text\" value={probleme} className={isTyping && !problemeValid ? \"form-control is-invalid\" : \"form-control\"} onChange={(e) => this.handleInputChange(e)} name=\"probleme\" rows={2} placeholder=\"Problème\"></textarea>\r\n                                                    {isTyping && !problemeValid ? <div className=\"invalid-feedback\">Invalide</div> : null}\r\n                                                </div>\r\n                                                <div className=\"form-group\">\r\n                                                    <label for=\"name\">Offre</label>\r\n                                                    <textarea disabled={isEditing} type=\"text\" value={offre} className={isTyping && !offreValid ? \"form-control is-invalid\" : \"form-control\"} onChange={(e) => this.handleInputChange(e)} name=\"offre\" rows={2} placeholder=\"Offre\"></textarea>\r\n                                                    {isTyping && !offreValid ? <div className=\"invalid-feedback\">Invalide</div> : null}\r\n                                                </div>\r\n                                                <div className=\"form-group\">\r\n                                                    <label for=\"name\">Cible</label>\r\n                                                    <input disabled={isEditing} type=\"text\" value={cible} onChange={(e) => this.handleInputChange(e)} className={isTyping && !cibleValid ? \"form-control is-invalid\" : \"form-control\"} name=\"cible\" placeholder=\"Cible\" required />\r\n                                                    {isTyping && !cibleValid ? <div className=\"invalid-feedback\">Invalide</div> : null}\r\n                                                </div>\r\n                                                <div className=\"row\">\r\n                                                    <div className=\"col-md-6 col-sm-12\">\r\n                                                        <div className=\"form-group\">\r\n                                                            <label for=\"name\">Lieux&Adresse</label>\r\n                                                            <input disabled={isEditing} type=\"text\" value={place} onChange={(e) => this.handleInputChange(e)} className={isTyping && !placeValid ? \"form-control is-invalid\" : \"form-control\"} name=\"place\" placeholder=\"Lieu & Adresse\" required />\r\n                                                            {isTyping && !placeValid ? <div className=\"invalid-feedback\">Invalide</div> : null}\r\n                                                        </div>\r\n                                                    </div>\r\n                                                    <div className=\"col-md-6 col-sm-12\">\r\n                                                        <div className=\"form-group\">\r\n                                                            <label for=\"name\">Durée du service/ Dates d'ouverture</label>\r\n                                                            <input disabled={isEditing} type=\"text\" value={duration} onChange={(e) => this.handleInputChange(e)} className= \"form-control\" name=\"duration\" placeholder=\"Exple: 2 Mois\" required />\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </div>\r\n                                                <div className=\"form-group\">\r\n                                                    <label for=\"tags\">Lien Google Map</label>\r\n                                                    <input disabled={isEditing} type=\"text\" value={mapLink} onChange={(e) => this.handleInputChange(e)} className=\"form-control\" name=\"mapLink\" placeholder=\"Lien Google Map\" />\r\n                                                </div>\r\n                                                <div className=\"form-group\">\r\n                                                    <label for=\"tags\">Tags <strong>(Séparer par des virgules \",\")</strong></label>\r\n                                                    <input disabled={isEditing} type=\"text\" value={tags} onChange={(e) => this.handleInputChange(e)} className= \"form-control\" name=\"tags\" placeholder=\"Tags: Exple fete, concert, boutique\" />\r\n                                                </div>\r\n                                                <div className=\"row align-items-start py-3\">\r\n                                                    <div className=\"col-sm-12 col-md-6 col-lg-6\">\r\n                                                        <label for=\"name\">Importer des images</label><br />\r\n                                                        <div className=\"custom-file\">\r\n                                                            <input disabled={this.state.validated} onChange={(e) => this.preview(e)} type=\"file\" className=\"custom-file-input\" accept=\"image/*\" id=\"customFile\" multiple />\r\n                                                            <label className=\"custom-file-label\" for=\"customFile\">Choisir les images</label>\r\n                                                        </div>\r\n                                                        {isTyping && !serviceImageValid ? <p className=\"alert alert-danger\">Image Requise</p> : null}\r\n                                                        <div className=\"row justify-content-center mt-3\">\r\n                                                            {this.state.previewImages ?\r\n                                                                this.state.previewImages.map((image, id) => (\r\n                                                                    <div key={id} className=\"col-sm-6 mt-2\">\r\n                                                                        <img src={image} className=\"img-fluid\" alt=\"\" />\r\n                                                                    </div>\r\n                                                                )) : null\r\n                                                            }\r\n                                                        </div>\r\n                                                    </div>\r\n                                                    <div className=\"col-sm-12 col-md-6 col-lg-6\">\r\n                                                        <label for=\"name\">Importer une vidéo</label><br />\r\n                                                        <Upload isEditing={isEditing} type=\"video\" oldUrl={serviceVideo} setFile={(name, file) => this.setFile(name, file)} name=\"serviceVideo\" label={\"Importer depuis votre ordinateur\"} />\r\n                                                        <span>Ou bien insérez le lien youtube.</span>\r\n                                                        <input type=\"text\" disabled={isEditing} value={youtubeVideoLink} onChange={(e) => this.handleInputChange(e)} className=\"form-control\" name=\"youtubeVideoLink\" placeholder=\"Lien youtube\" />\r\n                                                        {\r\n                                                            youtubeVideoLink&&youtubeVideoLink.length ?\r\n                                                                <iframe width=\"100%\" title=\"video\"\r\n                                                                    src={youtubeVideoLink}>\r\n                                                                </iframe> : null\r\n                                                        }\r\n                                                    </div>\r\n                                                </div>\r\n                                                {\r\n                                                !isEditing ?\r\n                                                    <div className=\"d-flex justify-content-end\">\r\n                                                        <button disabled={loading} type=\"submit\" onClick={(e) => this.handleSubmit(e)} className=\"button fourth mt-4 mb-5\">{loading ? <Loader color=\"white\" /> : \"Ajouter l'Evenement\"}</button>\r\n                                                    </div> :\r\n                                                    !this.state.validated ?\r\n                                                        <div className=\"d-flex justify-content-end\">\r\n                                                            <button disabled={loading} type=\"submit\" onClick={(e) => this.updateService(e)} className=\"button fourth mt-4 mb-5\">{loading ? <Loader color=\"white\" /> : \"Enregistrer la modification\"}</button>\r\n                                                        </div> : null\r\n                                                }\r\n                                            </Fragment>\r\n                                    }\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </form>\r\n                </Modal.Body>\r\n                <Modal.Footer>\r\n                    {\r\n                        isEditing ?\r\n                            <Fragment>\r\n                                {!this.state.validated ? <Button disabled={validating} variant=\"dark\" className=\"mr-3\" onClick={() => this.validateservice(service)}>{validating ? <Loader color=\"white\" /> : \"Valider le service\"}</Button> : null}\r\n                                <Button variant=\"danger\" disabled={deleting} className=\"mr-3\" onClick={() => this.deleteservice(service)}>{deleting ? <Loader color=\"white\" /> : \"Supprimer\"}</Button>\r\n                            </Fragment> : null\r\n                    }\r\n                    <Button variant=\"default\" onClick={() => closeModal()}>Fermer</Button>\r\n                </Modal.Footer>\r\n            </Modal>\r\n        )\r\n    }\r\n}\r\n\r\nexport default ServiceModal;","import React, { Component } from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {Redirect} from 'react-router-dom';\r\nimport './Dashboard.scss';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faDownload} from '@fortawesome/free-solid-svg-icons';\r\nimport axios from 'axios';\r\n\r\nimport Hoc from '../../globalComponent/Hoc';\r\nimport Header from '../../globalComponent/Header';\r\nimport ReviewItem from '../../components/Reviews/ReviewItem';\r\nimport Stars from '../../components/Stars/Stars';\r\nimport EventModal from './EventModal';\r\nimport ServiceModal from './ServiceModal';\r\nimport Loader from '../../globalComponent/Loader';\r\n\r\nclass Dashboard extends Component {\r\n    \r\n    state = {\r\n        showNewEv: false,\r\n        showNewAn: false,\r\n\r\n        services: [],\r\n        events: [],\r\n        servicesLoading: true,\r\n        eventsLoading: true,\r\n        error: '',\r\n        error2: ''\r\n    }\r\n    \r\n    handleChange = (date) => {\r\n        this.setState({\r\n            date: date\r\n        });\r\n    }\r\n\r\n    setFile(name, file) {\r\n        this.setState({\r\n            [name]: file,\r\n            profileImageValid: true,\r\n            error: ''\r\n        }, this.validateForm);\r\n    }\r\n\r\n    closeEventModal = () => {\r\n        this.setState({showNewEv: false, showNewAn: false});\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n        if(this.props.user !== prevProps.user) {\r\n            // get events\r\n            this.fetchServices()\r\n            // get services\r\n            this.fetchEvents()\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        if(this.props.user) {\r\n            // get events\r\n            this.fetchServices()\r\n            // get services\r\n            this.fetchEvents()\r\n        }\r\n    }\r\n\r\n    fetchEvents = () => {\r\n        axios.get('/api/event/supplier/'+ this.props.user._id)\r\n        .then(res => {\r\n            this.setState({events: res.data.events, eventsLoading: false, error: ''});\r\n        })\r\n        .catch(err => {\r\n            this.setState({eventsLoading: false, error: 'Une erreur s\\'est produite. Veuillez reéssayer.'});\r\n            })\r\n    }\r\n\r\n    fetchServices = () => {\r\n        axios.get('/api/service/supplier/'+ this.props.user._id)\r\n        .then(res => {\r\n            this.setState({services: res.data.services, servicesLoading: false, error: ''});\r\n        })\r\n        .catch(err => {\r\n            this.setState({servicesLoading: false, error: 'Une erreur s\\'est produite. Veuillez reéssayer.'});\r\n        })\r\n    }\r\n\r\n    generateCSV = (data, announce) => {\r\n        let csvContent = \"data:text/csv;charset=utf-8,\";\r\n        // Format our csv file content\r\n        csvContent += \"id , name, email, tel, places \\r\\n\";\r\n        data.forEach(function (rowArray, i) {\r\n            let row = (i + 1) + \" , \" + rowArray.name + \" , \" + rowArray.email + \" , \" + rowArray.tel + \" , \" + rowArray.numberOfPlaces;\r\n            csvContent += row + \"\\r\\n\";\r\n        });\r\n\r\n        // Creating the file\r\n        let encodedUri = encodeURI(csvContent);\r\n        let link = document.createElement(\"a\");\r\n        link.setAttribute(\"href\", encodedUri);\r\n        let fileName = announce.split(' ').join('-');\r\n        link.setAttribute(\"download\", fileName + \".csv\");\r\n        link.click();\r\n    }\r\n\r\n    render() {\r\n        const { events, services, eventsLoading, servicesLoading, error, error2 } = this.state;\r\n        const {user} = this.props;\r\n        return (\r\n            <Hoc>\r\n                {user&&user.role !== \"supplier\" ? <Redirect to=\"/\" />:null }\r\n                <Header />\r\n                <section className=\"dashboard mt-5\">\r\n                    <div className=\"container p-5\">\r\n                        <div className=\"row pt-3\">\r\n                            <div className=\"col-sm-12 d-flex mb-3 add-buttom-wrapper\">\r\n                                <h2 className=\"py-3 mr-auto align-align-self-end\">TOUTES LES RESERVATIONS</h2>\r\n                                <button className=\"button\" onClick={() => this.setState({showNewEv: true})}>NOUVELLE ACTUALITE</button>\r\n                                <button className=\"button\" onClick={() => this.setState({showNewAn: true})}>NOUVEAU SERVICE</button>\r\n                            </div>\r\n                            <div className=\"col-sm-12\">\r\n                                <hr/>\r\n                            </div>\r\n                        </div>\r\n                        {/* Events */}\r\n                        <div className=\"row mt-2\"><div className=\"col-sm-12 mt-2\"><h3>MES ACTUALITES</h3></div></div>\r\n\r\n                        <div className=\"row mt-4 pb-5\">\r\n                            <div className=\"col-sm-12 col-md-12 col-lg-4 mt-2\">\r\n                            {\r\n                                eventsLoading ? <div className=\"d-flex justify-content-center\"><Loader /></div>:\r\n                                    events && events.length ? \r\n                                        <div className=\"list-group\" id=\"list-tab\" role=\"tablist\">\r\n                                        {\r\n                                            events.map((event, i) => (\r\n                                                <a key={i} className={i===0 ?\"list-group-item list-group-item-action active\":\"list-group-item list-group-item-action\"} data-toggle=\"list\" href={`#item${i}`} role=\"tab\">\r\n                                                    {event.title} ({event.reservations&&event.reservations.length ? event.reservations.length: 0})\r\n                                                    <br/>\r\n                                                    <Stars \r\n                                                        isSupplierDashboard\r\n                                                        rate={event.rate ? event.rate: null }\r\n                                                        anounceType={\"event\"}  \r\n                                                        id={event._id} />\r\n                                                </a>\r\n                                            ))\r\n                                        }\r\n                                        </div>\r\n                                    : <h5 className=\"\">Vous n'avez aucune Actualité active</h5>\r\n                            }\r\n                            </div>\r\n                            <div className=\"col-sm-12 col-md-12 col-lg-8 mt-2 d-flex flex-column justify-content-between\">\r\n                                {error && error.length ? <div className=\"alert alert-danger\" style={{ fontSize: \"1.3rem\" }}>{error}</div> : null}\r\n                                <div className=\"tab-content\" id=\"nav-tabContent\">\r\n                                    {\r\n                                        eventsLoading ? null :\r\n                                            events && events.length ?\r\n                                                events.map((event, i) => (\r\n                                                    (event.reservations && event.reservations.length) || event.comments ?\r\n                                                    (\r\n                                                        <div key={i} className={i === 0 ? \"tab-pane fade show active\" : \"tab-pane fade\"} id={`item${i}`} role=\"tabpanel\">\r\n                                                            <table className=\"table\">\r\n                                                                <tbody>\r\n                                                                    {event.reservations.map((reservation, i) => (\r\n                                                                        <tr key={i}>\r\n                                                                            <th scope=\"row\">{i+1}</th>\r\n                                                                            <td>{reservation.name}</td>\r\n                                                                            <td>{reservation.email}</td>\r\n                                                                            <td>{reservation.tel}</td>\r\n                                                                            <td>Places: {reservation.numberOfPlaces}</td>\r\n                                                                        </tr>\r\n                                                                    ))}\r\n                                                                </tbody>\r\n                                                            </table>\r\n                                                            <div className=\"deleteWrapper d-flex mt-auto\">\r\n                                                                <button className=\"btn btn-dark ml-auto mt-3\" onClick={() => this.generateCSV(event.reservations, event.title)}>Télécharger la liste&nbsp;<FontAwesomeIcon icon={faDownload} size={\"1x\"} /></button>\r\n                                                                {/* <button className={event.reservations.length ? \"btn btn-danger ml-3 mt-3\" : \"btn btn-danger ml-auto mt-3\"}>Supprimer l'évenement</button> */}\r\n                                                            </div>\r\n                                                            <div className=\"row pt-3\">\r\n                                                            <div className=\"col-sm-12\">\r\n                                                                <h3 className=\"pt-3 mb-5\">Commentaires des utilisateurs</h3>\r\n                                                                {\r\n                                                                    event.comments&&event.comments.length ?\r\n                                                                    event.comments.reverse().map((comment, i) => (\r\n                                                                        <ReviewItem key={i} comment={comment} />\r\n                                                                    ))\r\n                                                                    : <h5 className=\"text-center py-3\">Aucun commentaire</h5>\r\n                                                                }\r\n                                                            </div>\r\n                                                        </div>\r\n                                                        </div>\r\n                                                    ): \r\n                                                    <div key={i} className={i===0 ?\"tab-pane fade show active\":\"tab-pane fade show\"} id={`item${i}`} role=\"tabpanel\" >\r\n                                                        <h3 className=\"text-center\">Aucune reservation sur cet évènement.</h3>\r\n                                                        {/* <button className=\"btn btn-danger d-block ml-auto mt-3\">Supprimer l'évenement</button> */}\r\n                                                    </div>\r\n                                                ))\r\n                                            : null\r\n                                    }\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        \r\n                        <hr/>\r\n                        {/* Services */}\r\n                        <div className=\"row mt-5\"><div className=\"col-sm-12 mt-2\"><h3>MES SERVICES</h3></div></div>\r\n                        <div className=\"row mt-4 pb-5\">\r\n                            <div className=\"col-sm-12 col-md-12 col-lg-4 mt-2\">\r\n                            {\r\n                                servicesLoading ? <div className=\"d-flex justify-content-center\"><Loader /></div>:\r\n                                    services && services.length ? \r\n                                        <div className=\"list-group\" id=\"list-tab\" role=\"tablist\">\r\n                                        {\r\n                                            services.map((service, i) => (\r\n                                                <a key={service._id} className={i===0 ?\"list-group-item list-group-item-action active\":\"list-group-item list-group-item-action\"} data-toggle=\"list\" href={`#service${i}`} role=\"tab\">\r\n                                                    {service.title} ({service.reservations&&service.reservations.length ? service.reservations.length: 0})\r\n                                                    <br/>\r\n                                                    <Stars \r\n                                                        isSupplierDashboard\r\n                                                        rate={service.rate ? service.rate: null }\r\n                                                        anounceType={\"service\"}  \r\n                                                        id={service._id} />\r\n                                                </a>\r\n                                            ))\r\n                                        }\r\n                                        </div>\r\n                                    : <h5 className=\"\">Vous n'avez aucun Service actif</h5>\r\n                            }\r\n                            </div>\r\n                            <div className=\"col-sm-12 col-md-12 col-lg-8 mt-2 d-flex flex-column justify-content-between\">\r\n                                {error2 && error2.length ? <div className=\"alert alert-danger\" style={{ fontSize: \"1.3rem\" }}>{error}</div> : null}\r\n                                <div className=\"tab-content\" id=\"nav-tabContent\">\r\n                                {\r\n                                    servicesLoading ? null :\r\n                                        services && services.length ?\r\n                                            services.map((service, i) => (\r\n                                                (service.reservations && service.reservations.length) || service.comments ?\r\n                                                (\r\n                                                    <div key={i} className={i === 0 ? \"tab-pane fade show active\" : \"tab-pane fade\"} id={`service${i}`} role=\"tabpanel\" >\r\n                                                        <table className=\"table\">\r\n                                                            <tbody>\r\n                                                                {service.reservations.map((reservation, i) => (\r\n                                                                    <tr key={i}>\r\n                                                                        <th scope=\"row\">{i + 1}</th>\r\n                                                                        <td>{reservation.name}</td>\r\n                                                                        <td>{reservation.email}</td>\r\n                                                                        <td>{reservation.tel}</td>\r\n                                                                        <td>Places: {reservation.numberOfPlaces}</td>\r\n                                                                    </tr>\r\n                                                                ))}\r\n                                                            </tbody>\r\n                                                        </table>\r\n                                                        <div className=\"deleteWrapper d-flex mt-auto\">\r\n                                                            <button className=\"btn btn-dark ml-auto mt-3\" onClick={() => this.generateCSV(service.reservations, service.title)}>Télécharger la liste&nbsp;<FontAwesomeIcon icon={faDownload} size={\"1x\"} /></button>\r\n                                                            {/* <button className={service.reservations.length ? \"btn btn-danger ml-3 mt-3\" : \"btn btn-danger ml-auto mt-3\"}>Supprimer l'évenement</button> */}\r\n                                                        </div>\r\n                                                        <div className=\"row pt-3\">\r\n                                                            <div className=\"col-sm-12\">\r\n                                                                <h3 className=\"pt-3 mb-5\">Commentaires des utilisateurs</h3>\r\n                                                                {\r\n                                                                    service.comments&&service.comments.length ?\r\n                                                                    service.comments.reverse().map((comment, i) => (\r\n                                                                        <ReviewItem key={i} comment={comment} />\r\n                                                                    ))\r\n                                                                    : <h5 className=\"text-center py-3\">Aucun commentaire</h5>\r\n                                                                }\r\n                                                            </div>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                ): \r\n                                                <div key={i} className={i===0 ?\"tab-pane fade show active\":\"tab-pane fade show\"} id={`service${i}`} role=\"tabpanel\">\r\n                                                    <h3 className=\"text-center\">Aucune reservation sur ce service.</h3>\r\n                                                    {/* <button className=\"btn btn-danger d-block ml-auto mt-3\">Supprimer le service</button> */}\r\n                                                </div>\r\n                                            ))\r\n                                            : null\r\n                                    }\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* messages */}\r\n                    {/* <div className=\"container mt-5 p-5 mb-5\">\r\n                        <div className=\"row pt-3 align-items-start\">\r\n                            <div className=\"col-sm-12 col-md-12 col-lg-8\">\r\n                                <h3 className=\"pt-3 mb-5\">Messages sur l'évènement</h3>\r\n                                \r\n                            </div>\r\n                            <div className=\"col-sm-12 col-md-12 col-lg-4\">\r\n                                <h2></h2>\r\n                            </div>\r\n                        </div>\r\n                    </div> */}\r\n                </section>\r\n\r\n                {/* New Event/Annonce */}\r\n                <EventModal \r\n                    user={this.props.user}\r\n                    show={this.state.showNewEv} \r\n                    closeModal={this.closeEventModal}  />\r\n\r\n                {/* New Service */}\r\n                <ServiceModal \r\n                    user={this.props.user}\r\n                    show={this.state.showNewAn}\r\n                    closeModal={this.closeEventModal} />\r\n            </Hoc>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapPropsToState = state => {\r\n    return {\r\n        user: state.auth.user\r\n    }\r\n}\r\nexport default connect(mapPropsToState)(Dashboard);","import React, { Component, Fragment } from 'react';\r\nimport axios from 'axios';\r\nimport './SupplierForms.scss';\r\nimport {Redirect} from 'react-router-dom';\r\nimport Upload from '../Forms/Upload';\r\nimport Loader from '../../globalComponent/Loader';\r\n\r\nclass SupplierForm extends Component {\r\n\r\n    state = {\r\n        name: '',\r\n        email: '',\r\n        tel: '',\r\n        location: '',\r\n        services: [],\r\n        profileImage: '',\r\n        otherInfos: '',\r\n        mapLink: '',\r\n        isTyping: false,\r\n        formValid: false,\r\n        emailValid: false,\r\n        nameValid: false,\r\n        telValid: false,\r\n        locationValid: false,\r\n        servicesValid: false,\r\n        profileImageValid: false,\r\n        otherInfosValid: false,\r\n        loading: false,\r\n        redirect: false,\r\n        error: '',\r\n    }\r\n\r\n    handleInputChange = (e) => {\r\n        e.preventDefault();\r\n        const name = e.target.name;\r\n        const value = e.target.value;\r\n        this.setState({ [name]: value, error: '' },\r\n            () => { this.validateField(name, value) });\r\n    }\r\n\r\n    validateField = (fieldName, value) => {\r\n        let { emailValid, nameValid, telValid, locationValid, servicesValid, profileImageValid, otherInfosValid} = this.state;\r\n\r\n        switch (fieldName) {\r\n            case 'email':\r\n                emailValid = value.match(/^([\\w.%+-]+)@([\\w-]+\\.)+([\\w]{2,})$/i);\r\n                break;\r\n            case 'name':\r\n                nameValid = value.length > 0;\r\n                break;\r\n            case 'tel':\r\n                telValid = value.length > 0;\r\n                break;\r\n            case 'location':\r\n                locationValid = value.length > 0;\r\n                break;\r\n            case 'services':\r\n                servicesValid = value.length > 0;\r\n                break;\r\n            case 'profileImage':\r\n                profileImageValid = value.length > 0;\r\n                break;\r\n            case 'otherInfos':\r\n                otherInfosValid = value.length > 0;\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n        this.setState({\r\n            emailValid: emailValid,\r\n            nameValid: nameValid,\r\n            telValid: telValid,\r\n            locationValid: locationValid,\r\n            servicesValid: servicesValid,\r\n            profileImageValid: profileImageValid,\r\n            otherInfosValid: otherInfosValid,\r\n        }, this.validateForm);\r\n    }\r\n\r\n    validateForm = () => {\r\n        this.setState({ formValid: \r\n            (this.state.emailValid&&this.state.emailValid.length === 4) && \r\n            this.state.nameValid &&\r\n            this.state.telValid &&\r\n            this.state.locationValid &&\r\n            this.state.servicesValid &&\r\n            this.state.profileImageValid &&\r\n            this.state.otherInfosValid });\r\n    }\r\n\r\n    handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        if(this.state.formValid) {\r\n            const formData = new FormData();\r\n            const { email, name, tel, location, services, profileImage, otherInfos, mapLink } = this.state;\r\n            formData.append('name', name);\r\n            formData.append('email', email);\r\n            formData.append('tel', tel);\r\n            formData.append('location', location);\r\n            formData.append('services', services);\r\n            formData.append('profileImage', profileImage);\r\n            formData.append('otherInfos', otherInfos);\r\n            formData.append('mapLink', mapLink);\r\n            const config = {\r\n                headers: {\r\n                    'content-type': 'multipart/form-data'\r\n                }\r\n            };\r\n            // Save the supplier\r\n            this.setState({loading: true});\r\n            try {\r\n                axios.post('/api/supplier/new', formData, config)\r\n                .then(res => {\r\n                    this.setState({ loading: false, redirect: true });\r\n                    if (this.props.closeModal) {\r\n                        this.props.closeModal();\r\n                    }\r\n                })\r\n                .catch(err => {\r\n                    if (err.response.data.message === 'EMAIL_EXIST') {\r\n                        this.setState({ error: \"Adresse Email déja utilisée\", loading: false });\r\n                    } else {\r\n                        this.setState({ error: \"Erreur de connexion. Veuillez reéssayer\", loading: false });\r\n                    }\r\n                })\r\n            } catch (error) {\r\n                this.setState({ error: \"Erreur de connexion. Veuillez reéssayer\", loading: false });\r\n            }\r\n        } else {\r\n            this.setState({ error: \"Veuillez remplir tous les champs\", isTyping: true});\r\n        }\r\n    }\r\n\r\n    setFile(name,file) {\r\n        this.setState({\r\n            [name]: file,\r\n            profileImageValid: true,\r\n            error: ''\r\n        }, this.validateForm);\r\n    }\r\n\r\n    render() {\r\n        const { isTyping, name, tel, services, location, locationValid, otherInfos,  emailValid, telValid, email, \r\n                nameValid, profileImage, servicesValid, otherInfosValid, profileImageValid, error, loading, mapLink } = this.state;\r\n        return (\r\n            <Fragment>\r\n                {this.state.redirect ? this.props.closeTo ? <Redirect to={this.props.closeTo} />: null : null}\r\n                <form>\r\n                    {error && error.length ? <div className=\"alert alert-danger\" style={{fontSize: \"1.3rem\"}}>{error}</div> : null}\r\n                    <div className=\"form-group\">\r\n                        <label for=\"name\">Nom complet</label>\r\n                        <input type=\"text\" className={isTyping && !nameValid ? \"form-control is-invalid\" : \"form-control\"} value={name} onChange={(e) => this.handleInputChange(e)} name=\"name\" id=\"name\" placeholder=\"Nom complet\" />\r\n                        {isTyping && !nameValid ? <div className=\"invalid-feedback\">Invalide</div> : null}\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <label for=\"email\">Adresse Email</label>\r\n                        <input type=\"email\" className={isTyping && !emailValid ? \"form-control is-invalid\" : \"form-control\"} value={email} onChange={(e) => this.handleInputChange(e)} name=\"email\" id=\"email\" placeholder=\"Adresse Email\" />\r\n                        {isTyping && !emailValid ? <div className=\"invalid-feedback\">Email invalide</div> : null}\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <label for=\"tel\">Numero de Téléphone</label>\r\n                        <input type=\"tel\" className={isTyping && !telValid ? \"form-control is-invalid\" : \"form-control\"} value={tel} onChange={(e) => this.handleInputChange(e)} name=\"tel\" id=\"tel\" pattern=\"[0-9]{9}\" placeholder=\"Numero de Téléphone\" />\r\n                        {isTyping && !telValid ? <div className=\"invalid-feedback\">Invalide</div> : null}\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <label for=\"name\">Localisation</label>\r\n                        <input type=\"text\" className={isTyping && !locationValid ? \"form-control is-invalid\" : \"form-control\"} value={location} onChange={(e) => this.handleInputChange(e)} name=\"location\" id=\"location\" placeholder=\"Localisation\" />\r\n                        {isTyping && !locationValid ? <div className=\"invalid-feedback\">Invalide</div> : null}\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <label for=\"name\">Lien Google Map</label>\r\n                        <input type=\"text\" className=\"form-control\" value={mapLink} onChange={(e) => this.handleInputChange(e)} name=\"mapLink\" id=\"mapLink\" placeholder=\"Lien Google Map\" />\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <label for=\"name\">Vos services (Séparez par des virgules: \",\")</label>\r\n                        <textarea type=\"text\" className={isTyping && !servicesValid ? \"form-control is-invalid\" : \"form-control\"} value={services} onChange={(e) => this.handleInputChange(e)} name=\"services\" rows={3} placeholder=\"Services\"></textarea>\r\n                        {isTyping && !servicesValid ? <div className=\"invalid-feedback\">Invalide</div> : null}\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <label for=\"name\">Autres informations</label>\r\n                        <textarea type=\"text\" className={isTyping && !otherInfosValid ? \"form-control is-invalid\" : \"form-control\"} value={otherInfos} onChange={(e) => this.handleInputChange(e)} name=\"otherInfos\" rows={3} placeholder=\"Autres informations\"></textarea>\r\n                        {isTyping && !otherInfosValid ? <div className=\"invalid-feedback\">Invalide</div> : null}\r\n                    </div>\r\n                    <div className=\"row align-items-center justify-content-center py-3\">\r\n                        <div className=\"col-sm-8 col-md-8 col-lg-6 d-flex flex-column justify-content-center align-items-center\">\r\n                            <Upload type=\"image\" oldUrl={profileImage} setFile={(name, file) => this.setFile(name, file)} name=\"profileImage\" label={\"Image de Profil\"} />\r\n                            {isTyping && !profileImageValid ? <p className=\"alert alert-danger\">Image Requise</p>:null }\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"d-flex justify-content-end\">\r\n                        <button disabled={loading} type=\"submit\" onClick={(e) => this.handleSubmit(e)} className=\"button fourth mt-4 mb-5\">{loading ? <Loader color=\"white\" /> : \"Valider\"}</button>\r\n                    </div>\r\n                </form>\r\n            </Fragment>\r\n        );\r\n    }\r\n}\r\n\r\nexport default SupplierForm;","import React, { Component, Fragment } from 'react';\r\nimport Header from '../../globalComponent/Header';\r\nimport SuplierForm from '../Forms/SuplierForm';\r\nimport './Supplier.scss';\r\n\r\nclass SupplierRegistration extends Component {\r\n    render() {\r\n        return (\r\n            <Fragment>\r\n                <Header />\r\n                <section className=\"supplier-view-page\" style={{marginTop: \"5rem\"}}>\r\n                    <div className=\"container my-5\">\r\n                        <div className=\"row justify-content-center mt-5\">\r\n                            <div className=\"col-sm-11 col-md-10 col-lg-8 mb-5 supplier-registration-form\">\r\n                                <div className=\"row mb-5\">\r\n                                    <div className=\"col-sm-12\">\r\n                                        <h2 className=\"text-center mb-3\">DEVINIR UN PARTENAIRE</h2>\r\n                                        <h5 className=\"text-center mb-5\">Vous serez contactez par email pour confirmer votre compte après vérification de vos informations.</h5>\r\n                                        <hr />\r\n                                    </div>\r\n                                </div>\r\n                                <SuplierForm closeTo=\"/\" />\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </section>\r\n            </Fragment>\r\n        );\r\n    }\r\n}\r\n\r\nexport default SupplierRegistration;","import React, { Component, Fragment } from 'react';\r\nimport Header from '../../globalComponent/Header';\r\nimport axios from 'axios';\r\nimport {Redirect} from 'react-router-dom';\r\nimport Loader from '../../globalComponent/Loader';\r\nimport {connect} from 'react-redux';\r\nimport {login} from '../../../store/actions';\r\nimport './Supplier.scss';\r\n\r\nclass SupplierConfirmationForm extends Component {\r\n\r\n    state = {\r\n        password: '', \r\n        password2: '', \r\n        passwordValid: '', \r\n        error: '', \r\n        isTyping: false, \r\n        submitting: false,\r\n        formValid: false,\r\n        loading: true,\r\n        supplier: null,\r\n        redirect: false\r\n    }\r\n\r\n    handleInputChange = (e) => {\r\n        e.preventDefault();\r\n        const name = e.target.name;\r\n        const value = e.target.value;\r\n        this.setState({ [name]: value, error: '' },\r\n            () => { this.validateField(name, value) });\r\n    }\r\n\r\n    validateField = (fieldName, value) => {\r\n        let { passwordValid} = this.state;\r\n        switch (fieldName) {\r\n            case 'password':\r\n                passwordValid = value.length > 5;\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n        this.setState({\r\n            passwordValid: passwordValid,\r\n        }, this.validateForm);\r\n    }\r\n\r\n    validateForm = () => {\r\n        this.setState({ formValid: (this.state.password === this.state.password2) && this.state.passwordValid });\r\n    }\r\n\r\n    handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        if(this.state.formValid) {\r\n            const { password, supplier } = this.state;\r\n\r\n            // Update the supplier\r\n            this.setState({submitting: true});\r\n            try {\r\n                axios.patch('/api/supplier/'+supplier._id+'/confirmation', {password: password})\r\n                .then(res => {\r\n                    // Authenticate the user\r\n                    const data = {email: supplier.email, password: password}\r\n                    this.props.onLogin(data);\r\n                    this.setState({ submitting: false, redirect: true });\r\n                })\r\n                .catch(err => {\r\n                    console.log(err);\r\n                    this.setState({ error: \"Erreur de compte\", submitting: false });\r\n                })\r\n            } catch (error) {\r\n                this.setState({ error: \"Erreur de connexion. Veuillez reéssayer\", submitting: false });\r\n            }\r\n        } else {\r\n            this.setState({ error: \"Les champs ne correspondent pas\", isTyping: true});\r\n        }\r\n    }\r\n\r\n    componentWillMount() {\r\n        // Fetch use infos by id\r\n        this.setState({ loading: true});\r\n        const id = this.props.location.pathname.split('/')[2]\r\n        axios.get('/api/supplier/'+id)\r\n        .then(res => {\r\n            this.setState({ loading: false, supplier: res.data.supplier});\r\n        })\r\n        .catch(err => {\r\n            console.log(err);\r\n            this.setState({ error: \"Une Erreur s'est produite. Veuillez reéssauer\", loading: false });\r\n        })\r\n    }\r\n\r\n    render() {\r\n        const {password, password2, passwordValid, error, isTyping, submitting, supplier, loading, redirect} = this.state;\r\n        return (\r\n            <Fragment>\r\n                {redirect ? <Redirect to=\"/dashboard/reservations\" />:null}\r\n                <Header />\r\n                <section className=\"supplier-view-page\">\r\n                    <div className=\"container my-5\">\r\n                        <div className=\"row justify-content-center mt-5\">\r\n                            <div className=\"col-sm-11 col-md-10 col-lg-8 mb-5 supplier-registration-form\">\r\n                                <div className=\"row mb-5\">\r\n                                    <div className=\"col-sm-12\">\r\n                                        <h2 className=\"text-center mb-3\">DESORMAIS UN PARTENAIRE</h2>\r\n                                        <h5 className=\"text-center mb-5\">Validez votre compte en entrant votre mot de passe.</h5>\r\n                                        <hr />\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"row mb-5\">\r\n                                    <div className=\"col-sm-12\">\r\n                                        {\r\n                                            loading ? <div className=\"text-center d-flex justify-content-center\"><Loader /> </div>:\r\n                                            <form>\r\n                                                {supplier ? <h3 className=\"py-3\">{supplier.name} <span>({supplier.email})</span></h3>:null}\r\n                                                {error && error.length ? <div className=\"alert alert-danger\" style={{fontSize: \"1.3rem\"}}>{error}</div> : null}\r\n                                                <div className=\"form-group\">\r\n                                                    <label for=\"name\">Mot de passe</label>\r\n                                                    <input type=\"password\" className={isTyping && !passwordValid ? \"form-control is-invalid\" : \"form-control\"} value={password} onChange={(e) => this.handleInputChange(e)} name=\"password\" placeholder=\"Mot de passe\" />\r\n                                                    {isTyping && !passwordValid ? <div className=\"invalid-feedback\">Invalide</div> : null}\r\n                                                </div>\r\n                                                <div className=\"form-group\">\r\n                                                    <label for=\"name\">Confirmation</label>\r\n                                                    <input type=\"password\" className=\"form-control\" value={password2} onChange={(e) => this.handleInputChange(e)} name=\"password2\" placeholder=\"Confirmation\" />\r\n                                                </div>\r\n                                                <div className=\"d-flex justify-content-end\">\r\n                                                    <button disabled={submitting} type=\"submit\" onClick={(e) => this.handleSubmit(e)} className=\"button fourth mt-4 mb-5\">{submitting ? <Loader color=\"white\" /> : \"Valider\"}</button>\r\n                                                </div>\r\n                                            </form>\r\n                                        }\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </section>\r\n            </Fragment>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n        onLogin: (data) => dispatch(login(data))\r\n    }\r\n}\r\n\r\nexport default connect(null, mapDispatchToProps)(SupplierConfirmationForm);","import React, { Component, Fragment } from 'react';\r\nimport Gallery from 'react-grid-gallery';\r\nimport './Gallery.scss';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport {DateFormat} from '../../utils/DateFormat'\r\nimport axios from 'axios'\r\nimport {Notification, addNotification} from '../../globalComponent/Notifications'\r\nimport { faDownload } from '@fortawesome/free-solid-svg-icons';\r\nimport {rootUrl} from '../../../configs/config';\r\nimport logo from '../../../assets/images/logo.png';\r\nimport Loader from '../../globalComponent/Loader';\r\n\r\nclass GalleryItem extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            loading: false, \r\n            deleting: false, \r\n            user: null, \r\n            images: [],\r\n            currentImage: 0\r\n        };\r\n\r\n        this.importTomyGallery = this.importTomyGallery.bind(this);\r\n        this.onCurrentImageChange = this.onCurrentImageChange.bind(this);\r\n    }\r\n\r\n    importTomyGallery() {\r\n        // Saving in gallery\r\n        const {images} = this.state;\r\n        if(this.state.user.gallery) {\r\n            if (this.state.user.gallery.includes(images[this.state.currentImage].src)) {\r\n                addNotification(\"warning\", \"Galerie!\", \"Cette image est déja incluse dans votre Galerie.\")\r\n            } else {\r\n                axios.patch('/api/user/' + this.state.user._id + '/galleryimages/save', { gallery: [images[this.state.currentImage].src]})\r\n                .then(res => {\r\n                    addNotification(\"success\", \"Galerie!\", \"Image importée avec succès!!\")\r\n                })\r\n                .catch(err => {\r\n                    console.log(err)\r\n                })\r\n            }\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        let images = [];\r\n        if(this.props.images.length) {\r\n            images = this.props.images.map((image, id) => (\r\n                {\r\n                    src: rootUrl + '/' + image,\r\n                    thumbnail: rootUrl + '/' + image,\r\n                    thumbnailWidth: 512,\r\n                    thumbnailHeight: 360,\r\n                    isSelected: false,\r\n                }\r\n            ));\r\n        }\r\n        const authData = JSON.parse(localStorage.getItem(\"authData\"));\r\n        this.setState({user: authData&&authData.user ? authData.user : null, images: images})\r\n    }\r\n\r\n\r\n    onCurrentImageChange(index) {\r\n        this.setState({ currentImage: index });\r\n    }\r\n\r\n    render() {\r\n        const {images} = this.state;\r\n        return (\r\n            <Fragment>\r\n                <Notification/>\r\n                <div className=\"gallery-item d-block\">\r\n                    <div className=\"header d-flex\">\r\n                        <img src={logo} width=\"70px\" height=\"50px\" className=\"mr-3\" alt=\"\" />\r\n                        <div className=\"name\">\r\n                            <h5>Entrecops</h5>\r\n                            <span><DateFormat date={this.props.date} /></span>\r\n                            <div className=\"description\" onClick={this.toggleModal}>\r\n                                <div className=\"mb-4 mt-3\">\r\n                                    <h4>{this.props.content}</h4>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        {\r\n                            this.state.user && this.state.user.role === \"admin\" ?\r\n                                <div className=\"ml-auto flex-shrink-0\">\r\n                                    <button onClick={() => this.props.deletePublication(this.props.id)} className=\"btn btn-danger btn-lg\">Supprimer cette publication {this.props.deleting&&<Loader color=\"white\"/>}</button>\r\n                                </div>\r\n                                : null\r\n                        }\r\n                    </div>\r\n                   \r\n                    <div className=\"body\">\r\n                        {this.state.user ?\r\n                            <Gallery\r\n                                enableLightbox={true}\r\n                                enableImageSelection={false}\r\n                                images={images}\r\n                                currentImageWillChange={this.onCurrentImageChange}\r\n                                customControls={[<i></i>,\r\n                                    <button style={{position: \"absolute\", right: \"0\", bottom: \"40px\", borderRadius: \"0\"}} \r\n                                    className=\"btn btn-danger btn-lg\" key=\"deleteImage\" onClick={this.importTomyGallery}>\r\n                                    <FontAwesomeIcon size=\"1x\" icon={faDownload} /> Importer dans ma Galerie</button>\r\n                                ]}\r\n                            />:\r\n                            <Gallery\r\n                                enableLightbox={true}\r\n                                enableImageSelection={false}\r\n                                images={images}\r\n                                currentImageWillChange={this.onCurrentImageChange}\r\n                            />\r\n                        }\r\n                </div>\r\n            </div>\r\n            </Fragment>\r\n        );\r\n    }\r\n}\r\n\r\nexport default GalleryItem;\r\n","import React, { Component, Fragment } from 'react';\r\nimport './Gallery.scss';\r\nimport GalleryItem from './GalleryItem';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faSearch } from '@fortawesome/free-solid-svg-icons';\r\nimport axios from 'axios';\r\nimport Loader from '../../globalComponent/Loader';\r\n\r\nclass GalleryList extends Component {\r\n\r\n    state = {\r\n        publications: [],\r\n        error: '',\r\n        query: '',\r\n        loading: true,\r\n        deleting: false,\r\n        haveSearched: false\r\n    };\r\n\r\n    componentDidMount() {\r\n        this.loadGallery()\r\n    }\r\n\r\n    loadGallery = () => {\r\n        axios.get('/api/gallery/all')\r\n            .then(res => {\r\n                this.setState({ loading: false, publications: res.data.publications })\r\n            })\r\n            .catch(err => {\r\n                this.setState({ loading: false })\r\n            })\r\n    }\r\n\r\n    filter = () => {\r\n        this.setState({loading: true})\r\n        axios.get('/api/gallery/'+ this.state.query +'/filter')\r\n        .then(res => {\r\n            this.setState({ loading: false, publications: res.data.publications, haveSearched: true })\r\n        })\r\n        .catch(err => {\r\n            this.setState({ loading: false, haveSearched: true })\r\n        })\r\n    }\r\n\r\n    keyPressed = (event) => {\r\n        if (event.key === \"Enter\") {\r\n            this.filter()\r\n        }\r\n    }\r\n\r\n    deletePublication = (id) => {\r\n        this.setState({ deleting: true })\r\n        axios.delete('/api/gallery/' + id)\r\n            .then(res => {\r\n                this.setState({ deleting: false, loading: true })\r\n                this.loadGallery()\r\n            })\r\n            .catch(err => {\r\n                this.setState({ deleting: false })\r\n            })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Fragment>\r\n                <section className=\"publications-section-banner\">\r\n                    <div className=\"container\">\r\n                        <div className=\"row my-5\">\r\n                            <div className=\"col-12 text-center\">\r\n                                <h2>Galerie</h2>\r\n                                <div className=\"form-group search mt-4\">\r\n                                    <input onKeyPress={this.keyPressed} onChange={(e) => this.setState({query: e.target.value})} className=\"form-control form-control-lg\" type=\"text\" name=\"query\" value={this.state.query} placeholder=\"Rechercher dans la galerie\" />\r\n                                    <FontAwesomeIcon onClick={this.filter} icon={faSearch} size=\"2x\" />\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </section>\r\n                <section className=\"publications-section\">\r\n                    <div className=\"container\">\r\n                        {this.state.haveSearched &&<a href=\"/gallery\" class=\"btn btn-danger\">Rentrer sur la galerie</a>}\r\n                        {\r\n                        this.state.loading ? <div className=\"d-flex justify-content-center\"><Loader /></div> :\r\n                            this.state.publications.map((pub, id) => (\r\n                                <div key={id} className=\"row pt-5 gallery-row pb-5\">\r\n                                    <div className=\"col-sm-12 mt-4 mb-3\">\r\n                                        <GalleryItem key={id} id={pub._id} \r\n                                            deletePublication={this.deletePublication} \r\n                                            deleting={this.state.deleting}\r\n                                            content={pub.content} \r\n                                            images={pub.images} \r\n                                            date={pub.date} />\r\n                                    </div>\r\n                                </div>\r\n                            ))\r\n                        }\r\n                        {this.state.publications.length === 0 ? <p className=\"text-center py-5\">Aucun contenu trouvé.</p>:null}\r\n                    </div>\r\n                </section>\r\n            </Fragment>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport default GalleryList;\r\n","import React, { Component, Fragment } from 'react';\r\nimport Header from '../../globalComponent/Header';\r\nimport { connect } from 'react-redux';\r\nimport GalleryList from './GalleryList';\r\n\r\nclass Gallery extends Component {\r\n\r\n    state = {};\r\n\r\n    componentDidMount() {\r\n       \r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Fragment>\r\n                <Header />\r\n                <GalleryList />\r\n            </Fragment>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapPropsToState = state => {\r\n    return {\r\n        user: state.auth.user\r\n    }\r\n}\r\n\r\nexport default connect(mapPropsToState)(Gallery);\r\n","import React, { Component, Fragment } from 'react';\r\nimport Header from '../../globalComponent/Header';\r\nimport Gallery from 'react-grid-gallery';\r\nimport axios from 'axios';\r\nimport Loader from '../../globalComponent/Loader';\r\n\r\nclass UserGallery extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = { images: [], loading: true, currentImage: 0, isImageToDelete: false, deleting: false };\r\n    }\r\n\r\n    \r\n\r\n    componentDidMount() {\r\n        this.loadGallery()\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n        if(prevProps !== this.props) {\r\n            this.loadGallery()\r\n        }\r\n    }\r\n\r\n    loadGallery = () => {\r\n        const authData = JSON.parse(localStorage.getItem(\"authData\"));\r\n        axios.get('/api/user/' + authData.user._id)\r\n        .then(res => {\r\n            let images = res.data.user.gallery.map((image, id) => (\r\n                {\r\n                    src: image,\r\n                    thumbnail: image,\r\n                    thumbnailWidth: 320,\r\n                    thumbnailHeight: 200\r\n                }\r\n            ));\r\n            images.reverse()\r\n            this.setState({ images: images, loading: false })\r\n        })\r\n        .catch(err => {\r\n            console.log(err)\r\n            this.setState({ images: [], loading: false })\r\n        })\r\n    }    \r\n    \r\n    onSelectImageToRemove = (index, image) => {\r\n        var images = this.state.images.slice();\r\n        var img = images[index];\r\n        if (img.hasOwnProperty(\"isSelected\"))\r\n            img.isSelected = !img.isSelected;\r\n        else\r\n            img.isSelected = true;\r\n\r\n        this.setState({\r\n            images: images\r\n        }, () => {\r\n            const selectedImages = this.state.images.filter(image => image.isSelected === true)\r\n            selectedImages.length ? this.setState({ isImageToDelete: true }) : this.setState({ isImageToDelete: false })\r\n        });\r\n    }\r\n\r\n    deleteFromMyGallery = () => {\r\n        const userId = JSON.parse(localStorage.getItem('authData')).user._id\r\n        this.setState({ deleting: true })\r\n        const remainingImages = this.state.images.filter(image => image.isSelected !== true);\r\n        let newImages = remainingImages.map(image => image.src);\r\n        axios.patch('/api/user/'+ userId +'/gallery/delete', { images: newImages})\r\n        .then(res => {\r\n            this.setState({ deleting: false, images: remainingImages, isImageToDelete: false});\r\n        })\r\n        .catch(err => {\r\n            this.setState({ deleting: false, isImageToDelete: false })\r\n        })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Fragment>\r\n                <Header />\r\n                <section>\r\n                    <div className=\"container py-5 mt-5\">\r\n                        <div className=\"row py-5\" style={{ backgroundColor: \"white\" }}>\r\n                            <div className=\"col-sm-12 p-5\"><h2 className=\"text-center display-5\">MA GALERIE</h2></div>\r\n                            <div className=\"col-sm-12 px-5 pt-0 pb-5 mb-5\" >\r\n                                {\r\n                                    this.state.loading ? <div className=\"d-flex justify-content-center\"><Loader /></div>:\r\n                                        this.state.images.length > 0 ?\r\n                                        <Fragment>\r\n                                            {this.state.isImageToDelete?\r\n                                            this.state.deleting ?<div className=\"d-flex justify-content-center\"><Loader /></div>:\r\n                                            <div className=\"d-flex justify-content-center\">\r\n                                            <button onClick={this.deleteFromMyGallery} className=\"btn btn-danger my-3\">Supprimer</button></div>:null\r\n                                            }\r\n                                            <Gallery \r\n                                                enableLightbox={true}\r\n                                                enableImageSelection={true}\r\n                                                onSelectImage={this.onSelectImageToRemove}\r\n                                                images={this.state.images}\r\n                                                currentImageWillChange={this.onCurrentImageChange}\r\n                                            />\r\n                                        </Fragment>\r\n                                        : <div className=\"d-flex justify-content-center py-5\"><h4>Aucune image dans votre galerie.</h4></div>\r\n                                }\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </section>\r\n            </Fragment>\r\n        );\r\n    }\r\n}\r\n\r\nexport default UserGallery;\r\n","import React, { Component, Fragment } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport axios from 'axios';\r\nimport Header from '../../globalComponent/Header';\r\nimport Loader from '../../globalComponent/Loader';\r\nimport Upload from '../../components/Forms/Upload';\r\nimport {rootUrl} from '../../../configs/config';\r\nimport userImg from '../../../assets/images/user.png';\r\nimport './Profile.scss';\r\n\r\nclass Profile extends Component {\r\n\r\n    state = {\r\n        user: null,\r\n        email: '',\r\n        password: '',\r\n        name: '',\r\n        tel: '',\r\n        isTyping: false,\r\n        isTyping2: false,\r\n        formErrors: { email: '', password: '', name: '' },\r\n        emailValid: false,\r\n        nameValid: false,\r\n        formValid: false,\r\n        location: '',\r\n        loading: false,\r\n        successReset: false, \r\n        successModify: false,\r\n        error: '',\r\n        error2: '',\r\n\r\n        /* Password change */\r\n        password1: '',\r\n        newpassword1: '',\r\n        newpassword2: '',\r\n        newpassword1Valid: false,\r\n        passwordValid: false,\r\n        passwordMatch: false,\r\n        changingPassword: false\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n        if(this.props.user !== prevProps.user) {\r\n            const { name, email, location, tel} = this.props.user\r\n            this.setState({\r\n                name: name,\r\n                email: email,\r\n                location: location,\r\n                tel: tel === null ? \"\" : tel,\r\n                formValid: name&&email ? true: false,\r\n                nameValid: name ? true : false,\r\n                emailValid: email ? true: false,\r\n                user: this.props.user\r\n            })\r\n        }\r\n    }\r\n\r\n    handleInputChange = (e) => {\r\n        e.preventDefault();\r\n        const name = e.target.name;\r\n        const value = e.target.value;\r\n        this.setState({ [name]: value },\r\n            () => { this.validateField(name, value) });\r\n    }\r\n\r\n    validateField(fieldName, value) {\r\n        let fieldValidationErrors = this.state.formErrors;\r\n        let emailValid = this.state.emailValid;\r\n        let passwordValid = this.state.passwordValid;\r\n        let nameValid = this.state.nameValid;\r\n        let newpassword1Valid = this.state.newpassword1Valid;\r\n\r\n        switch (fieldName) {\r\n            case 'email':\r\n                emailValid = value.match(/^([\\w.%+-]+)@([\\w-]+\\.)+([\\w]{2,})$/i);\r\n                fieldValidationErrors.email = emailValid ? '' : ' is invalid';\r\n                break;\r\n            case 'name':\r\n                nameValid = value.trim().length >= 6;\r\n                fieldValidationErrors.name = nameValid ? '' : ' is too short';\r\n                break;\r\n            case 'newpassword1':\r\n                newpassword1Valid = value.trim().length >= 6;\r\n                break;\r\n            case 'password1':\r\n                passwordValid = value.trim().length >= 6;\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n        this.setState({\r\n            formErrors: fieldValidationErrors,\r\n            emailValid: emailValid,\r\n            passwordValid: passwordValid,\r\n            nameValid: nameValid,\r\n            newpassword1Valid: newpassword1Valid\r\n        }, this.validateForm);\r\n    }\r\n\r\n    validateForm() {\r\n        this.setState({ formValid: this.state.emailValid && this.state.nameValid,\r\n            passwordMatch: this.state.passwordValid && this.state.newpassword1Valid && (this.state.newpassword2 === this.state.newpassword1) });\r\n    }\r\n\r\n    // Update profile\r\n    handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        this.setState({ isTyping: true });\r\n        if (this.state.formValid) {\r\n            // Display Loader\r\n            this.setState({ loading: true });\r\n            const { name, email, tel, location, profileImage } = this.state;\r\n            let url = '/api/user/' + this.props.user._id;\r\n            if (profileImage&&profileImage.type) {\r\n                const formData = new FormData();\r\n                formData.append('name', name);\r\n                formData.append('email', email);\r\n                formData.append('location', location.trim().length < 0 ? \"\" : location);\r\n                formData.append('tel', tel.length < 0 ? \"\" : tel);\r\n                formData.append('profileImage', profileImage);\r\n                const config = {\r\n                    headers: {\r\n                        'content-type': 'multipart/form-data'\r\n                    }\r\n                };\r\n                url = '/api/user/' + this.props.user._id + '/image';\r\n                axios.patch(url, formData, config)\r\n                .then(res => {\r\n                    this.setState({ loading: false, successModify: true, profileImage: \"\" })\r\n                })\r\n                .catch(err => {\r\n                    this.setState({error: \"Une érreur s'est produite\", loading: false})\r\n                })\r\n            } else {\r\n                axios.patch(url, {\r\n                    name: name,\r\n                    email: email,\r\n                    tel: tel&&tel.length < 0 ? \"\" : tel,\r\n                    location: location.trim().length < 0 ? \"\" : location\r\n                })\r\n                .then(res => {\r\n                    this.setState({ loading: false, successModify: true })\r\n                })\r\n                .catch(err => {\r\n                    this.setState({error: \"Une érreur s'est produite\", loading: false})\r\n                })\r\n            }\r\n        }\r\n    }\r\n\r\n    // Reset password\r\n    handleSubmit2 = (e) => {\r\n        e.preventDefault();\r\n        this.setState({ isTyping2: true });\r\n        if(this.state.passwordMatch) {\r\n            this.setState({ changingPassword: true });\r\n            const { password1, newpassword1 } = this.state;\r\n            axios.patch('/api/user/' + this.props.user._id + '/password/update', {\r\n                    password: password1,\r\n                    newpassword: newpassword1\r\n                })\r\n                .then(res => {\r\n                    this.setState({ changingPassword: false, successReset: true, error2: '' })\r\n                })\r\n                .catch(err => {\r\n                    if (err.response.data.message === 'WRONG_PASSWORD') {\r\n                        this.setState({error2: \"Mot de Passe non reconnue.\", changingPassword: false})\r\n                    } else {\r\n                        this.setState({ error2: \"Une erreur s'est produite, Veuillez reéssayer.\", changingPassword: false })\r\n                    }\r\n                })\r\n        }\r\n    }\r\n\r\n    setFile = (name, file) => {\r\n        this.setState({\r\n            [name]: file,\r\n            imageValid: true,\r\n            error: ''\r\n        }, this.validateForm);\r\n    }\r\n\r\n\r\n    render() {\r\n        const { isTyping, isTyping2, emailValid, passwordValid, nameValid, name, email, tel, passwordMatch, loading, user, error2,\r\n            changingPassword, password1, newpassword1, newpassword2, location, profileImage, error, successReset, successModify } = this.state;\r\n\r\n        return (\r\n            <Fragment>\r\n                <Header />\r\n                <section className=\"profile-section\">\r\n                    <div className=\"container my-5\">\r\n                        <div className=\"row justify-content-between\">\r\n                            <div className=\"col-sm-12 text-center pb-4\">\r\n                                <h3>Paramètres du compte</h3>\r\n                                <h5 className=\"pb-3\">Editez votre compte ici.</h5>\r\n                                <hr/>\r\n                            </div>\r\n                            <div className=\"col-sm-12 col-md-2 col-lg-2 mt-3 d-flex flex-column align-items-center\">\r\n                                {user&&user.provider!==\"social\"&&<img src={user&& user.profileImage ? rootUrl+'/'+user.profileImage: userImg} \r\n                                className=\"rounded-circle\" alt=\"\" width=\"200\" height=\"200\" />}\r\n                                {user&&user.provider===\"social\"&&<img src={user&& user.profileImage ? user.profileImage: userImg} \r\n                                className=\"rounded-circle\" alt=\"\" width=\"200\" height=\"200\" />}\r\n                                <h4 className=\"mt-3 text-center\"><strong>{user ? user.name :null}</strong></h4>\r\n                                <h5 className=\"text-center\">{user ? user.email: null}</h5>\r\n                            </div>\r\n                            <div className=\"col-sm-12 col-md-5 col-lg-5\">\r\n                                <h4 className=\"py-3\">Mettre à jour mes informations</h4>\r\n                                <form>\r\n                                    {successModify ? <div className=\"alert alert-success\">Profil modifié avec succès.</div> : null}\r\n                                    {error&&error.length ? <div className=\"alert alert-danger\">{error}</div> : null}\r\n                                    <input type=\"text\" value={name} onChange={(e) => this.handleInputChange(e)} name=\"name\" placeholder=\"Nom\" />\r\n                                    {isTyping && !nameValid ? <div style={{ color: \"red\" }}>Invalide. Min 6 caratères</div> : null}\r\n                                    <input type=\"email\" value={email} onChange={(e) => this.handleInputChange(e)} name=\"email\" placeholder=\"Adresse Email\" />\r\n                                    {isTyping && !emailValid ? <div style={{ color: \"red\" }}>Email non valide.</div> : null}\r\n                                    <input type=\"text\" value={location} onChange={(e) => this.handleInputChange(e)}  name=\"location\" placeholder=\"Adresse\" />\r\n                                    <input type=\"text\" value={tel} onChange={(e) => this.handleInputChange(e)} name=\"tel\" placeholder=\"Numéro de Téléphone\" />\r\n                                    <div className=\"py-3 justify-content-center\">\r\n                                        {user && user.provider !== \"social\"&&<Upload type=\"image\" oldUrl={profileImage} setFile={(name, file) => this.setFile(name, file)} name=\"profileImage\" label={\"Importer une image de profile\"} />}\r\n                                    </div>\r\n                                    <button disabled={loading} type=\"submit\" onClick={(e) => this.handleSubmit(e)} id=\"signBtn\" className=\"button mt-4 mb-5\">{loading ? <Loader color=\"white\" /> : \"Enregistrer\"}</button>\r\n                                </form>\r\n                            </div>\r\n                            <div className=\"col-sm-12 col-md-5 col-lg-4\">\r\n                                <h4 className=\"py-3\">Réinitialiser votre mot de passe</h4>\r\n                                <form>\r\n                                    {successReset ? <div className=\"alert alert-success\">Mot de passe modifié avec succès.</div> : null}\r\n                                    {error2&&error2.length ? <div className=\"alert alert-danger\">{error2}</div> : null}\r\n                                    <input type=\"password\" value={password1} onChange={(e) => this.handleInputChange(e)}  name=\"password1\" placeholder=\"Ancien Mot de passe\" />\r\n                                    {isTyping2 && !passwordValid ? <div style={{ color: \"red\" }}>Invalide. Min 6 caratères</div> : null}\r\n                                    <input type=\"password\" value={newpassword1} onChange={(e) => this.handleInputChange(e)} name=\"newpassword1\" placeholder=\"Nouveau mot de passe\" />\r\n                                    <input type=\"password\" value={newpassword2} onChange={(e) => this.handleInputChange(e)} name=\"newpassword2\" placeholder=\"Confirmation\" />\r\n                                    {isTyping2 && !passwordMatch ? <div style={{ color: \"red\" }}>Les mots de passes ne correspondent pas.</div> : null}\r\n                                    <button disabled={changingPassword} type=\"submit\" onClick={(e) => this.handleSubmit2(e)}  className=\"button mt-4 mb-5\">{changingPassword ? <Loader color=\"white\" /> : \"Réinitialiser\"}</button>\r\n                                </form>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </section>\r\n            </Fragment>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapPropsToState = state => {\r\n    return {\r\n        user: state.auth.user\r\n    }\r\n}\r\n\r\nexport default connect(mapPropsToState)(Profile);\r\n","import React, { Component, Fragment } from 'react';\r\nimport Header from '../../globalComponent/Header';\r\nimport './Notifications.scss';\r\nimport Loader from '../../globalComponent/Loader';\r\n\r\nclass NotificationsPage extends Component {\r\n\r\n    state = {\r\n        loading: true,\r\n        notifications: [],\r\n        error: ''\r\n    }\r\n\r\n    componentDidMount() {\r\n        const authData = JSON.parse(localStorage.getItem(\"authData\"))\r\n        this.setState({ notifications: authData.user.recommandations, loading: false})\r\n    }\r\n\r\n    render() {\r\n        let notifications = [...this.state.notifications];\r\n        notifications.reverse();\r\n        return (\r\n            <Fragment>\r\n                <Header/>\r\n                <section className=\"rec-section mt-5\">\r\n                    <div className=\"container my-5\">\r\n                        <div className=\"row justify-content-between\">\r\n                            <div className=\"col-sm-12 py-4\">\r\n                                <h3>Toutes les Notifications</h3>\r\n                            </div>\r\n                            <div className=\"col-sm-12\">\r\n                                {\r\n                                    this.state.loading ? <div className=\"d-block ml-auto mr-auto text-center\"><Loader/></div>:\r\n                                        notifications.map((notification, id) => (\r\n                                            <a key={id} href={notification.link} className={notification.visited ? \"noti-link d-flex\" : \"noti-link d-flex notvisited\" }>\r\n                                                <img src={notification.image} className=\"rounded-circle img-fluid\" alt=\"\" />\r\n                                                <div className=\"d-flex d-flex justify-content-between flex-grow-1\">\r\n                                                    <div className=\"mr-auto\">\r\n                                                        <h3>{notification.title}</h3>\r\n                                                        <span>Recommandé par: {notification.name}</span>\r\n                                                    </div>\r\n                                                    <h6>{notification.date ? notification.date : null}</h6>\r\n                                                </div>\r\n                                            </a>\r\n                                        ))\r\n                                }\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </section>\r\n            </Fragment>\r\n        );\r\n    }\r\n}\r\n\r\n \r\nexport default NotificationsPage;","import React, { Component, Fragment } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport axios from 'axios';\r\nimport Header from '../../globalComponent/Header';\r\nimport Loader from '../../globalComponent/Loader';\r\nimport {Tab, Tabs, Modal, Button} from 'react-bootstrap';\r\nimport {CouponPreview} from '../../components/CouponSchema/CouponPreview'\r\nimport { DateFormat } from '../../utils/DateFormat'\r\nimport './Reservations.scss';\r\n\r\nclass Reservation extends Component {\r\n\r\n    state = {\r\n        loading: true,\r\n        showModal: false,\r\n        error: '',\r\n        reservations: [],\r\n        coupons: [],\r\n        selectedCoupon: null\r\n    }\r\n\r\n    componentDidMount() {\r\n        const authData = JSON.parse(localStorage.getItem(\"authData\"));\r\n        // Events\r\n        let reservations = [];\r\n        let coupons = [];\r\n        axios.get('/api/event/all')\r\n        .then(res => {\r\n            const datas = res.data.events;\r\n            datas.forEach(event => {\r\n                // Find user reservations\r\n                event.reservations.forEach(res => {\r\n                    if (res.userId === authData.user._id) {\r\n                        reservations.push(res)\r\n                    }\r\n                });\r\n                // Find user coupons\r\n                if (event.coupons && event.coupons.clients) {\r\n                    if (event.coupons.clients.includes(authData.user._id)) {\r\n                        coupons.push(event.coupons)\r\n                    }\r\n                }\r\n            });\r\n            this.setState({\r\n                reservations: [...this.state.reservations, ...reservations], \r\n                coupons: [...this.state.coupons, ...coupons],\r\n                loading: false})\r\n        })\r\n        .catch(err => {\r\n            this.setState({ error: \"Une érreur s'est produite. Veuillez recharger\", loading: false })\r\n        })\r\n        // Services\r\n        let reservations2 = [];\r\n        let coupons2 = [];\r\n        axios.get('/api/service/all')\r\n            .then(res => {\r\n                const datas = res.data.services;\r\n                datas.forEach(service => {\r\n                    service.reservations.forEach(res => {\r\n                        if (res.userId === authData.user._id) {\r\n                            reservations2.push(res)\r\n                        }\r\n                    });\r\n                    // Find user coupons\r\n                    if (service.coupons && service.coupons.clients) {\r\n                        if (service.coupons.clients.includes(authData.user._id)) {\r\n                            coupons2.push(service.coupons)\r\n                        }\r\n                    }\r\n                });\r\n                this.setState({ \r\n                    reservations: [...this.state.reservations, ...reservations2], \r\n                    coupons: [...this.state.coupons, ...coupons2],\r\n                    loading: false })\r\n            })\r\n            .catch(err => {\r\n                this.setState({ error: \"Une érreur s'est produite. Veuillez recharger\", loading: false })\r\n            })\r\n    }\r\n\r\n    displayCoupon = (coupon) => {\r\n        this.setState({showModal: true, selectedCoupon: coupon})\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Fragment>\r\n                <Header />\r\n                <section className=\"res-section\">\r\n                    <div className=\"container my-5\">\r\n                        <div className=\"row justify-content-between\">\r\n                            <div className=\"col-sm-12 py-4\">\r\n                                <h3 className=\"pb-1\"><strong>Historique de mes Activités</strong></h3>\r\n                            </div>\r\n                            <div className=\"col-sm-12\">\r\n                                <Tabs defaultActiveKey=\"profile\" id=\"uncontrolled-tab-example\">\r\n                                    <Tab eventKey=\"profile\" title=\"Coupons Sauvegardés\">\r\n                                        {\r\n                                            this.state.loading ? <div className=\"d-block ml-auto mr-auto text-center mt-5\"><Loader /></div> :\r\n                                                this.state.coupons.map((coupon, id) => (\r\n                                                    <a key={id} onClick={() => this.displayCoupon(coupon) } href={coupon.link} className={coupon.visited ? \"noti-link d-flex\" : \"noti-link d-flex notvisited\"}>\r\n                                                        <img src={coupon.image} className=\"rounded-circle img-fluid\" alt=\"\" />\r\n                                                        <div className=\"d-flex d-flex justify-content-between flex-grow-1\">\r\n                                                            <div className=\"mr-auto\">\r\n                                                                <h4>{coupon.infos}</h4>\r\n                                                                <h5><strong>{coupon.title}</strong></h5>\r\n                                                                <span>Limite de Validité: {coupon.datelimite}</span>\r\n                                                            </div>\r\n                                                            <h5 className=\"\"><span className=\"badge badge-danger\">Réduction {coupon.montant}</span></h5>\r\n                                                        </div>\r\n                                                    </a>\r\n                                                ))\r\n                                        }\r\n                                    </Tab>\r\n                                    <Tab eventKey=\"home\" title=\"Mes réservations\">\r\n                                        {\r\n                                            this.state.loading ? <div className=\"d-block ml-auto mr-auto text-center mt-5\"><Loader /></div> :\r\n                                                this.state.reservations.map((notification, id) => (\r\n                                                    <a key={id} href={notification.link} className={notification.visited ? \"noti-link d-flex\" : \"noti-link d-flex notvisited\"}>\r\n                                                        <img src={notification.image} className=\"rounded-circle img-fluid\" alt=\"\" />\r\n                                                        <div className=\"d-flex d-flex justify-content-between flex-grow-1\">\r\n                                                            <div className=\"mr-auto\">\r\n                                                                <h3>{notification.title}</h3>\r\n                                                                <span>Date de l'activité: <DateFormat date={notification.date} /></span>\r\n                                                            </div>\r\n                                                            <h5 className=\"\">Nombres de places réservées: <span className=\"badge badge-danger\">{notification.numberOfPlaces}</span></h5>\r\n                                                        </div>\r\n                                                    </a>\r\n                                                ))\r\n                                        }\r\n                                    </Tab>\r\n                                </Tabs>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </section>\r\n\r\n                <Modal show={this.state.showModal} onHide={() => this.setState({ showModal: false })} size=\"md\" >\r\n                    <Modal.Header closeButton>\r\n                        <Modal.Title>Coupon de réduction</Modal.Title>\r\n                    </Modal.Header>\r\n                    <Modal.Body>\r\n                        <div className=\"container\">\r\n                            <div className=\"row justify-content-between\">\r\n                                <div className=\"col-sm-12 pl-4 pr-4 mt-4 mb-3 text-center\">\r\n                                    {\r\n                                        this.state.selectedCoupon&&\r\n                                    <CouponPreview coupon={this.state.selectedCoupon} />\r\n                                    }\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </Modal.Body>\r\n                    <Modal.Footer>\r\n                        <div className=\"py-3\">\r\n                            <Button variant=\"default\" onClick={() => this.setState({ showModal: false })}>\r\n                                Fermer\r\n                            </Button>\r\n                        </div>\r\n                    </Modal.Footer>\r\n                </Modal>\r\n            </Fragment>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapPropsToState = state => {\r\n    return {\r\n        user: state.auth.user\r\n    }\r\n}\r\n\r\n\r\nexport default connect(mapPropsToState)(Reservation);\r\n","import React, { Component, Fragment } from 'react';\r\nimport './Filter.scss';\r\nimport Header from '../../globalComponent/Header';\r\nimport Categories from '../Categories/Categories';\r\nimport axios from 'axios';\r\nimport Services from '../Services/Services'\r\nimport Events from '../Events/Events'\r\nimport Loader from '../../globalComponent/Loader'\r\n\r\nclass FilterResults extends Component {\r\n\r\n    state = {\r\n        loading: true,\r\n        services: [],\r\n        events: [],\r\n        error: \"\"\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.startFilter();\r\n    }\r\n\r\n    startFilter = () => {\r\n        // const {category, town, date1, date2} = JSON.parse(localStorage.getItem(\"searchParams\"));\r\n        // Search for events\r\n        this.setState({ loading: true })\r\n        axios.post('/api/event/filter', JSON.parse(localStorage.getItem(\"searchParams\")))\r\n        .then(res => {\r\n            this.setState({ loading: false, events: res.data.events, error: \"\" })\r\n        })\r\n        .catch(() => {\r\n            this.setState({ loading: false, error: \"Une érreur s'est produite. Veuillez reéssayer.\" })\r\n        })\r\n        // Search for services\r\n        axios.post('/api/service/filter', JSON.parse(localStorage.getItem(\"searchParams\")))\r\n            .then(res => {\r\n                this.setState({ loading: false, services: res.data.services, error: \"\" })\r\n            })\r\n            .catch(() => {\r\n                this.setState({ loading: false, error: \"Une érreur s'est produite. Veuillez reéssayer.\" })\r\n            })\r\n        // Clear localStorage\r\n        localStorage.removeItem(\"searchParams\")\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n        if(prevProps !== this.props) {\r\n            // Verify if there is a query\r\n            if(this.props.filter) {\r\n                this.startFilter();\r\n            }\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Fragment>\r\n                <Header />\r\n                <Categories />\r\n                {this.state.loading ?   <div className=\"d-flex justify-content-center py-5\"><Loader/></div>:\r\n                <Fragment>\r\n                    <Events eventType=\"Actualités\" events={this.state.events} isFilterPage={true} />\r\n                    <Services eventType=\"Services\" services={this.state.services} isFilterPage={true} />  \r\n                </Fragment>\r\n                }\r\n            </Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nexport default FilterResults;","import React, { Component } from 'react';\r\nimport './NotFound.scss';\r\n\r\nclass NotFound extends Component {\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"errorpage\">\r\n                <div id=\"clouds\">\r\n                    <div className=\"cloud x1\"></div>\r\n                    <div className=\"cloud x1_5\"></div>\r\n                    <div className=\"cloud x2\"></div>\r\n                    <div className=\"cloud x3\"></div>\r\n                    <div className=\"cloud x4\"></div>\r\n                    <div className=\"cloud x5\"></div>\r\n                </div>\r\n                <div className='c'>\r\n                    <div className='_404'>404</div>\r\n                    <hr />\r\n                        <div className='_1 mt-5'>LA PAGE QUE VOUS RECHERCHEZ</div>\r\n                        <div className='_2 mt-4'>EST INTROUVABLE</div>\r\n                        <a className='btn btn-danger errorbtn btn-lg mt-5' href='/'>RETOUREZ A LA PAGE D'ACCUEIL</a>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default NotFound;","export let counponToPrint = (logoBase64, infos, montant, datelimite, title, qr, filename) => ({\r\n    defaultFileName: filename,\r\n        pageSize: {\r\n        width: 450,\r\n            height: 'auto'\r\n    },\r\n    fillColor: 'red',\r\n        pageMargins: [35, 40, 35, 40],\r\n            content: [\r\n                {\r\n                    image: \"data:image/png;base64,\" + logoBase64,\r\n                    width: 100,\r\n                    style: { alignment: 'center' }\r\n                },\r\n                { lineHeight: 2, text: 'COUPON DE REDUCTION', fontSize: 15, style: { alignment: 'center', bold: true } },\r\n                {\r\n                    text: [\r\n                        { text: infos+' \\n', fontSize: 14, style: { alignment: 'center', bold: true } },\r\n                        { text: 'Vous béneficiez d\\'une reduction de ' + montant +' \\n', fontSize: 14, color: '#de0027', style: { alignment: 'center' } },\r\n                        { text: 'Pour l\\'annonce: ' + title +' \\n', fontSize: 14, style: { alignment: 'center' } },\r\n                        { text: '\\nOffre valable jusqu\\'au ' + datelimite +' sous présentation au guichet. \\n\\n', fontSize: 10, style: { italics: true, alignment: 'center' } }\r\n                    ]\r\n                },\r\n                // { qr: qr, fit: '80', style: { alignment: 'center' } },\r\n                { text: '\\n www.entrecops.co', fontSize: 10, style: { italics: true, alignment: 'center' } }\r\n            ]\r\n})","import React, { Component, Fragment } from 'react';\r\nimport axios from 'axios';\r\nimport { rootUrl } from '../../../configs/config';\r\n\r\nimport Modal from 'react-bootstrap/Modal';\r\nimport Button from 'react-bootstrap/Button';\r\nimport Loader from '../../globalComponent/Loader';\r\nimport pdfMake from \"pdfmake/build/pdfmake\";\r\nimport pdfFonts from \"pdfmake/build/vfs_fonts\";\r\n\r\nimport logo from '../../../assets/images/logo.png';\r\nimport {counponToPrint} from '../../components/CouponSchema/Coupon'\r\npdfMake.vfs = pdfFonts.pdfMake.vfs;\r\nconst image2base64 = require('image-to-base64');\r\n\r\nclass AdminCoupons extends Component {\r\n\r\n    state = {\r\n        showModal: false,\r\n        error: '',\r\n        loading: false,\r\n        selectedAnnonce: null,\r\n        eventType: '',\r\n        \r\n        event: null,\r\n        events: [],\r\n        eventsLoading: true,\r\n\r\n        services: [],\r\n        service: null,\r\n        servicesLoading: true,\r\n\r\n        nCoupons: '',\r\n        infos: '',\r\n        datelimite: '',\r\n        montant: '',\r\n        couponValid: false,\r\n        couponError: '',\r\n        removing: false\r\n    }\r\n\r\n    handleInputChange = (e) => {\r\n        e.preventDefault();\r\n        const name = e.target.name;\r\n        const value = e.target.value;\r\n        this.setState({\r\n            [name]: value\r\n        }, this.validate);\r\n    }\r\n\r\n    validate = () => {\r\n        const { nCoupons, infos, datelimite, montant} = this.state;\r\n        this.setState({\r\n            couponValid: nCoupons.trim().length > 0\r\n                        && infos.trim().length > 0\r\n                        && datelimite.trim().length > 0\r\n                        && montant.trim().length > 0\r\n        })\r\n    }\r\n\r\n    componentDidMount() {\r\n        //Get all validated events\r\n        axios.get('/api/event/validated/all')\r\n        .then(res => {\r\n            this.setState({ events: res.data.events, eventsLoading: false, error: '' })\r\n        })\r\n        .catch(err => {\r\n            this.setState({ error: \"Une érreur s'est produite. Veuillez reéssayer.\", eventsLoading: false })\r\n        })\r\n\r\n        //Get all validated services\r\n        axios.get('/api/service/validated/all')\r\n        .then(res => {\r\n            this.setState({ services: res.data.services, servicesLoading: false, error: '' })\r\n        })\r\n        .catch(err => {\r\n            this.setState({ error: \"Une érreur s'est produite. Veuillez reéssayer.\", servicesLoading: false })\r\n        })\r\n    }\r\n\r\n    openModal = (id, type) => {\r\n        this.setState({showModal: true, loading: true, eventType: type});\r\n        let url = \"/api/\" + type + \"/\" + id;\r\n        axios.get(url)\r\n        .then(res => {\r\n            const data = type === \"event\" ? res.data.event : res.data.service;\r\n            this.setState({ selectedAnnonce: data, loading: false })\r\n        })\r\n        .catch(err => {\r\n            this.setState({error: 'Une erreur s\\'est produite. Veuillez reéssayer.', loading: false})\r\n        })\r\n    }\r\n\r\n    generateCoupon = () => {\r\n        const {nCoupons, montant, datelimite, infos, eventType, selectedAnnonce} = this.state;\r\n        let clients = [];\r\n        if (selectedAnnonce.coupons) {\r\n            if (selectedAnnonce.coupons.clients) {\r\n                clients = [...selectedAnnonce.coupons.clients];\r\n            }\r\n        }\r\n        this.setState({loading: true});\r\n        const coupon = {\r\n            nCoupons: nCoupons,\r\n            montant: montant,\r\n            datelimite: datelimite,\r\n            title: selectedAnnonce.title,\r\n            infos: infos,\r\n            clients: clients,\r\n            image: rootUrl + '/' + selectedAnnonce.image,\r\n        };\r\n        axios.patch(rootUrl + '/api/' + eventType + '/' + selectedAnnonce._id + '/add/coupon', { coupon: coupon })\r\n        .then(res => {\r\n            const data = eventType === \"event\" ? this.state.events : this.state.services;\r\n            let newEvents = data.filter(event => {\r\n                if (event._id === selectedAnnonce._id) {\r\n                    event.coupons = coupon;\r\n                }\r\n                return event;\r\n            })\r\n            // generate the coupon\r\n            image2base64(logo) // you can also to use url\r\n            .then(response => {\r\n                let docDefinition = counponToPrint(response, infos, montant, datelimite,\r\n                    selectedAnnonce.title, \"Entrecops\", selectedAnnonce.title.split(' ').join('-'))\r\n                pdfMake.createPdf(docDefinition).open();\r\n                this.setState({ loading: false, showModal: false, [eventType+\"s\"]: newEvents })\r\n            })\r\n            .catch((error) => console.log(error))\r\n        })\r\n        .catch(err => {\r\n            this.setState({ loading: false, couponError: 'Une erreur s\\'est produite. Veuillez reéssayer.' });\r\n        })\r\n    }\r\n\r\n    previewCoupon = (announce) => {\r\n        const {infos, datelimite, montant} = announce.coupons;\r\n        image2base64(logo) // you can also to use url\r\n            .then(response => {\r\n                let docDefinition = counponToPrint(response, infos, montant, datelimite,\r\n                    announce.title, \"Entrecops\", announce.title.split(' ').join('-'))\r\n                pdfMake.createPdf(docDefinition).open();\r\n            })\r\n            .catch((error) => console.log(error))\r\n    }\r\n\r\n    removeCoupon = (id, type) => {\r\n        this.setState({ removing: true });\r\n        let url = rootUrl + '/api/' + type + '/' + id + '/remove/coupon';\r\n        axios.patch(url)\r\n        .then(res => {\r\n            const data = type === \"event\" ? this.state.events : this.state.services;\r\n            let newEvents = data.filter(event => {\r\n                if (event._id === id) {\r\n                    event.coupons = null;\r\n                }\r\n                return event;\r\n            })\r\n            this.setState({ removing: false, [type + \"s\"]: newEvents })\r\n        })\r\n        .catch(err => {\r\n            this.setState({ error: 'Une erreur s\\'est produite. Veuillez reéssayer.', loading: false })\r\n        })\r\n    }\r\n\r\n\r\n    render() {\r\n        const { error, events, eventsLoading, services, servicesLoading, selectedAnnonce, loading } = this.state;\r\n        return (\r\n            <Fragment>\r\n                <div className=\"container admin-coupons mt-4\">\r\n                    <div className=\"row pt-5 pb-3\">\r\n                        <div className=\"col\">\r\n                            <h1>Genérer des coupons de réduction</h1>\r\n                        </div>\r\n                    </div>\r\n                    {/* <div className=\"row\">\r\n                        <div className=\"col-sm-12 col-md-8 col-lg-8\">\r\n                            <input type=\"text\" placeholder=\"Rechercher un service / Evènement\" id=\"searchbar\" />\r\n                        </div>\r\n                    </div> */}\r\n                    {/* Evenement */}\r\n                    <div className=\"row\">\r\n                        <div className=\"col-sm-12 py-3\">\r\n                            <h4 className=\"mt-3\">Liste des Evènements</h4>\r\n                        </div>\r\n                        <div className=\"col-sm-12\">\r\n                            {error.length ? <div className=\"alert alert-danger\" style={{ fontSize: \"1.3rem\" }}>{error}</div> : null}\r\n                            {\r\n                                eventsLoading ? <div className=\"d-block mr-auto ml-auto text-center\"><Loader /></div> :\r\n                                    events && events.length ?\r\n                                    <table className=\"table table-bordered\" id=\"thetable\">\r\n                                        <thead className=\"thead-inverse thead-dark\">\r\n                                            <tr>\r\n                                            <th>#</th>\r\n                                            <th>Nom de l'évenement</th>\r\n                                            <th>Coupons Restants</th>\r\n                                            <th>Actions</th>\r\n                                            </tr>\r\n                                        </thead>\r\n                                        <tbody>\r\n                                            {\r\n                                                events.map((event, i) => (\r\n                                                    <tr key={event._id}>\r\n                                                        <th scope=\"row\">{i + 1}</th>\r\n                                                        <td>{event.title}</td>\r\n                                                        <td>{event.coupons ? event.coupons.nCoupons : 0}</td>\r\n                                                        <td className=\"actions text-right\">\r\n                                                            {event.coupons ?\r\n                                                            <Fragment>\r\n                                                                <button className=\"btn btn-dark btn-lg mr-3\" onClick={() => this.previewCoupon(event)}>Afficher le coupon</button>\r\n                                                                <button className=\"btn btn-outline-danger btn-lg\" onClick={() => this.removeCoupon(event._id, \"event\")}>Annuler coupons</button>\r\n                                                            </Fragment>:\r\n                                                            <button className=\"btn btn-danger btn-lg mr-3\" onClick={() => this.openModal(event._id, \"event\")}>Générer des coupons</button>\r\n                                                             }\r\n                                                        </td>\r\n                                                    </tr>\r\n                                                ))\r\n                                            }\r\n                                        </tbody>\r\n                                    </table>:null\r\n                            }\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* Services */}\r\n                    <div className=\"row mt-4\">\r\n                        <div className=\"col-sm-12 py-3\">\r\n                            <h4 className=\"mt-3\">Liste des Services</h4>\r\n                        </div>\r\n                        <div className=\"col-sm-12\">\r\n                            {error.length ? <div className=\"alert alert-danger\" style={{ fontSize: \"1.3rem\" }}>{error}</div> : null}\r\n                            {\r\n                                servicesLoading ? <div className=\"d-block mr-auto ml-auto text-center\"><Loader /></div> :\r\n                                    services && services.length ?\r\n                                        <table className=\"table table-bordered\">\r\n                                            <thead className=\"thead-inverse thead-dark\">\r\n                                                <tr>\r\n                                                    <th>#</th>\r\n                                                    <th>Nom du service</th>\r\n                                                    <th>Coupons Restants</th>\r\n                                                    <th>Actions</th>\r\n                                                </tr>\r\n                                            </thead>\r\n                                            <tbody>\r\n                                                {\r\n                                                    services.map((service, i) => (\r\n                                                        <tr key={service._id}>\r\n                                                            <th scope=\"row\">{i + 1}</th>\r\n                                                            <td>{service.title}</td>\r\n                                                            <td>{service.coupons ? service.coupons.nCoupons : 0}</td>\r\n                                                            <td className=\"actions\">\r\n                                                                {\r\n                                                                    service.coupons ?\r\n                                                                    <Fragment>\r\n                                                                        <button className=\"btn btn-dark btn-lg mr-3\" onClick={() => this.previewCoupon(service)}>Afficher le coupon</button>\r\n                                                                        <button className=\"btn btn-outline-danger btn-lg\" onClick={() => this.removeCoupon(service._id, \"service\")}>Annuler coupons</button>\r\n                                                                    </Fragment>:\r\n                                                                    <button className=\"btn btn-danger btn-lg mr-3\" onClick={() => this.openModal(service._id, \"service\")}>Générer des coupons</button>\r\n                                                                }\r\n                                                            </td>\r\n                                                        </tr>\r\n                                                    ))\r\n                                                }\r\n                                            </tbody>\r\n                                        </table> : null\r\n                            }\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Générer des coupons */}\r\n                <Modal show={this.state.showModal} onHide={() => this.setState({showModal: !this.state.showModal})} >\r\n                    <Modal.Header closeButton>\r\n                    <Modal.Title>Générer des coupons</Modal.Title>\r\n                    </Modal.Header>\r\n                    <Modal.Body>\r\n                        <div className=\"container\">\r\n                            <div className=\"row\">\r\n                                {\r\n                                    loading ? <div className=\"d-block mr-auto ml-auto text-center\"><Loader /></div>:\r\n                                    selectedAnnonce ?\r\n                                    <div className=\"col-sm-12 pl-4 pr-4 mt-4 mb-3\">\r\n                                        {!this.state.couponValid ? <div className=\"alert alert-danger mb-4\">Veuillez remplis tous les champs</div>:null}\r\n                                        <div className=\"pb-3\">\r\n                                            <h4>Coupons pour: &nbsp;<b>{selectedAnnonce.title}</b></h4>\r\n                                        </div>\r\n                                        <div className=\"form-group\">\r\n                                            <label for=\"name\">Infos sur la réduction</label>\r\n                                            <input type=\"text\" onChange={(e) => this.handleInputChange(e)} value={this.state.infos} name=\"infos\" className=\"form-control\" placeholder=\"Informations\"/>\r\n                                        </div>\r\n                                        <div className=\"form-group\">\r\n                                            <label for=\"name\">Montant / Poucentage de reduction</label>\r\n                                            <input type=\"text\" onChange={(e) => this.handleInputChange(e)} value={this.state.montant} name=\"montant\" className=\"form-control\" placeholder=\"Montant / Pourcentage\"/>\r\n                                        </div>\r\n                                        <div className=\"form-group\">\r\n                                            <label for=\"name\">Date limite de validité</label>\r\n                                            <input type=\"text\" onChange={(e) => this.handleInputChange(e)} value={this.state.datelimite} name=\"datelimite\" className=\"form-control\" placeholder=\"Date limite de validité\"/>\r\n                                        </div>\r\n                                        <div className=\"form-group\">\r\n                                            <label for=\"ncoupons\">Nombre de coupons</label>\r\n                                            <input type=\"number\" onChange={(e) => this.handleInputChange(e)} value={this.state.nCoupons} name=\"nCoupons\" className=\"form-control\" placeholder=\"Nombre de coupons\"/>\r\n                                        </div>\r\n                                        <div className=\"couponwrap\" id=\"couponwrap\">\r\n\r\n                                        </div>\r\n                                    </div>:null\r\n                                }\r\n                            </div>\r\n                        </div>\r\n                    </Modal.Body>\r\n                    <Modal.Footer>\r\n                        <div className=\"py-3\">\r\n                            <Button disabled={!this.state.couponValid} variant=\"danger\" onClick={this.generateCoupon}>\r\n                                Générer\r\n                            </Button>\r\n                            <Button variant=\"default\" className=\"ml-4\" onClick={() => this.setState({showModal: false})}>\r\n                                Fermer\r\n                            </Button>\r\n                        </div>\r\n                    </Modal.Footer>\r\n                </Modal>\r\n            </Fragment>\r\n        );\r\n    }\r\n}\r\n\r\nexport default AdminCoupons;","import React, { Component, Fragment } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport {DateFormat} from '../../utils/DateFormat'\r\nimport Modal from 'react-bootstrap/Modal';\r\nimport { Notification, addNotification } from '../../globalComponent/Notifications'\r\nimport Button from 'react-bootstrap/Button';\r\nimport SupplierForm from '../../components/Forms/SuplierForm';\r\nimport Loader from '../../globalComponent/Loader';\r\nimport EventModal from '../../suppliers/Dashboard/EventModal';\r\nimport ServiceModal from '../../suppliers/Dashboard/ServiceModal';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faCamera } from '@fortawesome/free-solid-svg-icons';\r\n\r\nclass AdminHome extends Component {\r\n\r\n    state = {\r\n        showModal: false,\r\n        eventsLoading: true,\r\n        events: [],\r\n        servicesLoading: true,\r\n        services: [],\r\n        error: '',\r\n        showEventModal: false,\r\n        showServiceModal: false,\r\n        loadinSingleEv: false,\r\n        loadinSingleAn: false,\r\n        event: null,\r\n        service: null,\r\n        /* For uploading images to gallery */\r\n        userMessage: '',\r\n        uploadError: '',\r\n        loading: false,\r\n        \r\n        /* When publish on gallery */\r\n        showUploadModal: false,\r\n        images: null,\r\n        content: '',\r\n        tags: '',\r\n        publishing: false,\r\n        succesPublish: false,\r\n        publishError: false\r\n    }\r\n\r\n    closeSupplierModal = () => {\r\n        this.setState({ showModal: false, showEventModal: false, showServiceModal: false });\r\n    }\r\n\r\n    componentDidMount() {\r\n        //Get 5 events\r\n        axios.get('/api/event/5')\r\n            .then(res => {\r\n                this.setState({ events: res.data.events, eventsLoading: false, error: '' })\r\n            })\r\n            .catch(err => {\r\n                this.setState({ error: \"Une érreur s'est produite. Veuillez reéssayer.\", eventsLoading: false })\r\n            });\r\n\r\n        //Get 5 services\r\n        axios.get('/api/service/5')\r\n            .then(res => {\r\n                this.setState({ services: res.data.services, servicesLoading: false, error: '' })\r\n            })\r\n            .catch(err => {\r\n                this.setState({ error: \"Une érreur s'est produite. Veuillez reéssayer.\", servicesLoading: false })\r\n            })\r\n    }\r\n\r\n    getSingleEvent = (id) => {\r\n        this.setState({ loadinSingleEv: true, showEventModal: true })\r\n        axios.get('/api/event/' + id)\r\n            .then(res => {\r\n                this.setState({\r\n                    loadinSingleEv: false,\r\n                    event: res.data.event,\r\n                    'error': ''\r\n                })\r\n            })\r\n            .catch(err => {\r\n                this.setState({\r\n                    loadinSingleEv: false,\r\n                    'error': 'Erreur survenue, veuillez actualiser'\r\n                })\r\n            })\r\n    }\r\n\r\n    getSingleService = (id) => {\r\n        this.setState({ loadinSingleAn: true, showServiceModal: true })\r\n        axios.get('/api/service/' + id)\r\n            .then(res => {\r\n                this.setState({\r\n                    loadinSingleAn: false,\r\n                    service: res.data.service,\r\n                    'error': ''\r\n                })\r\n            })\r\n            .catch(err => {\r\n                this.setState({\r\n                    loadinSingleEv: false,\r\n                    'error': 'Erreur survenue, veuillez actualiser'\r\n                })\r\n            })\r\n    }\r\n\r\n    // Refresh view when delete or validate event/service\r\n    refreshList = (list, name) => {\r\n        this.setState({\r\n            [name]: list\r\n        })\r\n    }\r\n\r\n    handleInputChange = (e) => {\r\n        e.preventDefault();\r\n        const name = e.target.name;\r\n        const value = e.target.value;\r\n        this.setState({\r\n            [name]: value\r\n        });\r\n    }\r\n\r\n    preview = (e) => {\r\n        let images = Array.from(e.target.files).map(file => URL.createObjectURL(file));\r\n        this.setState({ previewImages: images, images: e.target.files });\r\n    }\r\n    \r\n    // Publish in gallery\r\n    publish = (e) => {\r\n        e.preventDefault();\r\n        const { images, content, tags } = this.state;\r\n        if(images&&content.length) {\r\n            this.setState({publishing: true, showUploadModal: true})\r\n            const formData = new FormData();\r\n            formData.append('content', content);\r\n            formData.append('tags', tags);\r\n            Array.from(images).forEach(file => {\r\n                formData.append('images', file);\r\n            });\r\n            const config = {\r\n                headers: {\r\n                    'content-type': 'multipart/form-data'\r\n                }\r\n            };\r\n            try {\r\n                axios.post('/api/gallery/publish', formData, config)\r\n                    .then(res => {\r\n                        this.setState({\r\n                            publishing: false,\r\n                            succesPublish: true,\r\n                            publishError: false,\r\n                            content: '',\r\n                            images: null,\r\n                            previewImages: null\r\n                        });\r\n                    })\r\n                    .catch(err => {\r\n                        this.setState({ publishError: \"Une érreur s'est produite. Veuillez reéssayer.\", publishing: false });\r\n                    })\r\n            } catch (error) {\r\n                this.setState({ publishError: \"Erreur de connexion. Veuillez reéssayer\", publishing: false });\r\n            }\r\n        } else {\r\n            addNotification(\"warning\", \"Galerie!\", \"Veuillez entrer toutes les informations\")\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const { events, eventsLoading, services, servicesLoading, error } = this.state;\r\n        return (\r\n            <Fragment>\r\n                <Notification />\r\n                <div className=\"container\">\r\n                    <div className=\"row  pt-3 mt-5\">\r\n                        <div className=\"col-sm-12\">\r\n                            <h3 className=\"title\">ACTIONS RAPIDES</h3>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"row mb-5\">\r\n                        <div className=\"col-md-6 col-lg-3 col-sm-6 mb-2\">\r\n                            <div className=\"card text-center\">\r\n                                <div className=\"card-body\">\r\n                                    <h5 className=\"card-title\">Ajouter un Fournisseur</h5>\r\n                                    <p className=\"card-text\">Créer un nouveau Fournisseur.</p>\r\n                                    <a href=\"#supplier\" onClick={() => this.setState({ showModal: true })} className=\"btn btn-dark btn-block\">Ajouter un Fournisseur</a>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n\r\n                        <div className=\"col-md-6 col-lg-3 col-sm-6 mb-2\">\r\n                            <div className=\"card text-center\">\r\n                                <div className=\"card-body\">\r\n                                    <h5 className=\"card-title\">Actualités</h5>\r\n                                    <p className=\"card-text\">Valider/Supprimer Actualité.</p>\r\n                                    <Link className=\"btn btn-dark btn-block\" to=\"/admin/annonces\">Gérer les Actualités</Link>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"col-md-6 col-lg-3 col-sm-6 mb-2\">\r\n                            <div className=\"card text-center\">\r\n                                <div className=\"card-body\">\r\n                                    <h5 className=\"card-title\">Services</h5>\r\n                                    <p className=\"card-text\">Valider/Supprimer un Service.</p>\r\n                                    <Link className=\"btn btn-dark btn-block\" to=\"/admin/services\">Gérer les Services</Link>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"col-md-6 col-lg-3 col-sm-6 mb-2\">\r\n                            <div className=\"card text-center\">\r\n                                <div className=\"card-body\">\r\n                                    <h5 className=\"card-title\">Galerie</h5>\r\n                                    <p className=\"card-text\">Ajouter du contenu dans la Galerie</p>\r\n                                    <Link to=\"#gallery\" onClick={() => this.setState({ showUploadModal: true })} className=\"btn btn-dark btn-block upload-btn\">Publier dans la Galerie &nbsp; <FontAwesomeIcon icon={faCamera} size={\"1x\"} /></Link>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"row mt-5\">\r\n                        <div className=\"col-sm-12\">\r\n                            <h3 className=\"title\">ACTUALITES RECENTES</h3>\r\n                        </div>\r\n                        <div className=\"col-sm-12 text-center\">\r\n                            {error && error.length ? <div className=\"alert alert-danger\" style={{ fontSize: \"1.3rem\" }}>{error}</div> : null}\r\n                            {\r\n                                eventsLoading ? <Loader /> :\r\n                                    events && events.length ?\r\n                                        <table className=\"table table-bordered\">\r\n                                            <thead className=\"thead-inverse thead-dark\">\r\n                                                <tr>\r\n                                                    <th>#</th>\r\n                                                    <th>Nom</th>\r\n                                                    <th>Lieux</th>\r\n                                                    <th>Date</th>\r\n                                                    <th>Catégorie</th>\r\n                                                    <th>Etat</th>\r\n                                                    <th>Actions</th>\r\n                                                </tr>\r\n                                            </thead>\r\n                                            <tbody>\r\n                                                {\r\n                                                    events.map((event, i) => (\r\n                                                        <tr key={event._id}>\r\n                                                            <th scope=\"row\">{i + 1}</th>\r\n                                                            <td>{event.title}</td>\r\n                                                            <td>{event.place}</td>\r\n                                                            <td><DateFormat date={event.date} /></td>\r\n                                                            <td>{event.category}</td>\r\n                                                            <td>{event.validated ? <span style={{ color: \"green\" }}>Validé</span> : <b style={{ color: \"red\" }}>En attente</b>}</td>\r\n                                                            <td className=\"actions\">\r\n                                                                <button onClick={() => this.getSingleEvent(event._id)} className=\"btn btn-outline-dark btn-md ml-3\">Afficher</button>\r\n                                                            </td>\r\n                                                        </tr>\r\n                                                    ))\r\n                                                }\r\n                                            </tbody>\r\n                                        </table> : null\r\n                            }\r\n                            <div className=\"d-flex justify-content-end\">\r\n                                <Link className=\"btn btn-dark\" to=\"/admin/annonces\">Afficher tous</Link>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"row mt-5\">\r\n                        <div className=\"col-sm-12\">\r\n                            <h3 className=\"title\">SERVICES RECENTS</h3>\r\n                        </div>\r\n                        <div className=\"col-sm-12 text-center\">\r\n                            {error && error.length ? <div className=\"alert alert-danger\" style={{ fontSize: \"1.3rem\" }}>{error}</div> : null}\r\n                            {\r\n                                servicesLoading ? <Loader /> :\r\n                                    services && services.length ?\r\n                                        <table className=\"table table-bordered\">\r\n                                            <thead className=\"thead-inverse thead-dark\">\r\n                                                <tr>\r\n                                                    <th>#</th>\r\n                                                    <th>Titre</th>\r\n                                                    <th>Lieu</th>\r\n                                                    <th>Cible</th>\r\n                                                    <th>Durée</th>\r\n                                                    <th>Etat</th>\r\n                                                    <th>Actions</th>\r\n                                                </tr>\r\n                                            </thead>\r\n                                            <tbody>\r\n                                                {\r\n                                                    services.map((service, i) => (\r\n                                                        <tr key={service._id}>\r\n                                                            <th scope=\"row\">{i + 1}</th>\r\n                                                            <td>{service.title}</td>\r\n                                                            <td>{service.place}</td>\r\n                                                            <td>{service.target}</td>\r\n                                                            <td>{service.duration}</td>\r\n                                                            <td>{service.validated ? <span style={{ color: \"green\" }}>Validé</span> : <b style={{ color: \"red\" }}>En attente</b>}</td>\r\n                                                            <td className=\"actions\">\r\n                                                                <button onClick={() => this.getSingleService(service._id)} className=\"btn btn-outline-dark btn-md ml-3\">Afficher</button>\r\n                                                            </td>\r\n                                                        </tr>\r\n                                                    ))\r\n                                                }\r\n                                            </tbody>\r\n                                        </table> : null\r\n                            }\r\n                            <div className=\"d-flex justify-content-end\">\r\n                                <Link className=\"btn btn-dark\" to=\"/admin/services\">Afficher tous</Link>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* View/Update An Event */}\r\n                <EventModal\r\n                    user={null}\r\n                    isEditing={true}\r\n                    event={this.state.event}\r\n                    refreshList={this.refreshList}\r\n                    events={this.state.events}\r\n                    loadingEv={this.state.loadinSingleEv}\r\n                    show={this.state.showEventModal}\r\n                    closeModal={this.closeSupplierModal} />\r\n\r\n                {/* View/Update a Service */}\r\n                <ServiceModal\r\n                    user={null}\r\n                    isEditing={true}\r\n                    service={this.state.service}\r\n                    refreshList={this.refreshList}\r\n                    services={this.state.services}\r\n                    loadingAn={this.state.loadinSingleAn}\r\n                    show={this.state.showServiceModal}\r\n                    closeModal={this.closeSupplierModal} />\r\n\r\n                {/* Add a new Supplier Popup */}\r\n                <Modal show={this.state.showModal} size=\"lg\" onHide={() => this.setState({ showModal: !this.state.showModal })} >\r\n                    <Modal.Header closeButton>\r\n                        <Modal.Title>Nouveau Fournisseur</Modal.Title>\r\n                    </Modal.Header>\r\n                    <Modal.Body>\r\n                        <div className=\"container supplier-form\">\r\n                            <SupplierForm closeModal={this.closeSupplierModal} />\r\n                        </div>\r\n                    </Modal.Body>\r\n                    <Modal.Footer>\r\n                        <div className=\"py-3\">\r\n                            <Button variant=\"outline\" onClick={() => this.setState({ showModal: !this.state.showModal })}>\r\n                                Fermer\r\n                            </Button>\r\n                        </div>\r\n                    </Modal.Footer>\r\n                </Modal>\r\n\r\n                {/* Publish on gallery modal */}\r\n                <Modal show={this.state.showUploadModal} onHide={() => this.setState({ showUploadModal: false })} size=\"lg\" >\r\n                    <Modal.Header closeButton>\r\n                        <Modal.Title>Importer des Images</Modal.Title>\r\n                    </Modal.Header>\r\n                    <Modal.Body>\r\n                        <section className=\"updload-section\">\r\n                            <div className=\"container\">\r\n                                <div className=\"row justify-content-center\">\r\n                                    <div className=\"col-sm-12\">\r\n                                        {this.state.publishError.length && <div className=\"alert alert-danger\">{this.state.publishError}</div>}\r\n                                        {this.state.succesPublish && <div className=\"alert alert-success\">Publié avec succès</div>}\r\n                                        <div className=\"upload\">\r\n                                            <label className=\"mt-3 mb-4\">Entrez un message pour votre publication</label>\r\n                                            <textarea placeholder=\"Exprimez vous\"\r\n                                                value={this.state.content} name=\"content\"\r\n                                                className=\"form-control\" onChange={(e) => this.handleInputChange(e)} rows=\"2\"></textarea>\r\n                                        </div>\r\n                                        <div className=\"form-group \">\r\n                                            <label className=\"mt-3\">Tags (Séparez par des virgules)</label>\r\n                                            <input className=\"form-control\" onChange={(e) => this.handleInputChange(e)} type=\"text\" name=\"tags\" value={this.state.tags} placeholder=\"Entrez des tags\" />\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"row text-center mt-3 justify-content-center\">\r\n                                    <div className=\"col-sm-6\">\r\n                                        <form className=\"mt-3 mb-4\">\r\n                                            <div className=\"custom-file\">\r\n                                                <input onChange={(e) => this.preview(e)} type=\"file\" className=\"custom-file-input\" accept=\"image/*\" id=\"customFile\" multiple />\r\n                                                <label className=\"custom-file-label\" for=\"customFile\">Choisir les images</label>\r\n                                            </div>\r\n                                        </form>\r\n                                    </div>\r\n                                <div className=\"container mt-2\">\r\n                                    <div className=\"row justify-content-center\">\r\n                                        {this.state.previewImages ? \r\n                                            this.state.previewImages.map((image, id) => (\r\n                                                <div key={id} className=\"col-4 mt-2\">\r\n                                                    <img src={image} className=\"img-fluid\" alt=\"\" /> \r\n                                                </div>\r\n                                            )) : null\r\n                                        }\r\n                                    </div>\r\n                                </div>\r\n                                </div>\r\n                            </div>\r\n                        </section>\r\n                    </Modal.Body>\r\n                    <Modal.Footer>\r\n                        <div className=\"py-3\">\r\n                            <Button variant=\"danger\" onClick={(e) => this.publish(e)}>\r\n                                Publier {this.state.publishing&&<Loader color=\"white\"/>}\r\n                            </Button>\r\n                            <Button variant=\"default\" onClick={() => this.setState({ showUploadModal: false })}>\r\n                                Fermer\r\n                            </Button>\r\n                        </div>\r\n                    </Modal.Footer>\r\n                </Modal>\r\n\r\n            </Fragment>\r\n        );\r\n    }\r\n}\r\n\r\nexport default AdminHome;","import React, { Component, Fragment } from 'react';\r\nimport axios from 'axios';\r\nimport {connect} from 'react-redux';\r\nimport Modal from 'react-bootstrap/Modal';\r\nimport {DateFormat} from '../../utils/DateFormat'\r\nimport Loader from '../../globalComponent/Loader';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faDownload} from '@fortawesome/free-solid-svg-icons';\r\nimport EventModal from '../../suppliers/Dashboard/EventModal';\r\n\r\nclass AdminAnnonce extends Component {\r\n\r\n    state = {\r\n        showModal: false,\r\n        showReservationListModal: false,\r\n        eventsLoading: true,\r\n        events: [],\r\n        error: '',\r\n        event: null,\r\n        loading: false,\r\n        showCreationModal: false\r\n    }\r\n\r\n    componentDidMount() {\r\n        //Get all events\r\n        this.getAllServices();\r\n    }\r\n    \r\n    getAllServices = () => {\r\n        //Get all events\r\n        axios.get('/api/event/all')\r\n            .then(res => {\r\n                this.setState({ events: res.data.events, eventsLoading: false, error: '' })\r\n            })\r\n            .catch(err => {\r\n                this.setState({ error: \"Une érreur s'est produite. Veuillez reéssayer.\", eventsLoading: false })\r\n            })\r\n    }\r\n\r\n    refreshEventList = () => {\r\n        this.setState({ eventsLoading: true })\r\n        this.getAllServices();\r\n    }\r\n\r\n    getSingleEvent = (id, info) => {\r\n        if(info === \"detail\")\r\n            this.setState({ loading: true, showModal: true})\r\n        else \r\n            this.setState({ loading: true, showReservationListModal: true })\r\n        axios.get('/api/event/' + id)\r\n        .then(res => {\r\n            this.setState({\r\n                loading: false,\r\n                event: res.data.event,\r\n                'error': ''\r\n            })\r\n        })\r\n        .catch(err => {\r\n            this.setState({\r\n                loading: false,\r\n                'error': 'Erreur survenue, veuillez actualiser'\r\n            })\r\n        })\r\n    }\r\n\r\n    // Refresh view when delete or validate event/service\r\n    refreshList = (list, name) => {\r\n        this.setState({\r\n            [name]: list\r\n        })\r\n    }\r\n\r\n    closeModal = () => {\r\n        this.setState({ showModal: false, showCreationModal: false});\r\n    }\r\n\r\n    generateCSV = (data, announce) => {\r\n        let csvContent = \"data:text/csv;charset=utf-8,\";\r\n        // Format our csv file content\r\n        csvContent += \"id , name, email, tel, places \\r\\n\";\r\n        data.forEach(function (rowArray, i) {\r\n            let row = (i + 1) + \" , \" + rowArray.name + \" , \" + rowArray.email + \" , \" + rowArray.tel + \" , \" + rowArray.numberOfPlaces;\r\n            csvContent += row + \"\\r\\n\";\r\n        });\r\n\r\n        // Creating the file\r\n        let encodedUri = encodeURI(csvContent);\r\n        let link = document.createElement(\"a\");\r\n        link.setAttribute(\"href\", encodedUri);\r\n        let fileName = announce.split(' ').join('-');\r\n        link.setAttribute(\"download\", fileName + \".csv\");\r\n        link.click();\r\n    }\r\n\r\n    render() {\r\n        const { error, events, eventsLoading} = this.state;\r\n        return (\r\n            <Fragment>\r\n                <div className=\"container\">\r\n                    <div className=\"row mt-5\">\r\n                        <div className=\"col-sm-12 d-flex justify-content-between align-items-center mb-5\">\r\n                            <h3 className=\"title\">TOUTES LES ACTUALITES</h3>\r\n                            <button onClick={() => this.setState({showCreationModal: true})} className=\"button\">Ajouter une Actualité</button>\r\n                        </div>\r\n                        <div className=\"col-sm-12 text-center\">\r\n                            {error && error.length ? <div className=\"alert alert-danger\" style={{ fontSize: \"1.3rem\" }}>{error}</div> : null}\r\n                            {\r\n                                eventsLoading ? <Loader /> :\r\n                                    events && events.length ?\r\n                                    <table className=\"table table-bordered\">\r\n                                        <thead className=\"thead-inverse thead-dark\">\r\n                                            <tr>\r\n                                                <th>#</th>\r\n                                                <th>Titre</th>\r\n                                                <th>Lieux</th>\r\n                                                <th>Date</th>\r\n                                                <th>Categorie</th>\r\n                                                <th>Etat</th>\r\n                                                <th>Actions</th>\r\n                                            </tr>\r\n                                        </thead>\r\n                                        <tbody>\r\n                                        {\r\n                                            events.map((event, i) => (\r\n                                                <tr key={event._id}>\r\n                                                    <th scope=\"row\">{i + 1}</th>\r\n                                                    <td>{event.title}</td>\r\n                                                    <td>{event.place}</td>\r\n                                                    <td><DateFormat date={event.date} /></td>\r\n                                                    <td>{event.category}</td>\r\n                                                    <td>{event.validated ? <span style={{ color: \"green\" }}>Validé</span> : <b style={{ color: \"red\" }}>En attente</b>}</td>\r\n                                                    <td className=\"actions\">\r\n                                                        <button onClick={() => this.getSingleEvent(event._id, \"detail\")} className=\"btn btn-outline-dark btn-md ml-3\">Afficher</button>\r\n                                                        <button onClick={() => this.getSingleEvent(event._id, \"reservations\")} className=\"btn btn-dark btn-md ml-3\">Voir les réservations</button>\r\n                                                    </td>\r\n                                                </tr>\r\n                                            ))\r\n                                        }\r\n                                        </tbody>\r\n                                    </table> : null\r\n                            }\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* View/Update An Event */}\r\n                <EventModal\r\n                    user={null}\r\n                    isEditing={true}\r\n                    event={this.state.event}\r\n                    refreshList={this.refreshList}\r\n                    events={this.state.events}\r\n                    loadingEv={this.state.loading}\r\n                    show={this.state.showModal}\r\n                    closeModal={this.closeModal} />\r\n\r\n                {/* New Event/Annonce */}\r\n                <EventModal\r\n                    user={this.props.user}\r\n                    show={this.state.showCreationModal}\r\n                    closeModal={this.closeModal}\r\n                    refreshEventList={this.refreshEventList} />\r\n\r\n                {/* reservation list */}\r\n                <Modal show={this.state.showReservationListModal} onHide={() => this.setState({showReservationListModal : false})} size=\"lg\" >\r\n                    <Modal.Header closeButton>\r\n                        <Modal.Title>Liste des réservations</Modal.Title>\r\n                    </Modal.Header>\r\n                    <Modal.Body>\r\n                        <div className=\"container\">\r\n                            <div className=\"row\">\r\n                                <div className=\"col-sm-12 pl-4 pr-4 mt-4 mb-3\">\r\n                                    {this.state.loading ? <div className=\"d-flex justify-content-center\"><Loader /></div>:\r\n                                    this.state.event&&this.state.event.reservations && this.state.event.reservations.length ?\r\n                                            (\r\n                                               <Fragment>\r\n                                               <h3 className=\"mb-3\">{this.state.event.title}</h3>\r\n                                                <table className=\"table table-bordered reservations-list\">\r\n                                                        <tbody>\r\n                                                            {this.state.event.reservations.map((reservation, i) => (\r\n                                                                <tr key={i}>\r\n                                                                    <th scope=\"row\">{i + 1}</th>\r\n                                                                    <td>{reservation.name}</td>\r\n                                                                    <td>{reservation.email}</td>\r\n                                                                    <td>{reservation.tel}</td>\r\n                                                                    <td>Places: {reservation.numberOfPlaces}</td>\r\n                                                                </tr>\r\n                                                            ))}\r\n                                                        </tbody>\r\n                                                    </table>\r\n                                                    <div className=\"deleteWrapper d-flex mt-auto\">\r\n                                                        <button className=\"btn btn-dark ml-auto mt-3\" onClick={() => this.generateCSV(this.state.event.reservations, this.state.event.title)}>Télécharger la liste&nbsp;<FontAwesomeIcon icon={faDownload} size={\"1x\"} /></button>\r\n                                                    </div>\r\n                                               </Fragment>\r\n                                            ): <div className=\"d-flex justify-content-center\"><p>Aucune réservation.</p></div>\r\n                                    }\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </Modal.Body>\r\n                </Modal>\r\n\r\n            </Fragment>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapPropsToState = state => {\r\n    return {\r\n        user: state.auth.user\r\n    }\r\n}\r\nexport default connect(mapPropsToState)(AdminAnnonce);","import React, { Component, Fragment } from 'react';\r\nimport axios from 'axios';\r\nimport Modal from 'react-bootstrap/Modal';\r\nimport { connect } from 'react-redux';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faDownload} from '@fortawesome/free-solid-svg-icons';\r\nimport ServiceModal from '../../suppliers/Dashboard/ServiceModal';\r\nimport Loader from '../../globalComponent/Loader';\r\n\r\nclass AdminService extends Component {\r\n\r\n    state = {\r\n        showModal: false,\r\n        servicesLoading: true,\r\n        showReservationListModal: false,\r\n        services: [],\r\n        error: '',\r\n        service: null,\r\n        loading: false,\r\n        showCreationModal: false\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.getAllServices();\r\n    }\r\n\r\n    getAllServices = () => {\r\n        //Get all services\r\n        axios.get('/api/service/all')\r\n            .then(res => {\r\n                this.setState({ services: res.data.services, servicesLoading: false, error: '' })\r\n            })\r\n            .catch(err => {\r\n                this.setState({ error: \"Une érreur s'est produite. Veuillez reéssayer.\", servicesLoading: false })\r\n            })\r\n    }\r\n\r\n    refreshServiceList = () => {\r\n        this.setState({ servicesLoading: true })\r\n        this.getAllServices();\r\n    }\r\n\r\n    getSingleEvent = (id, info) => {\r\n        if(info === \"detail\")\r\n            this.setState({ loading: true, showModal: true})\r\n        else \r\n            this.setState({ loading: true, showReservationListModal: true })\r\n        axios.get('/api/service/' + id)\r\n            .then(res => {\r\n                this.setState({\r\n                    loading: false,\r\n                    service: res.data.service,\r\n                    'error': ''\r\n                })\r\n            })\r\n            .catch(err => {\r\n                this.setState({\r\n                    loading: false,\r\n                    'error': 'Erreur survenue, veuillez actualiser'\r\n                })\r\n            })\r\n    }\r\n\r\n    // Refresh view when delete or validate service/service\r\n    refreshList = (list, name) => {\r\n        this.setState({\r\n            [name]: list\r\n        })\r\n    }\r\n\r\n    closeModal = () => {\r\n        this.setState({ showModal: false, showCreationModal: false });\r\n    }\r\n\r\n    generateCSV = (data, announce) => {\r\n        let csvContent = \"data:text/csv;charset=utf-8,\";\r\n        // Format our csv file content\r\n        csvContent += \"id , name, email, tel, places \\r\\n\";\r\n        data.forEach(function (rowArray, i) {\r\n            let row = (i + 1) + \" , \" + rowArray.name + \" , \" + rowArray.email + \" , \" + rowArray.tel + \" , \" + rowArray.numberOfPlaces;\r\n            csvContent += row + \"\\r\\n\";\r\n        });\r\n\r\n        // Creating the file\r\n        let encodedUri = encodeURI(csvContent);\r\n        let link = document.createElement(\"a\");\r\n        link.setAttribute(\"href\", encodedUri);\r\n        let fileName = announce.split(' ').join('-');\r\n        link.setAttribute(\"download\", fileName + \".csv\");\r\n        link.click();\r\n    }\r\n\r\n    render() {\r\n        const { error, services, servicesLoading } = this.state;\r\n        return (\r\n            <Fragment>\r\n                <div className=\"container\">\r\n                    <div className=\"row mt-5\">\r\n                        <div className=\"col-sm-12 text-center d-flex justify-content-between align-items-center mb-5\">\r\n                            <h3 className=\"title\">TOUS LES SERVICES</h3>\r\n                            <button onClick={() => this.setState({ showCreationModal: true })} className=\"button\">Ajouter un service</button>\r\n                        </div>\r\n                        <div className=\"col-sm-12 text-center\">\r\n                            {error && error.length ? <div className=\"alert alert-danger\" style={{ fontSize: \"1.3rem\" }}>{error}</div> : null}\r\n                            {\r\n                                servicesLoading ? <Loader /> :\r\n                                    services && services.length ?\r\n                                    <table className=\"table table-bordered\">\r\n                                        <thead className=\"thead-inverse thead-dark\">\r\n                                            <tr>\r\n                                                <th>#</th>\r\n                                                <th>Titre</th>\r\n                                                <th>Lieu</th>\r\n                                                <th>Cible</th>\r\n                                                <th>Durée</th>\r\n                                                <th>Etat</th>\r\n                                                <th>Actions</th>\r\n                                            </tr>\r\n                                        </thead>\r\n                                        <tbody>\r\n                                            {\r\n                                                services.map((service, i) => (\r\n                                                    <tr key={service._id}>\r\n                                                        <th scope=\"row\">{i + 1}</th>\r\n                                                        <td>{service.title}</td>\r\n                                                        <td>{service.place}</td>\r\n                                                        <td>{service.target}</td>\r\n                                                        <td>{service.duration}</td>\r\n                                                        <td>{service.validated ? <span style={{ color: \"green\" }}>Validé</span> : <b style={{ color: \"red\" }}>En attente</b>}</td>\r\n                                                        <td className=\"actions\">\r\n                                                            <button onClick={() => this.getSingleEvent(service._id, \"detail\")} className=\"btn btn-outline-dark btn-md ml-3\">Afficher</button>\r\n                                                            <button onClick={() => this.getSingleEvent(service._id, \"reservations\")} className=\"btn btn-dark btn-md ml-3\">Voir les réservations</button>\r\n                                                        </td>\r\n                                                    </tr>\r\n                                                ))\r\n                                            }\r\n                                        </tbody>\r\n                                    </table> : null\r\n                            }\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* View/Update An Event */}\r\n                <ServiceModal\r\n                    user={null}\r\n                    isEditing={true}\r\n                    service={this.state.service}\r\n                    refreshList={this.refreshList}\r\n                    services={this.state.services}\r\n                    loadingAn={this.state.loading}\r\n                    show={this.state.showModal}\r\n                    closeModal={this.closeModal} />\r\n\r\n                {/* New Service */}\r\n                <ServiceModal\r\n                    user={this.props.user}\r\n                    show={this.state.showCreationModal}\r\n                    closeModal={this.closeModal}\r\n                    refreshServiceList={this.refreshServiceList} />\r\n\r\n                {/* reservation list */}\r\n                <Modal show={this.state.showReservationListModal} onHide={() => this.setState({showReservationListModal : false})} size=\"lg\" >\r\n                    <Modal.Header closeButton>\r\n                        <Modal.Title>Liste des réservations</Modal.Title>\r\n                    </Modal.Header>\r\n                    <Modal.Body>\r\n                        <div className=\"container\">\r\n                            <div className=\"row\">\r\n                                <div className=\"col-sm-12 pl-4 pr-4 mt-4 mb-3\">\r\n                                    {this.state.loading ? <div className=\"d-flex justify-content-center\"><Loader /></div>:\r\n                                    this.state.service&&this.state.service.reservations && this.state.service.reservations.length ?\r\n                                            (\r\n                                               <Fragment>\r\n                                               <h3 className=\"mb-3\">{this.state.service.title}</h3>\r\n                                                    <table className=\"table table-bordered reservations-list\">\r\n                                                        <tbody>\r\n                                                            {this.state.service.reservations.map((reservation, i) => (\r\n                                                                <tr key={i}>\r\n                                                                    <th scope=\"row\">{i + 1}</th>\r\n                                                                    <td>{reservation.name}</td>\r\n                                                                    <td>{reservation.email}</td>\r\n                                                                    <td>{reservation.tel}</td>\r\n                                                                    <td>Places: {reservation.numberOfPlaces}</td>\r\n                                                                </tr>\r\n                                                            ))}\r\n                                                        </tbody>\r\n                                                    </table>\r\n                                                    <div className=\"deleteWrapper d-flex mt-auto\">\r\n                                                        <button className=\"btn btn-dark ml-auto mt-3\" onClick={() => this.generateCSV(this.state.service.reservations, this.state.service.title)}>Télécharger la liste&nbsp;<FontAwesomeIcon icon={faDownload} size={\"1x\"} /></button>\r\n                                                    </div>\r\n                                               </Fragment>\r\n                                            ): <div className=\"d-flex justify-content-center\"><p>Aucune réservation.</p></div>\r\n                                    }\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </Modal.Body>\r\n                </Modal>\r\n\r\n            </Fragment>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapPropsToState = state => {\r\n    return {\r\n        user: state.auth.user\r\n    }\r\n}\r\nexport default connect(mapPropsToState)(AdminService);","import React, { Component, Fragment } from 'react';\r\nimport Modal from 'react-bootstrap/Modal';\r\nimport axios from 'axios';\r\nimport {DateFormat} from '../../utils/DateFormat'\r\nimport Button from 'react-bootstrap/Button';\r\nimport Loader from '../../globalComponent/Loader';\r\nimport SupplierForm from '../../components/Forms/SuplierForm';\r\nimport {rootUrl} from '../../../configs/config';\r\n\r\nclass AdminSupplier extends Component {\r\n\r\n    state = {\r\n        showModal: false,\r\n        suppliers: [],\r\n        loading: true,\r\n        supplier: null,\r\n        validating: false,\r\n        deleting: false,\r\n        loadinSingle: false,\r\n        error: '',\r\n        fetcherror: '',\r\n        showSupplierCreationModal: false\r\n    }\r\n\r\n    closeSupplierModal = () => {\r\n        this.setState({showSupplierCreationModal: false})\r\n    }\r\n\r\n    componentDidMount() {\r\n        axios.get('/api/supplier/all')\r\n        .then(res => {\r\n            this.setState({\r\n                loading: false,\r\n                suppliers: res.data.suppliers.reverse(),\r\n                'fetcherror': ''\r\n            })\r\n        })\r\n        .catch(err => {\r\n            this.setState({\r\n                loading: false,\r\n                'fetcherror': \"Erreur survenue, veuillez actualiser\"\r\n            })\r\n        })\r\n    }\r\n\r\n    getSingleSupplier = (id) => {\r\n        this.setState({ loadinSingle: true, showModal: true })\r\n        axios.get('/api/supplier/'+id)\r\n        .then(res => {\r\n            this.setState({\r\n                loadinSingle: false,\r\n                supplier: res.data.supplier,\r\n                'error': ''\r\n            })\r\n        })\r\n        .catch(err => {\r\n            this.setState({\r\n                loadinSingle: false,\r\n                'error': 'Erreur survenue, veuillez actualiser'\r\n            })\r\n        })\r\n    }\r\n\r\n    validateSupplier = (supplier) => {\r\n        this.setState({ validating: true, supplier: supplier })\r\n        axios.patch('/api/supplier/validate/' +supplier._id)\r\n        .then(res => {\r\n            let suppliers = this.state.suppliers.map(supplier => {\r\n                let newSupplier = { ...supplier};\r\n                if (supplier._id === this.state.supplier._id) {\r\n                    newSupplier.accountValidated = true;\r\n                }\r\n                return newSupplier;\r\n            })\r\n            this.setState({\r\n                suppliers: suppliers,\r\n                validating: false,\r\n                showModal: false,\r\n                'error': ''\r\n            })\r\n            // Send Email to Supplier with link to set his password\r\n            const subject = \"Validation de votre compte fournisseur\";\r\n            axios.post('/api/email/sendmail/' +supplier.email+ '/' +subject+ '/' +supplier.name+ '/' +supplier._id+ '/validatesupplier');\r\n        })\r\n        .catch(err => {\r\n            this.setState({\r\n                validating: false,\r\n                'error': 'Erreur survenue, veuillez actualiser'\r\n            })\r\n        })\r\n    }\r\n\r\n    deleteSupplier = (supplier) => {\r\n        this.setState({ deleting: true, supplier: supplier })\r\n        axios.delete('/api/user/'+supplier._id)\r\n        .then(res => {\r\n            let suppliers = this.state.suppliers.filter(supplier => {\r\n                return JSON.stringify(supplier) !== JSON.stringify(this.state.supplier)\r\n            })\r\n            this.setState({\r\n                deleting: false,\r\n                showModal: false,\r\n                suppliers: suppliers\r\n            })\r\n        })\r\n        .catch(err => {\r\n            this.setState({\r\n                deleting: false,\r\n                error: err\r\n            })\r\n        })\r\n    }\r\n\r\n    render() {\r\n        const { loading, suppliers, supplier, validating, deleting, error, fetcherror, loadinSingle } = this.state;\r\n        return (\r\n            <Fragment>\r\n                <div className=\"container\">\r\n                    <div className=\"row mt-5\">\r\n                        <div className=\"col-sm-12 d-flex justify-content-between align-items-center mb-5\">\r\n                            <h3 className=\"title\">FOURNISSEURS</h3>\r\n                            <button onClick={() => this.setState({ showSupplierCreationModal: true })} className=\"button\">Ajouter un Fournisseur</button>\r\n                        </div>\r\n                        <div className=\"col-sm-12\">\r\n                            {fetcherror && fetcherror.length ? <div className=\"alert alert-danger\">{fetcherror}</div> : null}\r\n                            {\r\n                                loading ? <div className=\"p-4 text-center\"><Loader /></div> :\r\n                                    suppliers&&suppliers.length ?\r\n                                    <table className=\"table table-bordered\">\r\n                                        <thead className=\"thead-inverse thead-dark\">\r\n                                            <tr>\r\n                                            <th>#</th>\r\n                                            <th>Nom</th>\r\n                                            <th>Email</th>\r\n                                            <th>Tel</th>\r\n                                            <th>Création</th>\r\n                                            <th>Etat</th>\r\n                                            <th>Actions</th>\r\n                                            </tr>\r\n                                        </thead>\r\n                                        <tbody>\r\n                                        {\r\n                                            suppliers.map((supplier, id) => (\r\n                                                <tr key={supplier._id}>\r\n                                                    <th scope=\"row\">{id+1}</th>\r\n                                                    <td>{supplier.name}</td>\r\n                                                    <td>{supplier.email}</td>\r\n                                                    <td>{supplier.tel}</td>\r\n                                                    <td className=\"date\"><DateFormat date={supplier.date} /></td>\r\n                                                    <td className=\"date\">{supplier.accountValidated ? <span style={{ color: \"green\" }}>Compte Validé</span> : <b style={{ color: \"#DC3545\" }}>En attente</b>}</td>\r\n                                                    <td className=\"actions\">\r\n                                                        <button className=\"btn btn-outline-dark btn-md ml-3\" onClick={() => this.getSingleSupplier(supplier._id)}>Afficher</button>\r\n                                                    </td>\r\n                                                </tr>\r\n                                            ))\r\n                                        }\r\n                                            \r\n                                        </tbody>\r\n                                    </table>: null\r\n                                }\r\n                                \r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                 {/* Validate/delete supplier */}\r\n                 <Modal show={this.state.showModal} size=\"lg\" onHide={() => this.setState({showModal: false})} >\r\n                    <Modal.Header closeButton>\r\n                        <Modal.Title>Détails sur le Fournisseur</Modal.Title>\r\n                    </Modal.Header>\r\n                    <Modal.Body>\r\n                        <div className=\"container\">\r\n                            <div className=\"row\">\r\n                                <div className=\"col-sm-12 pl-4 pr-4 mt-4 mb-3\">\r\n                                    {error && error.length ? <div className=\"alert alert-danger\">{error}</div>: null }\r\n                                    {\r\n                                        loadinSingle ? <div className=\"text-center\"><Loader /></div> :\r\n                                            supplier ? \r\n                                            <table className=\"table table-bordered\">\r\n                                                <tbody className=\"thead-inverse\">\r\n                                                    <tr>\r\n                                                        <th><h4><strong>Nom</strong></h4></th>\r\n                                                        <th><h4>{supplier.name}</h4></th>\r\n                                                    </tr>\r\n                                                    <tr>\r\n                                                        <th><h4><strong>Email</strong></h4></th>\r\n                                                            <th><h4>{supplier.email}</h4></th>\r\n                                                    </tr>\r\n                                                    <tr>\r\n                                                        <th><h4><strong>Tel</strong></h4></th>\r\n                                                            <th><h4>{supplier.tel}</h4></th>\r\n                                                    </tr>\r\n                                                    <tr>\r\n                                                        <th><h4><strong>Localisation</strong></h4></th>\r\n                                                            <th><h4>{supplier.location}</h4></th>\r\n                                                    </tr>\r\n                                                    <tr>\r\n                                                        <th><h4><strong>Lien google Map</strong></h4></th>\r\n                                                            <th><h4>{supplier.mapLink ? supplier.mapLink:null}</h4></th>\r\n                                                    </tr>\r\n                                                    <tr>\r\n                                                        <th><h4><strong>Services</strong></h4></th>\r\n                                                            <th><h4>{supplier.services}</h4></th>\r\n                                                    </tr>\r\n                                                    <tr>\r\n                                                        <th><h4><strong>Autres Infos</strong></h4></th>\r\n                                                            <th><h4>{supplier.otherInfos}</h4></th>\r\n                                                    </tr>\r\n                                                    <tr>\r\n                                                        <th><h4><strong>Profile</strong></h4></th>\r\n                                                            <th>\r\n                                                            <img src={rootUrl+\"/\"+supplier.profileImage} alt=\"\" width=\"250\" height=\"250\"  className=\"img-fluid\" />\r\n                                                        </th>\r\n                                                    </tr>\r\n                                                </tbody>\r\n                                                </table> : null\r\n                                    }\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </Modal.Body>\r\n                    <Modal.Footer>\r\n                        <div className=\"py-3\">\r\n                            {supplier&&!supplier.accountValidated ?\r\n                                <Button variant=\"dark\" className=\"mr-3\" onClick={() => this.validateSupplier(supplier)}>\r\n                                    {validating ? <Loader color=\"white\" /> :\"Valider ce compte\"}\r\n                                </Button>:null\r\n                            }\r\n                            <Button variant=\"danger\" className=\"mr-3\" onClick={() => this.deleteSupplier(supplier)}>\r\n                                {deleting ? <Loader color=\"white\" /> : \"Supprimer\"}\r\n                            </Button>\r\n                            <Button variant=\"default\" onClick={() => this.setState({showModal: false, error: ''})}>\r\n                                Fermer\r\n                            </Button>\r\n                        </div>\r\n                    </Modal.Footer>\r\n                </Modal>\r\n\r\n                {/* Add a new Supplier Popup */}\r\n                <Modal show={this.state.showSupplierCreationModal} size=\"lg\" onHide={() => this.setState({ showSupplierCreationModal: false })} >\r\n                    <Modal.Header closeButton>\r\n                        <Modal.Title>Nouveau Fournisseur</Modal.Title>\r\n                    </Modal.Header>\r\n                    <Modal.Body>\r\n                        <div className=\"container supplier-form\">\r\n                            <SupplierForm closeModal={this.closeSupplierModal} />\r\n                        </div>\r\n                    </Modal.Body>\r\n                    <Modal.Footer>\r\n                        <div className=\"py-3\">\r\n                            <Button variant=\"outline\" onClick={() => this.setState({ showSupplierCreationModal: false })}>\r\n                                Fermer\r\n                            </Button>\r\n                        </div>\r\n                    </Modal.Footer>\r\n                </Modal>\r\n            </Fragment>\r\n        );\r\n    }\r\n}\r\n\r\nexport default AdminSupplier;","import React, { Component, Fragment } from 'react';\r\nimport Modal from 'react-bootstrap/Modal';\r\nimport {DateFormat} from '../../utils/DateFormat'\r\nimport Button from 'react-bootstrap/Button';\r\nimport axios from 'axios';\r\nimport Loader from '../../globalComponent/Loader';\r\n\r\n\r\nclass AdminUser extends Component {\r\n\r\n    state = {\r\n        showModal: false,\r\n        users: [],\r\n        error: '',\r\n        loading: true,\r\n        deleting: false\r\n    }\r\n\r\n    componentWillMount() {\r\n        try {\r\n            axios.get('/api/user/')\r\n            .then(res => {\r\n                this.setState({ users: res.data.users, loading: false, error: '' })\r\n            })\r\n            .catch(err => {\r\n                this.setState({ error: \"Une érreur s'est produite. Veuillez reéssayer.\", loading: false })\r\n            })\r\n        } catch (error) {\r\n            this.setState({ error: \"Une érreur s'est produite. Veuillez reéssayer.\", loading: false })\r\n        }\r\n    }\r\n\r\n    deleteUser = (id) => {\r\n        this.setState({ deleting: true, error: '' })\r\n        axios.delete('api/user/' + id)\r\n        .then(res => {\r\n            let users = this.state.users.filter(user => {\r\n                return user._id !== id;\r\n            })\r\n            this.setState({\r\n                deleting: false,\r\n                'error': '',\r\n                users: users\r\n            })\r\n            this.setState({ deleting: false, error: '' })\r\n        })\r\n        .catch(err => {\r\n            this.setState({ error: \"Une érreur s'est produite. Veuillez reéssayer.\", deleting: false })\r\n        })\r\n    }\r\n\r\n    render() {\r\n        const {error, loading, deleting, users} = this.state;\r\n        return (\r\n            <Fragment>\r\n                <div className=\"container\">\r\n                    <div className=\"row mt-5\">\r\n                        <div className=\"col-sm-12\">\r\n                            <h3 className=\"title\">UTILISATEURS</h3>\r\n                        </div>\r\n                        <div className=\"col-sm-12 text-center\">\r\n                            {error && error.length ? <div className=\"alert alert-danger\" style={{ fontSize: \"1.3rem\" }}>{error}</div> : null}\r\n                            {\r\n                                loading ? <Loader />:\r\n                                    users&&users.length ?\r\n                                    <table className=\"table table-bordered\">\r\n                                        <thead className=\"thead-inverse thead-dark\">\r\n                                            <tr>\r\n                                            <th>#</th>\r\n                                            <th>Nom</th>\r\n                                            <th>Email</th>\r\n                                            <th>Création</th>\r\n                                            <th>Actions</th>\r\n                                            </tr>\r\n                                        </thead>\r\n                                        <tbody>\r\n                                        {\r\n                                            users.map((user, id) => (\r\n                                                <tr key={id}>\r\n                                                    <th scope=\"row\">{id+1}</th>\r\n                                                    <td>{user.name}</td>\r\n                                                    <td>{user.email}</td>\r\n                                                    <td className=\"date\"><DateFormat date={user.date} /></td>\r\n                                                    <td className=\"actions\">\r\n                                                        <button onClick={() => this.deleteUser(user._id)} className=\"btn btn-danger btn-md ml-3\">{deleting ? <Loader />:\"Supprimer\"}</button>\r\n                                                    </td>\r\n                                                </tr>\r\n                                            ))\r\n                                        }\r\n                                        </tbody>\r\n                                    </table>:null\r\n                            }\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                 {/* Add a new Supplier Popup */}\r\n                 <Modal show={this.state.showModal} size=\"lg\" onHide={() => this.setState({showModal: !this.state.showModal})} >\r\n                    <Modal.Header closeButton>\r\n                    <Modal.Title>Détails</Modal.Title>\r\n                    </Modal.Header>\r\n                    <Modal.Body>\r\n                        <div className=\"container\">\r\n                            <div className=\"row\">\r\n                                <div className=\"col-sm-12 pl-4 pr-4 mt-4 mb-3\">\r\n                                    \r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </Modal.Body>\r\n                    <Modal.Footer>\r\n                        <div className=\"py-3\">\r\n                            <Button variant=\"danger\" onClick={() => this.setState({showModal: !this.state.showModal})}>\r\n                                Fermer\r\n                            </Button>\r\n                        </div>\r\n                    </Modal.Footer>\r\n                </Modal>\r\n            </Fragment>\r\n        );\r\n    }\r\n}\r\n\r\nexport default AdminUser;","import React, { Component, Fragment } from 'react';\r\nimport Modal from 'react-bootstrap/Modal';\r\nimport Loader from '../../globalComponent/Loader';\r\nimport Gallery from 'react-grid-gallery';\r\nimport { Notification, addNotification } from '../../globalComponent/Notifications'\r\nimport axios from 'axios';\r\nimport { rootUrl } from '../../../configs/config';\r\n\r\nclass AdminSlider extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            loading: true,\r\n            showModal: false,\r\n            searching: false,\r\n            imageToDelete: false,\r\n            selectedOne: null,\r\n            images: [],\r\n            error: '',\r\n            currentBanner: [],\r\n            results: [],\r\n\r\n            imagesToUpload: [],\r\n            previewImages: null,\r\n            successUpload: false,\r\n        }\r\n\r\n        this.onCurrentImageChange = this.onCurrentImageChange.bind(this);\r\n    }\r\n    \r\n\r\n    onSelectImage = (index, image) => {\r\n        var images = this.state.images.slice();\r\n        var img = images[index];\r\n        if(img.hasOwnProperty(\"isSelected\"))\r\n            img.isSelected = !img.isSelected;\r\n        else\r\n            img.isSelected = true;\r\n\r\n        this.setState({\r\n            images: images\r\n        });\r\n    }\r\n\r\n    onSelectImageToRemove = (index, image) => {\r\n        var currentBanner = this.state.currentBanner.slice();\r\n        var img = currentBanner[index];\r\n        if(img.hasOwnProperty(\"isSelected\"))\r\n            img.isSelected = !img.isSelected;\r\n        else\r\n            img.isSelected = true;\r\n\r\n        this.setState({\r\n            currentBanner: currentBanner\r\n        }, () => {\r\n            const images = this.state.currentBanner.filter(image => image.isSelected === true)\r\n            images.length ? this.setState({imageToDelete: true}): this.setState({imageToDelete: false})\r\n        });\r\n    }\r\n\r\n    componentDidMount() {\r\n       this.getImages();\r\n    }\r\n\r\n    // preview image\r\n    preview = (e) => {\r\n        let images = Array.from(e.target.files).map(file => URL.createObjectURL(file));\r\n        this.setState({ previewImages: images, imagesToUpload: e.target.files });\r\n    }\r\n\r\n    getImages = () => {\r\n         // get all banner images\r\n         axios.get('/api/banner')\r\n         .then(res => {\r\n             let currentBanner = res.data.banners.map(banner => {\r\n                 return {\r\n                        src: banner.link,\r\n                        thumbnail: banner.link,\r\n                        thumbnailWidth: 320,\r\n                        thumbnailHeight: 213,\r\n                        thumbnailCaption: banner.title,\r\n                        id: banner._id\r\n                    }\r\n                })\r\n             this.setState({loading: false, successUpload: true, currentBanner: currentBanner})\r\n         })\r\n         .catch(err => {\r\n             this.setState({error: \"Une erreur s'est produite, veuillez reéssayer\", loading: false, successUpload: false})\r\n         })\r\n    }\r\n\r\n\r\n    //Upload images\r\n    /* handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        if(this.state.imagesToUpload.length) {\r\n            this.setState({loading: true, successUpload: false, error: ''})\r\n            const config = {\r\n                headers: {\r\n                    'content-type': 'multipart/form-data'\r\n                }\r\n            };\r\n            Array.from(this.state.imagesToUpload).forEach((file, i) => {\r\n                const formData = new FormData();\r\n                formData.append('image', file);\r\n                axios.post('/api/banner', formData, config)\r\n                .then(res => {\r\n                    if(this.state.imagesToUpload.length === i+1) {\r\n                        this.setState({successUpload: true, error: '', showModal: false})\r\n                        this.getImages()\r\n                    }\r\n                })\r\n                .catch(err => {\r\n                    if(this.state.imagesToUpload.length === i+1) {\r\n                        this.setState({error: \"Une erreur s'est produite, veuillez reéssayer\", loading: false, successUpload: false})\r\n                    }\r\n                })\r\n            });\r\n        } else {\r\n            addNotification(\"warning\", \"Bannière!\", \"Choisissez des images à importer\")\r\n        }\r\n    } */\r\n\r\n    // Configure banner\r\n    setBanner = () => {\r\n        const bannerImages = this.state.images.filter(banner => banner.isSelected === true);\r\n        if(bannerImages.length) {\r\n            this.setState({loading: true})\r\n            axios.post('/api/banner/set', {bannerImages: bannerImages})\r\n            .then(res => {\r\n                this.setState({error: ''})\r\n                this.getImages();\r\n            })\r\n            .catch(err => {\r\n                this.setState({loading: false, error: \"Une erreur s'est produite, veuillez reéssayer\",})\r\n            })\r\n        } else {\r\n            addNotification(\"warning\", \"Bannière!\", \"Sélectionnez des images à configurer sur la bannière\")\r\n        }\r\n    }\r\n\r\n    //Remove images to banner\r\n    removeToBanner = () => {\r\n        const bannerImages = this.state.currentBanner.filter(banner => banner.isSelected === true);\r\n        if(bannerImages.length) {\r\n            this.setState({loading: true})\r\n            axios.patch('/api/banner/remove', {bannerImages: bannerImages})\r\n            .then(res => {\r\n                this.setState({error: '', imageToDelete: false})\r\n                this.getImages();\r\n            })\r\n            .catch(err => {\r\n                this.setState({loading: false, error: \"Une erreur s'est produite, veuillez reéssayer\", imageToDelete: false})\r\n            })\r\n        } else {\r\n            addNotification(\"warning\", \"Bannière!\", \"Sélectionnez des images à enlever de la bannière\")\r\n        }\r\n    }\r\n\r\n\r\n    makeSearch = (query) => {\r\n        this.setState({ searching: true, results: [] })\r\n        // search form events\r\n        if(query.length>1) {\r\n            axios.get('/api/event/' + query + '/search')\r\n                .then(res => {\r\n                    let eventList = [];\r\n                    res.data.events.forEach(event => {\r\n                        event.eventType = \"event\";\r\n                        if (!this.state.results.includes(event)) {\r\n                            eventList.push(event);\r\n                        }\r\n                    });\r\n                    // search form services\r\n                    axios.get('/api/service/' + query + '/search')\r\n                        .then(res => {\r\n                            let serviceList = [];\r\n                            res.data.services.forEach(service => {\r\n                                service.eventType = \"service\";\r\n                                if (!this.state.results.includes(service)) {\r\n                                    serviceList.push(service);\r\n                                }\r\n                            });\r\n                            this.setState({\r\n                                results: [...eventList, ...serviceList],\r\n                                searching: false\r\n                            })\r\n                        })\r\n                        .catch(err => {\r\n                            this.setState({ error: \"Une érreur s'est produite. Veuillez recharger\", searching: false })\r\n                        })\r\n                })\r\n                .catch(err => {\r\n                    this.setState({ error: \"Une érreur s'est produite. Veuillez recharger\", searching: false })\r\n                })\r\n        } else {\r\n            this.setState({searching: false, results: []})\r\n        }\r\n    }\r\n\r\n    // Select one event or service\r\n    selectOne = (e, result) => {\r\n        e.preventDefault();\r\n        const allImages = result.images.map(image => {\r\n            return {\r\n                src: rootUrl + '/' + image,\r\n                thumbnail: rootUrl + '/' + image,\r\n                thumbnailWidth: 320,\r\n                thumbnailHeight: 213,\r\n                followlink: \"/annonce/\" + result.eventType + \"/\" + result._id,\r\n                title: result.title,\r\n                id: result._id\r\n            }\r\n        })\r\n        this.setState({selectedOne: result, showModal: false, images: allImages})\r\n    }\r\n\r\n    onCurrentImageChange(index) {\r\n        this.setState({ currentImage: index });\r\n    }\r\n\r\n    render() {\r\n        const {loading, showModal} = this.state;\r\n        return (\r\n            <Fragment>\r\n                <Notification />\r\n                <div className=\"container mt-4 mb-5\">\r\n                    <div className=\"row pt-5 pb-3\">\r\n                        <div className=\"col d-flex justify-content-between align-items-center\">\r\n                            <h1>Configuration de la bannière</h1>\r\n                            <button onClick={() => this.setState({showModal: true})} className=\"button\">CHOISIR LA BANNIERE</button>\r\n                        </div>\r\n                    </div>\r\n                    {this.state.error.length ? <div className=\"d-flex justify-content-center alert-danger alert\">{this.state.error}</div>:null}\r\n                    {this.state.loading ? <div className=\"d-flex justify-content-center\"><Loader /></div> : \r\n                        <Fragment>\r\n                            <div className=\"row mt-2\">\r\n                                <div className=\"col-sm-12 d-flex mt-5 mb-4\">\r\n                                    <h2>Images sur la Bannière actuelle</h2>\r\n                                </div>\r\n                                <div className=\"col-sm-12\">\r\n                                    <Gallery\r\n                                        images={this.state.currentBanner}\r\n                                        onSelectImage={this.onSelectImageToRemove}\r\n                                        lightboxWidth={1536}\r\n                                        enableLightbox={true}\r\n                                    />\r\n                                </div>\r\n                                {this.state.imageToDelete ?\r\n                                    <div className=\"col-sm-12 d-flex justify-content-center mt-5 mb-4\">\r\n                                        <button onClick={this.removeToBanner} className=\"btn btn-danger\">{loading ? <Loader color=\"white\" /> :\"Enlever de la bannière\"}</button>\r\n                                    </div>:null\r\n                                }\r\n                            </div>\r\n                            {/* <div className=\"row mt-5\">\r\n                                <div className=\"col-sm-12 mt-5 mb-4\">\r\n                                    <h2>Toutes les images importées</h2>\r\n                                    <h5>Selectionnez des images et enregistrer pour configurer la bannière.</h5>\r\n                                </div>\r\n                                <div className=\"col-sm-12\">\r\n                                    <Gallery\r\n                                        images={this.state.images}\r\n                                        onSelectImage={this.onSelectImage}\r\n                                        lightboxWidth={1536}\r\n                                    />\r\n                                </div>\r\n                                <div className=\"col-sm-12 d-flex mt-5 justify-content-end\">\r\n                                    <button className=\"button\" onClick={this.setBanner}>Ajouter à la bannière</button>\r\n                                </div>\r\n                            </div> */}\r\n                            {\r\n                                this.state.selectedOne ? \r\n                                    <div className=\"row mt-5\">\r\n                                        <div className=\"col-sm-12 mt-5 mb-4\">\r\n                                            <h2>{this.state.selectedOne.title}</h2>\r\n                                            <h5>Selectionnez des images et enregistrer pour configurer la bannière.</h5>\r\n                                        </div>\r\n                                        <div className=\"col-sm-12\">\r\n                                            <Gallery\r\n                                                images={this.state.images}\r\n                                                onSelectImage={this.onSelectImage}\r\n                                                lightboxWidth={1536}\r\n                                            />\r\n                                        </div>\r\n                                        <div className=\"col-sm-12 d-flex mt-5\">\r\n                                            <button className=\"button\" onClick={this.setBanner}>Ajouter à la bannière</button>\r\n                                        </div>\r\n                                    </div>:null\r\n                            }\r\n                        </Fragment>\r\n                    }\r\n                </div>\r\n\r\n                <Modal show={showModal} onHide={() => this.setState({showModal : false})} size=\"lg\" >\r\n                    <Modal.Header closeButton>\r\n                        <Modal.Title>Choisir les images de bannière</Modal.Title>\r\n                    </Modal.Header>\r\n                    <Modal.Body>\r\n                        <form>\r\n                            <div className=\"container\">\r\n                                <div className=\"row\">\r\n                                    <div className=\"col-sm-12 pl-4 pr-4 mt-4 mb-3\">\r\n                                        <div className=\"row justify-content-center py-3\">\r\n                                            <div className=\"col-sm-12 col-md-12 mb-2\">\r\n                                                <div className=\"custom-file\">\r\n                                                    <input type=\"text\" onChange={(e) => this.makeSearch(e.target.value)} placeholder=\"Rechercher une actualité ou un évènement\" />\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                        <div className=\"row justify-content-center mt-3\">\r\n                                            <div className=\"col-sm-12\">\r\n                                                    {this.state.searching ? <div className=\"d-flex justify-content-center\"><Loader /></div> :\r\n                                                    this.state.results.length > 0 ? \r\n                                                        this.state.results.map((result, id) => (\r\n                                                            <div key={id} className=\"d-flex mb-3 align-items-center pb-3\" style={{ borderBottom: \"solid 1px #eee\" }}>\r\n                                                                <img src={rootUrl +'/'+ result.image} className=\"rounded-circle\" width=\"50\" height=\"50\" alt=\"\" />\r\n                                                                <h4 className=\"ml-3\">{result.title} </h4>\r\n                                                                <button onClick={(e) => this.selectOne(e, result)} className=\"btn btn-dark ml-auto\">Afficher</button>\r\n                                                            </div>\r\n                                                        ))\r\n                                                    :<p className=\"text-center\">Pas de résultats</p>\r\n                                                    }\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </form>\r\n                    </Modal.Body>\r\n                </Modal>\r\n            </Fragment>\r\n        );\r\n    }\r\n}\r\n\r\nexport default AdminSlider;","import React, { Component, Fragment } from 'react';\r\nimport axios from 'axios';\r\nimport CKEditor from '@ckeditor/ckeditor5-react';\r\nimport ClassicEditor from '@ckeditor/ckeditor5-build-classic';\r\nimport { Notification, addNotification } from '../../globalComponent/Notifications'\r\n\r\nimport Modal from 'react-bootstrap/Modal';\r\nimport Loader from '../../globalComponent/Loader';\r\n\r\n\r\nclass AdminEmails extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = { \r\n            users: [],\r\n            suppliers: [],\r\n            loading: true,\r\n            sending: false,\r\n            selectedUsers: [],\r\n            content: '',\r\n            object: '',\r\n            error: '',\r\n            emailError: '',\r\n        };\r\n        this.onChange = (editorState) => this.setState({ editorState });\r\n    }\r\n\r\n    handleInputChange = (e) => {\r\n        const value = e.target.value;\r\n        const name = e.target.name;\r\n        if(e.target.type === \"checkbox\") {\r\n            const {selectedUsers} = this.state;\r\n            if(selectedUsers.includes(value)) {\r\n                let users = selectedUsers.filter(user => (user !== value))\r\n                this.setState({selectedUsers: users});\r\n            } else {\r\n                this.setState(state => ({selectedUsers: [...state.selectedUsers, value]}));\r\n            }\r\n        } else {\r\n            this.setState({[name]: value});\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        //get user list\r\n        axios.get('/api/user')\r\n        .then(res => {\r\n            this.setState({loading: false, users: res.data.users, error: ''})\r\n        })\r\n        .catch(err => {\r\n            this.setState({loading: false,  error: 'Erreur, Veuillez reéssayer'})\r\n        })\r\n        //get suoolier list\r\n        axios.get('/api/supplier/all')\r\n        .then(res => {\r\n            this.setState({loading: false, suppliers: res.data.suppliers, error: ''})\r\n        })\r\n        .catch(err => {\r\n            this.setState({loading: false,  error: 'Erreur, Veuillez reéssayer'})\r\n        })\r\n    }\r\n\r\n    sendEmails = () => {\r\n        const {object, content, selectedUsers} = this.state;\r\n        if(object.length <= 0 || content.length <= 0 || selectedUsers.length === 0 ) {\r\n            addNotification(\"warning\", \"Envoi des Emails!\", \"Selectionez des utilisateurs et remplissez tous les champs\")\r\n        } else {\r\n            this.setState({ sending: true })\r\n            let emails = selectedUsers.filter(user => user.trim().length > 0);\r\n            // Envoi des Emails avec AWS SES\r\n           /*  \r\n            axios.post('/api/email/sendemail', {\r\n                object: object,\r\n                emails: emails,\r\n                html: JSON.stringify(content)\r\n            })\r\n            .then(res => {\r\n                this.setState({ sending: false, showModal: false })\r\n            })\r\n            .catch(err => {\r\n                this.setState({ sending: false, emailError: \"Une érreur ss'est produite\" })\r\n                console.log(err)\r\n            }) */\r\n            // Sending with gmail\r\n            axios.post('/api/email/sendemail/gmail', {\r\n                object: object,\r\n                emails: emails,\r\n                html: JSON.stringify(content)\r\n            })\r\n            .then(res => {\r\n                this.setState({ sending: false, showModal: false, emailError: '', content: '', object: '', selectedUsers: [] })\r\n            })\r\n            .catch(err => {\r\n                this.setState({ sending: false, emailError: \"Une érreur ss'est produite\" })\r\n                console.log(err)\r\n            })\r\n        }\r\n    }\r\n\r\n    selectAllUsers = (e, inputClass, toggleBtn) => {\r\n        let usersCheckboxToggleAll = document.getElementsByClassName(toggleBtn)\r\n        let usersCheckboxes = document.getElementsByClassName(inputClass)\r\n        if(usersCheckboxToggleAll[0].checked) {\r\n            let users = [];\r\n            for (const input of usersCheckboxes) {\r\n                input.checked = true\r\n                users.push(input.value)\r\n            }\r\n            this.setState({selectedUsers: [...this.state.selectedUsers, ...users]})\r\n        } else {\r\n            let users = [...this.state.selectedUsers]\r\n            for (const input of usersCheckboxes) {\r\n                input.checked = false;\r\n                users = users.filter(user => (user !== input.value))\r\n            }\r\n            this.setState({selectedUsers: users})\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const {loading, users, suppliers, error, selectedUsers, content, object, sending, emailError} = this.state;\r\n        console.log(content)\r\n        return (\r\n            <Fragment>\r\n                <Notification />\r\n                <div className=\"container mt-4\">\r\n                    <div className=\"row pt-5 pb-3\">\r\n                        <div className=\"col-sm-12\">\r\n                            <h2>Envoi des Emails</h2>\r\n                        </div>\r\n                        {error&&error.length ? <div className=\"alert alert-danger\">{error}</div>:null}\r\n                        {\r\n                            loading ? <div className=\"col-sm-12\"><div className=\"d-flex justify-content-center\"><Loader /></div></div>:\r\n                            <Fragment>\r\n                                <div className=\"col-sm-12 user-list\">\r\n                                    <h4 className=\"mb-4 mt-4\">Liste des utilisateurs</h4>\r\n                                    <table className=\"table table-bordered reservations-list\">\r\n                                        <thead className=\"thead-inverse thead-dark\">\r\n                                            <tr>\r\n                                                <th>#</th>\r\n                                                <th>Nom</th>\r\n                                                <th>Email</th>\r\n                                                <th>Actions <input onChange={(e) => this.selectAllUsers(e, \"user-check\", \"user-check-verify\")} type=\"checkbox\" className=\"form-check-inline user-check-verify\" /></th>\r\n                                            </tr>\r\n                                        </thead>\r\n                                        <tbody>\r\n                                        {\r\n                                            users.map((user, i) => (\r\n                                                <tr key={i}>\r\n                                                    <th scope=\"row\">{i + 1}</th>\r\n                                                    <td>{user.name}</td>\r\n                                                    <td>{user.email}</td>\r\n                                                    <td><input onChange={(e) => this.handleInputChange(e)} type=\"checkbox\" className=\"form-check-inline user-check\" value={user.email} /></td>\r\n                                                </tr>\r\n                                            ))\r\n                                        }\r\n                                        </tbody>\r\n                                    </table>\r\n                                </div>\r\n                                <div className=\"col-sm-12 supplier-list\">\r\n                                    <h4 className=\"mb-4 mt-4\">Liste des Fournisseurs</h4>\r\n                                    <table className=\"table table-bordered reservations-list\">\r\n                                        <thead className=\"thead-inverse thead-dark\">\r\n                                            <tr>\r\n                                                <th>#</th>\r\n                                                <th>Nom</th>\r\n                                                <th>Email</th>\r\n                                                <th>Actions <input onChange={(e) => this.selectAllUsers(e, \"supplier-check\", \"supplier-check-verify\")} type=\"checkbox\" className=\"form-check-inline supplier-check-verify\" /></th>\r\n                                            </tr>\r\n                                        </thead>\r\n                                        <tbody>\r\n                                        {\r\n                                            suppliers.map((supplier, i) => (\r\n                                                <tr key={i}>\r\n                                                    <th scope=\"row\">{i + 1}</th>\r\n                                                    <td>{supplier.name}</td>\r\n                                                    <td>{supplier.email}</td>\r\n                                                    <td><input onChange={(e) => this.handleInputChange(e)} type=\"checkbox\" className=\"form-check-inline supplier-check\" name={supplier.email} value={supplier.email} /></td>\r\n                                                </tr>\r\n                                            ))\r\n                                        }\r\n                                        </tbody>\r\n                                    </table>\r\n                                </div>\r\n                                <button onClick={() => this.setState({showModal: true})} className=\"button send-email-btn\">Envoyer un Email ({this.state.selectedUsers.length})</button>\r\n                            </Fragment>\r\n                        }\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Envoyer les mail */}\r\n                <Modal show={this.state.showModal} onHide={() => this.setState({showModal: !this.state.showModal})} size=\"lg\" >\r\n                    <Modal.Header closeButton>\r\n                    <Modal.Title>Envoi du mail</Modal.Title>\r\n                    </Modal.Header>\r\n                    <Modal.Body>\r\n                        <div className=\"container\">\r\n                            <div className=\"row\">\r\n                               <div className=\"col\">\r\n                                    {emailError && emailError.length ? <div className=\"alert alert-danger\">{emailError}</div> : null}\r\n                                    <div className=\"d-flex mb-4 flex-wrap\">\r\n                                        {\r\n                                            selectedUsers.map((user, i) => <p className=\"user-email-item\" key={i}>{user}</p>)\r\n                                        }\r\n                                    </div>\r\n                                    <div className=\"form-group\">\r\n                                        <label for=\"name\">Objet</label>\r\n                                        <input  type=\"text\" className=\"form-control\" value={object} onChange={(e) => this.handleInputChange(e)} name=\"object\" placeholder=\"Objet\" required />\r\n                                    </div>\r\n                                    <div className=\"form-group\">\r\n                                        <label for=\"name\">Contenu</label>\r\n                                        <CKEditor\r\n                                            editor={ClassicEditor}\r\n                                            data=\"\"\r\n                                            config={{\r\n                                                toolbar: ['heading', '|', 'bold', 'italic', 'insertTable',\r\n                                                    'tableColumn', 'tableRow', 'mergeTableCells', '|', 'undo', 'redo']\r\n                                            }} \r\n                                            onInit={editor => {\r\n                                                // You can store the \"editor\" and use when it is needed.\r\n                                                console.log('Editor is ready to use!', editor);\r\n                                            }}\r\n                                            onChange={(event, editor) => {\r\n                                                const data = editor.getData();\r\n                                                this.setState({content: data})\r\n                                            }}\r\n                                            onBlur={(event, editor) => {\r\n                                                console.log('Blur.', editor);\r\n                                            }}\r\n                                            onFocus={(event, editor) => {\r\n                                                console.log('Focus.', editor);\r\n                                            }}\r\n                                        />\r\n                                        {/* <textarea style={{fontSize: \"1.5rem\"}} type=\"text\" className=\"form-control\" value={content} onChange={(e) => this.handleInputChange(e)} name=\"content\" rows={5} placeholder=\"Contenu de l'email\"></textarea> */}\r\n                                    </div>\r\n                                    <div className=\"d-flex justify-content-end\">\r\n                                        <button onClick={this.sendEmails} className=\"button my-4\">Envoyer ({selectedUsers.length}) {sending&&<Loader color=\"white\"/>}</button>\r\n                                    </div>\r\n                               </div>\r\n                            </div>\r\n                        </div>\r\n                    </Modal.Body>\r\n                </Modal>\r\n            </Fragment>\r\n        );\r\n    }\r\n}\r\n\r\nexport default AdminEmails;","import React, { Component, Fragment } from 'react';\r\nimport { NavLink, Route, Redirect } from 'react-router-dom';\r\nimport {connect} from 'react-redux';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faUserCircle, faUserFriends } from '@fortawesome/free-solid-svg-icons';\r\nimport AdminCoupons from './AdminCoupons/AdminCoupons';\r\nimport AdminHome from './Home/Home';\r\nimport AdminAnnonces from './AdminAnnonces/AdminAnnonces';\r\nimport AdminServices from './AdminServices/AdminServices';\r\nimport AdminSuppliers from './AdminSuppliers/AdminSuppliers';\r\nimport AdminUsers from './AdminUsers/AdminUsers';\r\nimport AdminSlider from './AdminSlider/AdminSlider';\r\nimport AdminEmails from './AdminEMails/AdminEMails';\r\nimport Loader from '../globalComponent/Loader';\r\nimport { logout } from '../../store/actions'\r\nimport axios from 'axios';\r\nimport './Admin.scss';\r\nimport logo from '../../assets/images/logo.png';\r\n\r\n\r\nclass Admin extends Component {\r\n\r\n    state = {\r\n        showModal: false,\r\n        nSuppliers: null,\r\n        nUsers: null,\r\n        loadingSuppliers: true,\r\n        loadingUsers: true,\r\n        error: '',\r\n        redirect: false\r\n    }\r\n\r\n    componentDidMount() {\r\n        //Get number of supplier\r\n        axios.get('/api/supplier/count/all')\r\n            .then(res => {\r\n                this.setState({ nSuppliers: res.data.n, loadingSuppliers: false, error: '' })\r\n            })\r\n            .catch(err => {\r\n                this.setState({ error: \"Une érreur s'est produite. Veuillez reéssayer.\", loadingSuppliers: false })\r\n            })\r\n\r\n        //Get number of users\r\n        axios.get('/api/user/count/all')\r\n            .then(res => {\r\n                this.setState({ nUsers: res.data.n, loadingUsers: false, error: '' })\r\n            })\r\n            .catch(err => {\r\n                this.setState({ error: \"Une érreur s'est produite. Veuillez reéssayer.\", loadingUsers: false })\r\n            })\r\n    }\r\n\r\n    logout = () => {\r\n        this.props.onLogout();\r\n        this.setState({ redirect: true })\r\n    }\r\n\r\n    render() {\r\n        const {user} = this.props;\r\n        const {nSuppliers, nUsers, loadingSuppliers, loadingUsers} = this.state;\r\n        return (\r\n            <Fragment>\r\n                {user&&user.role !== \"admin\" ? <Redirect to=\"/\" />:null }\r\n                {this.state.redirect ? <Redirect to=\"/\" /> : null}\r\n                <section className=\"admin\">\r\n                    <div className=\"main-container\">\r\n                        <div className=\"left-content d-flex flex-column\">\r\n                            <div className=\"logoWrapper\">\r\n                                <a href=\"/\"><img src={logo} width=\"110\" height=\"50\" alt=\"LOGO\" /></a>\r\n                            </div>\r\n                            <div className=\"menu mt-5\">\r\n                                <NavLink className=\"navbar-brand\" to=\"/admin/home\">\r\n                                    <h3 className=\"d-inline align-middle\">ACCUEIL</h3>\r\n                                </NavLink> \r\n                                <NavLink className=\"navbar-brand\" to=\"/admin/annonces\">\r\n                                    <h3 className=\"d-inline align-middle\">ACTUALITES</h3>\r\n                                </NavLink> \r\n                                <NavLink className=\"navbar-brand\" to=\"/admin/services\">\r\n                                    <h3 className=\"d-inline align-middle\">SERVICES</h3>\r\n                                </NavLink> \r\n                                <NavLink className=\"navbar-brand\" to=\"/admin/coupons\">\r\n                                    <h3 className=\"d-inline align-middle\">COUPONS</h3>\r\n                                </NavLink> \r\n                                <NavLink className=\"navbar-brand\" to=\"/admin/emails\">\r\n                                    <h3 className=\"d-inline align-middle\">ENVOI DES EMAILS</h3>\r\n                                </NavLink>\r\n                                <NavLink className=\"navbar-brand\" to=\"/admin/suppliers\">\r\n                                    <h3 className=\"d-inline align-middle\">FOURNISSEURS</h3>\r\n                                </NavLink> \r\n                                <NavLink className=\"navbar-brand\" to=\"/admin/users\">\r\n                                    <h3 className=\"d-inline align-middle\">UTILISATEURS</h3>\r\n                                </NavLink>\r\n                                <NavLink className=\"navbar-brand\" to=\"/admin/slider\">\r\n                                    <h3 className=\"d-inline align-middle\">BANNIERE</h3>\r\n                                </NavLink>\r\n                                <a href=\"#logout\" onClick={this.logout} className=\"mt-auto btn btn-outline-light btn-lg logout\">Logout</a> \r\n                            </div>\r\n                        </div>\r\n                        <div className=\"right-content\">\r\n                            <div className=\"container\">\r\n                                <div className=\"row justify-content-end\">\r\n                                    <div className=\"col d-flex justify-content-end mb-3\">\r\n                                        <div className=\"stat-item\">\r\n                                            <FontAwesomeIcon icon={faUserCircle} size={\"2x\"} />\r\n                                            {loadingSuppliers ? <Loader /> : <h4>{nSuppliers} Fournisseurs</h4>}\r\n                                        </div>\r\n                                        <div className=\"stat-item\">\r\n                                            <FontAwesomeIcon icon={faUserFriends} size={\"2x\"} />\r\n                                            {loadingUsers ? <Loader /> : <h4>{nUsers} Utilisateurs</h4>}\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                                <hr/>\r\n                            </div>\r\n                            {/* Admin Component */}\r\n                            <Route exact path=\"/admin/home\" component={AdminHome} />\r\n                            <Route exact path=\"/admin/coupons\" component={AdminCoupons} />\r\n                            <Route exact path=\"/admin/annonces\" component={AdminAnnonces} />\r\n                            <Route exact path=\"/admin/services\" component={AdminServices} />\r\n                            <Route exact path=\"/admin/suppliers\" component={AdminSuppliers} />\r\n                            <Route exact path=\"/admin/users\" component={AdminUsers} />\r\n                            <Route exact path=\"/admin/slider\" component={AdminSlider} />\r\n                            <Route exact path=\"/admin/emails\" component={AdminEmails} />\r\n                        </div>\r\n                    </div>\r\n                </section>\r\n            </Fragment>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapPropsToState = state => {\r\n    return {\r\n        user: state.auth.user\r\n    }\r\n}\r\n\r\nconst mapDispatchToState = dispatch => {\r\n    return {\r\n        onLogout: () => dispatch(logout())\r\n    }\r\n}\r\n\r\nexport default connect(mapPropsToState, mapDispatchToState)(Admin);","import React from 'react';\r\nimport {Redirect, Route} from 'react-router-dom';\r\n\r\nexport const PrivateRoute = ({ component: Component, ...rest }) => (\r\n    <Route\r\n        {...rest}\r\n        render={\r\n            props => localStorage.getItem(\"authData\") ?\r\n                (<Component {...props} />):\r\n                (\r\n                   <Redirect\r\n                    to={{\r\n                        pathname: \"/auth/login\",\r\n                        state: {from: props.location}\r\n                    }} />\r\n                )\r\n        } \r\n    />\r\n);","import React, { Component } from 'react';\r\nimport { BrowserRouter, Route, Switch } from \"react-router-dom\";\r\nimport {connect} from 'react-redux';\r\n\r\nimport Home from './ui/Home';\r\nimport SignupPage from './ui/components/Forms/SignupPage';\r\nimport LoginPage from './ui/components/Forms/LoginPage';\r\nimport AllServicesPage from './ui/components/Services/AllServicesPage';\r\nimport AllEventsPage from './ui/components/Events/AllEventsPage';\r\nimport SingleCategoryPage from './ui/components/Categories/SingleCategoryPage';\r\nimport DetailsPage from './ui/components/Details/DetailsPage';\r\nimport SupplierDashboard from './ui/suppliers/Dashboard/Dashboard';\r\nimport SupplierRegistration from './ui/components/Supplier/SupplierRegistration';\r\nimport SupplierConfirmationForm from './ui/components/Supplier/SupplierConfirmationForm';\r\nimport Gallery from './ui/users/Gallery/GalleryPage';\r\nimport UserGallery from './ui/users/Gallery/UserGallery';\r\nimport Profile from './ui/users/Profile/Profile';\r\nimport Notifications from './ui/users/Notifications/NotificationsPage';\r\nimport UserReservations from './ui/users/Reservations/Reservations';\r\nimport FilterResults from './ui/components/Filter/FilterResults';\r\nimport NotFound from './ui/components/NotFound/NotFound';\r\n\r\nimport {autoSignIn} from './store/actions';\r\n\r\n/* Admin Pages */\r\nimport Admin from './ui/admin/Admin';\r\nimport {PrivateRoute} from './ui/utils/PrivateRoute';\r\n\r\nclass App extends Component {\r\n  componentDidMount() {\r\n    if(!this.props.user) {\r\n      this.props.onAutoSiginIn();\r\n    }\r\n  }\r\n\r\n  render() {\r\n      return (\r\n        <BrowserRouter>\r\n          <Switch>\r\n            <Route path=\"/\" exact component={Home}  />\r\n            <Route path=\"/auth/login\" exact component={LoginPage}  />\r\n            <Route path=\"/auth/signup\" exact component={SignupPage}  />\r\n            <Route path=\"/events\" exact component={AllEventsPage}  />\r\n            <Route path=\"/services\" exact component={AllServicesPage}  />\r\n            <Route path=\"/supplier\" exact component={SupplierRegistration}  />\r\n            <Route path=\"/supplier/:id/account/confirmation\" exact component={SupplierConfirmationForm}  />\r\n            <Route path=\"/:AnounceType/category/:id\" exact component={SingleCategoryPage}  />\r\n            <Route path=\"/category/:id\" exact component={SingleCategoryPage}  />\r\n            <Route path=\"/annonce/:anounceType/:id\" exact component={DetailsPage}  />\r\n            <Route path=\"/gallery\" exact component={Gallery}  />\r\n            <Route path=\"/filter\" exact component={() => <FilterResults filter={localStorage.getItem(\"searchParams\")} />}  />\r\n\r\n            {/* Supplier Routes */}\r\n            <PrivateRoute path=\"/dashboard/reservations\" exact component={SupplierDashboard}  />\r\n\r\n            {/* User Routes */}\r\n            <PrivateRoute path=\"/user/profile\" exact component={Profile}  />\r\n            <PrivateRoute path=\"/user/notifications\" exact component={Notifications}  />\r\n            <PrivateRoute path=\"/user/reservations\" exact component={UserReservations}  />\r\n            <PrivateRoute path=\"/user/gallery\" exact component={UserGallery}  />\r\n    \r\n            {/* Admin Routes */}\r\n            <PrivateRoute path=\"/admin\" component={Admin} />\r\n\r\n            {/* 404 page error*/}\r\n            <Route path=\"*\" component={NotFound} />\r\n          </Switch>\r\n        </BrowserRouter>\r\n      );\r\n  }\r\n}\r\n\r\nconst mapPropsToState = state => {\r\n  return {\r\n    user: state.auth.user,\r\n    token: state.auth.token\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    onAutoSiginIn: () => dispatch(autoSignIn())\r\n  }\r\n}\r\n\r\nexport default connect(mapPropsToState, mapDispatchToProps)(App);\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import * as actionTypes from '../actions/actionsTypes';\r\n\r\nconst initialState = {\r\n    name: '',\r\n    email: '',\r\n    token: null,\r\n    error: '',\r\n    expiresDate: '',\r\n    userId: null,\r\n    role: ''\r\n}\r\n\r\nconst reducer = (state = initialState, action) => {\r\n    switch(action.type) {\r\n        case actionTypes.LOGIN:\r\n            return {\r\n                ...state,\r\n                userId: action.data.user._id,\r\n                name: action.data.user.name,\r\n                email: action.data.user.email,\r\n                token: action.data.token,\r\n                accountValidated: action.data.user.accountValidated,\r\n                expiresDate: action.data.expiresDate,\r\n                role: action.data.user.role,\r\n                user: action.data.user,\r\n                error: ''\r\n            };\r\n        case actionTypes.SIGNUP:\r\n            return {\r\n                ...state,\r\n                userId: action.data.user._id,\r\n                name: action.data.user.name,\r\n                email: action.data.user.email,\r\n                token: action.data.token,\r\n                accountValidated: action.data.user.accountValidated,\r\n                expiresDate: action.data.expiresDate,\r\n                role: action.data.user.role,\r\n                user: action.data.user,\r\n                error: ''\r\n            };\r\n        case actionTypes.LOGOUT:\r\n            return {\r\n                ...state,\r\n                userId: null,\r\n                name: '',\r\n                email: '',\r\n                token: null,\r\n                expiresDate: null,\r\n                role: '',\r\n                error: ''\r\n            };\r\n        case actionTypes.AUTH_ERROR:\r\n            return {\r\n                ...state,\r\n                error: action.errorType\r\n            };\r\n        case actionTypes.CLEAR_ERROR:\r\n            return {\r\n                ...state,\r\n                error: ''\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default reducer;","import * as actionTypes from '../actions/actionsTypes';\r\n\r\nconst initialState = {\r\n    loading: false\r\n}\r\n\r\nconst reducer = (state = initialState, action) => {\r\n    switch(action.type) {\r\n        case actionTypes.START_LOADING:\r\n            return {\r\n                ...state,\r\n                loading: true\r\n            };\r\n        case actionTypes.STOP_LOADING:\r\n            return {\r\n                ...state,\r\n                loading: false\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default reducer;","import { createStore, combineReducers, compose, applyMiddleware } from 'redux';\r\nimport thunk from 'redux-thunk'; \r\n\r\nimport authReducer from './reducers/auth';\r\nimport loaderReducer from './reducers/loader';\r\nconst rootReducer = combineReducers({\r\n    auth: authReducer,\r\n    loader: loaderReducer\r\n});\r\n\r\nlet composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nconst configureStore = () => {\r\n    return createStore(rootReducer, composeEnhancers(applyMiddleware(thunk)));\r\n};\r\n\r\nexport default configureStore;","import React, { Component } from 'react';\r\n\r\nclass Footer extends Component {\r\n    render() {\r\n        return (\r\n            <footer className=\"bg-dark footer\" style={{alignItems: 'center'}}> \r\n                <div className=\"container py-3\">\r\n                   <div className=\"row py-4 py-5\">\r\n                        <div className=\"col\">\r\n                            <h5 className=\"text-center text-white\">Copyright @2019. All rights Reserved.</h5>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </footer>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Footer;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport axios from 'axios';\r\nimport './index.scss';\r\nimport 'bootstrap/dist/css/bootstrap.css';\r\nimport 'bootstrap/dist/js/bootstrap.min.js';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport { Provider } from 'react-redux';\r\nimport configureStore from './store/configureStore';\r\nimport  {rootUrl} from './configs/config'\r\nimport Footer from './ui/globalComponent/Footer';\r\n\r\naxios.defaults.baseURL = rootUrl;\r\n// axios.defaults.headers.common['Authorization'] = \"token\";\r\naxios.defaults.headers.post['Content-Type'] = \"application/json\";\r\n\r\nconst store = configureStore();\r\n\r\nReactDOM.render(\r\n    <Provider store={store}>\r\n        <div id=\"content\">\r\n            <App />\r\n        </div>\r\n        <Footer />\r\n    </Provider>, \r\n    document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}