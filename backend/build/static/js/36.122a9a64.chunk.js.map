{"version":3,"sources":["ui/components/Events/EventItem.js","ui/components/Events/Events.js","ui/components/Events/AllEventsPage.js"],"names":["EventItem","props","description","event","length","slice","react_default","a","createElement","href","_id","className","coupons","nCoupons","src","rootUrl","image","alt","title","Events","state","loading","events","error","_this2","this","isHomePage","axios","get","then","res","setState","data","catch","err","isCategoryPage","isFilterPage","prevProps","_this$state","Hoc","Filter","id","eventType","Loader","map","key","Events_EventItem","showMore","category","Component","AllEventsPage","react__WEBPACK_IMPORTED_MODULE_5___default","_globalComponent_Hoc__WEBPACK_IMPORTED_MODULE_9__","_globalComponent_Header__WEBPACK_IMPORTED_MODULE_6__","_Categories_Categories__WEBPACK_IMPORTED_MODULE_8__","_Events__WEBPACK_IMPORTED_MODULE_7__"],"mappings":"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","file":"static/js/36.122a9a64.chunk.js","sourcesContent":["import React from 'react';\r\nimport {rootUrl} from '../../../configs/config';\r\n\r\nconst EventItem = (props) => {\r\n    const textLength = props.event.description.length;\r\n    const description = textLength <= 95 ? props.event.description:\r\n        props.event.description.slice(0, 93) + '...';\r\n    return (\r\n        <a href={\"/annonce/event/\" + props.event._id} className=\"home mt-4\">\r\n            {props.event.coupons && props.event.coupons.nCoupons > 0 ? <h2 className=\"badge badge-warning custom-badge\">Coupons</h2> : <h2 className=\"badge badge-dark custom-badge\">Pas de coupons</h2>}\r\n            <img src={rootUrl+'/'+props.event.image} alt=\"\" className=\"home__img\"/>\r\n            <h5 className=\"home_name\">{props.event.title}</h5>\r\n            <div className=\"home_content\">\r\n                <center>\r\n                    <p>{description}</p>\r\n                </center>\r\n            </div>\r\n            <button className=\"btn home__btn\">Consulter</button>\r\n        </a>\r\n    );\r\n}\r\n\r\nexport default EventItem;","import React, { Component } from 'react';\r\nimport EventItem from './EventItem';\r\nimport Loader from '../../globalComponent/Loader';\r\nimport axios from 'axios';\r\nimport './Events.scss';\r\nimport Filter from '../Filter/Filter';\r\nimport Hoc from '../../globalComponent/Hoc'\r\nclass Events extends Component {\r\n\r\n    state = {\r\n        loading: true,\r\n        events: [],\r\n        error: ''\r\n    }\r\n\r\n    componentDidMount() {\r\n        if(this.props.isHomePage) {\r\n            axios.get(\"/api/event/4\")\r\n            .then(res => {\r\n                this.setState({ loading: false, events: res.data.events, error: '' })\r\n            })\r\n            .catch(err => {\r\n                this.setState({ loading: false, error: 'Une erreur s\\'est produite. Veuillez recharger la page' })\r\n            })\r\n        } else if(this.props.isCategoryPage) {\r\n            this.setState({ events: this.props.events, loading: false, error: '' })\r\n        } else if (this.props.isFilterPage) {\r\n            this.setState({ events: this.props.events, loading: false, error: '' })\r\n        } else {\r\n            axios.get(\"/api/event/validated/all\")\r\n            .then(res => {\r\n                this.setState({ loading: false, events: res.data.events, error: '' })\r\n            })\r\n            .catch(err => {\r\n                this.setState({ loading: false, error: 'Une erreur s\\'est produite. Veuillez recharger la page' })\r\n            })\r\n        }\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n        if(this.props.events !== prevProps.events) {\r\n            if (this.props.isCategoryPage || this.props.isFilterPage) {\r\n                this.setState({events: this.props.events, loading: false, error: ''})\r\n            }\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const {error, events, loading} = this.state;\r\n        return (\r\n            <Hoc>\r\n                {!this.props.isHomePage&&<Filter />}\r\n                <section className={this.props.isHomePage ? \"events pt-5\":\"events pt-5 bgWhite\"} id=\"events\">\r\n                    <div className=\"container pb-5\">\r\n                        <div className=\"row pt-5\">\r\n                            <div className=\"col-sm-12\">\r\n                                <h3 className={this.props.isHomePage ? \"event-header text-center\" : \"pt-4 pb-1 event-header text-left\"}>\r\n                                    {this.props.eventType}\r\n                                </h3>\r\n                            </div>\r\n                        </div>\r\n                        <div className={loading || error.length || this.props.isHomePage? \"row pb-5 mb-2 justify-content-center\":\"row pb-5 mb-3 px-2\"}>\r\n                            {error&&error.length ? <div className=\"alert alert-danger\">{error}</div>:null}\r\n                            {\r\n                                loading ? <div className=\"d-block ml-auto mr-auto justify-content-center\"><Loader/></div>:\r\n                                    events&&events.length ?\r\n                                        events.map((event, id) => (\r\n                                            <div key={id} className=\"col-sm-12 col-md-6 col-lg-3 mt-3\">\r\n                                                <EventItem event={event} />\r\n                                            </div>\r\n                                        )): null\r\n                            }\r\n                            {!loading&&events.length === 0 &&!error.length ? <div className=\"d-block ml-auto mr-auto justify-content-center\"><h5>Aucune Actualité</h5></div>:null}\r\n                        </div>\r\n                        {\r\n                            this.props.isHomePage&&events.length !==0 ?\r\n                            <div className=\"row pb-5\">\r\n                                <div className=\"col text-center see-more\">\r\n                                    <a className=\"btn btn-danger\" href=\"/events\">Voir plus</a>\r\n                                </div>\r\n                            </div> : null\r\n                        }\r\n                        {\r\n                            this.props.showMore&&events.length !==0 ?\r\n                            <div className=\"row pb-5\">\r\n                                <div className=\"col text-center see-more\">\r\n                                    <a className=\"btn btn-danger\" href={\"/events/category/\"+this.props.category}>Voir plus</a>\r\n                                </div>\r\n                            </div> : null\r\n                        }\r\n                    </div>\r\n                </section> \r\n            </Hoc>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Events;","import React, { Component } from 'react';\r\nimport Header from '../../globalComponent/Header';\r\nimport Events from './Events';\r\nimport Categories from '../Categories/Categories';\r\nimport Hoc from '../../globalComponent/Hoc'\r\n\r\nclass AllEventsPage extends Component {\r\n\r\n    render() {\r\n        return (\r\n            <Hoc>\r\n                <Header />\r\n                <Categories />\r\n                <Events eventType=\"Toutes les Actualités\" isHomePage={false} />\r\n            </Hoc>\r\n        );\r\n    }\r\n}\r\n\r\nexport default AllEventsPage;"],"sourceRoot":""}