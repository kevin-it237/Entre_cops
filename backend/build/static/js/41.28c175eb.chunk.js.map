{"version":3,"sources":["ui/components/Forms/SignupForm.js","ui/components/Forms/SignupPage.js"],"names":["socket","io","rootUrl","SignUpForm","state","email","password","name","tel","isTyping","formErrors","emailValid","passwordValid","nameValid","formValid","handleInputChange","e","preventDefault","target","value","_this","setState","Object","defineProperty","validateField","handleSubmit","props","onRenderLoader","data","onSignUp","this","onClearError","fieldName","fieldValidationErrors","match","length","trim","validateForm","_this2","_this$state","_this$props","error","loader","react_default","a","createElement","className","id","src","userLogo","alt","type","onChange","placeholder","style","color","disabled","onClick","Loader","OAuth","provider","key","react_router_dom","to","Component","connect","loading","auth","dispatch","signup","renderLoader","clearError","SigninPage","Hoc","token","history","goBack","Header","SignupForm"],"mappings":"uRAWMA,EAASC,IAAGC,KAEZC,6MACFC,MAAQ,CACJC,MAAO,GACPC,SAAU,GACVC,KAAM,GACNC,IAAK,GACLC,UAAU,EACVC,WAAY,CAACL,MAAO,GAAIC,SAAU,GAAIC,KAAM,IAC5CI,YAAY,EACZC,eAAe,EACfC,WAAW,EACXC,WAAW,KAOfC,kBAAoB,SAACC,GACjBA,EAAEC,iBACF,IAAMV,EAAOS,EAAEE,OAAOX,KAChBY,EAAQH,EAAEE,OAAOC,MACvBC,EAAKC,SAALC,OAAAC,EAAA,EAAAD,CAAA,GAAgBf,EAAOY,GACnB,WAAQC,EAAKI,cAAcjB,EAAMY,QAoCzCM,aAAe,SAACT,GAGZ,GAFAA,EAAEC,iBACFG,EAAKC,SAAS,CAACZ,UAAU,IACrBW,EAAKhB,MAAMU,UAAW,CAEtBM,EAAKM,MAAMC,iBACX,IAAMC,EAAO,CACTrB,KAAMa,EAAKhB,MAAMG,KACjBF,MAAOe,EAAKhB,MAAMC,MAClBC,SAAUc,EAAKhB,MAAME,SACrBE,IAAKY,EAAKhB,MAAMI,KAGpBY,EAAKM,MAAMG,SAASD,wFAzDxBE,KAAKJ,MAAMK,qDAWDC,EAAWb,GACrB,IAAIc,EAAwBH,KAAK1B,MAAMM,WACnCC,EAAamB,KAAK1B,MAAMO,WACxBC,EAAgBkB,KAAK1B,MAAMQ,cAC3BC,EAAYiB,KAAK1B,MAAMS,UAE3B,OAAOmB,GACL,IAAK,QACHrB,EAAaQ,EAAMe,MAAM,wCACzBD,EAAsB5B,MAAQM,EAAa,GAAK,cAChD,MACF,IAAK,WACHC,EAAgBO,EAAMgB,QAAU,EAChCF,EAAsB3B,SAAWM,EAAgB,GAAI,gBACrD,MACF,IAAK,OACHC,EAAYM,EAAMiB,OAAOD,QAAU,EACnCF,EAAsB1B,KAAOM,EAAY,GAAI,gBAKjDiB,KAAKT,SAAS,CAACX,WAAYuB,EACXtB,WAAYA,EACZC,cAAeA,EACfC,UAAWA,GACViB,KAAKO,qDAItBP,KAAKT,SAAS,CAACP,UAAWgB,KAAK1B,MAAMO,YAAcmB,KAAK1B,MAAMQ,eAAiBkB,KAAK1B,MAAMS,6CAoBrF,IAAAyB,EAAAR,KAAAS,EACmFT,KAAK1B,MAArFK,EADH8B,EACG9B,SAAUE,EADb4B,EACa5B,WAAYC,EADzB2B,EACyB3B,cAAeC,EADxC0B,EACwC1B,UAAYN,EADpDgC,EACoDhC,KAAMF,EAD1DkC,EAC0DlC,MAAOC,EADjEiC,EACiEjC,SAAUE,EAD3E+B,EAC2E/B,IAD3EgC,EAEqBV,KAAKJ,MAAvBe,EAFHD,EAEGC,MAAOC,EAFVF,EAEUE,OAEf,OACIC,EAAAC,EAAAC,cAAA,OAAKC,UAAU,sBACXH,EAAAC,EAAAC,cAAA,OAAKE,GAAG,eACJJ,EAAAC,EAAAC,cAAA,OAAKC,UAAU,qBACfH,EAAAC,EAAAC,cAAA,OAAKG,IAAKC,IAAUF,GAAG,OAAOG,IAAI,eAElCP,EAAAC,EAAAC,cAAA,YACKJ,GAAOA,EAAMN,OAASQ,EAAAC,EAAAC,cAAA,OAAKC,UAAU,sBAAsBL,GAAa,KACzEE,EAAAC,EAAAC,cAAA,SAAOM,KAAK,OAAOhC,MAAOZ,EAAM6C,SAAU,SAACpC,GAAD,OAAOsB,EAAKvB,kBAAkBC,IAAI+B,GAAG,MAAMD,UAAU,gBAAgBvC,KAAK,OAAO8C,YAAY,QACtI5C,IAAWI,EAAY8B,EAAAC,EAAAC,cAAA,OAAKS,MAAO,CAACC,MAAO,QAApB,gCAA4D,KACpFZ,EAAAC,EAAAC,cAAA,SAAOM,KAAK,QAAQhC,MAAOd,EAAO+C,SAAU,SAACpC,GAAD,OAAOsB,EAAKvB,kBAAkBC,IAAI+B,GAAG,QAAQD,UAAU,gBAAgBvC,KAAK,QAAQ8C,YAAY,kBAC3I5C,IAAWE,EAAagC,EAAAC,EAAAC,cAAA,OAAKS,MAAO,CAACC,MAAO,QAApB,qBAAoD,KAC7EZ,EAAAC,EAAAC,cAAA,SAAOM,KAAK,WAAWhC,MAAOb,EAAU8C,SAAU,SAACpC,GAAD,OAAOsB,EAAKvB,kBAAkBC,IAAI+B,GAAG,WAAWD,UAAU,eAAevC,KAAK,WAAW8C,YAAY,iBACtJ5C,IAAWG,EAAgB+B,EAAAC,EAAAC,cAAA,OAAKS,MAAO,CAACC,MAAO,QAApB,gCAA4D,KACxFZ,EAAAC,EAAAC,cAAA,SAAOM,KAAK,OAAOhC,MAAOX,EAAK4C,SAAU,SAACpC,GAAD,OAAOsB,EAAKvB,kBAAkBC,IAAI+B,GAAG,MAAMD,UAAU,gBAAgBvC,KAAK,MAAM8C,YAAY,uBACrIV,EAAAC,EAAAC,cAAA,UAAQW,SAAUd,EAAQS,KAAK,SAASM,QAAS,SAACzC,GAAD,OAAOsB,EAAKb,aAAaT,IAAI+B,GAAG,UAAUD,UAAU,kCAAkCJ,EAASC,EAAAC,EAAAC,cAACa,EAAA,EAAD,CAAQH,MAAM,UAAW,eAG7KZ,EAAAC,EAAAC,cAAA,yCACAF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,wBACXH,EAAAC,EAAAC,cAACc,EAAA,EAAD,CACIC,SAAU,SACVC,IAAK,SACL7D,OAAQA,IAEZ2C,EAAAC,EAAAC,cAACc,EAAA,EAAD,CACIC,SAAU,WACVC,IAAK,WACL7D,OAAQA,KAIhB2C,EAAAC,EAAAC,cAAA,OAAKE,GAAG,cACJJ,EAAAC,EAAAC,cAACiB,EAAA,EAAD,CAAMC,GAAG,cAAcjB,UAAU,kBAAjC,+CAjHCkB,aAwIVC,cAfS,SAAA7D,GACpB,MAAO,CACHsC,OAAQtC,EAAMsC,OAAOwB,QACrBzB,MAAOrC,EAAM+D,KAAK1B,QAIC,SAAA2B,GACvB,MAAO,CACHvC,SAAU,SAACD,GAAD,OAAUwC,EAASC,YAAOzC,KACpCD,eAAgB,kBAAMyC,EAASE,gBAC/BvC,aAAc,kBAAMqC,EAASG,kBAItBN,CAA6C9D,GC/ItDqE,mLAGE,OACI7B,EAAAC,EAAAC,cAAC4B,EAAA,EAAD,KACK3C,KAAKJ,MAAMgD,MAAQ5C,KAAKJ,MAAMiD,QAAQC,SAAU,KACjDjC,EAAAC,EAAAC,cAACgC,EAAA,EAAD,MACAlC,EAAAC,EAAAC,cAACiC,EAAD,cAPSd,aAmBVC,sBANS,SAAA7D,GACpB,MAAO,CACHsE,MAAOtE,EAAM+D,KAAKO,QAIXT,CAAyBO","file":"static/js/41.28c175eb.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport './Forms.scss';\r\nimport { connect } from 'react-redux';\r\nimport {Link} from 'react-router-dom';\r\nimport { signup, renderLoader, clearError } from '../../../store/actions';\r\nimport Loader from '../../globalComponent/Loader';\r\nimport OAuth from '../Oauth/OAuth'\r\nimport io from 'socket.io-client';\r\nimport { rootUrl } from '../../../configs/config'\r\n\r\nimport userLogo from '../../../assets/images/logo.png';\r\nconst socket = io(rootUrl);\r\n\r\nclass SignUpForm extends Component {\r\n    state = {\r\n        email: '',\r\n        password: '',\r\n        name: '',\r\n        tel: '',\r\n        isTyping: false,\r\n        formErrors: {email: '', password: '', name: ''},\r\n        emailValid: false,\r\n        passwordValid: false,\r\n        nameValid: false,\r\n        formValid: false\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.props.onClearError();\r\n    }\r\n\r\n    handleInputChange = (e) => {\r\n        e.preventDefault();\r\n        const name = e.target.name;\r\n        const value = e.target.value;\r\n        this.setState({[name]: value}, \r\n            () => { this.validateField(name, value) });\r\n    }\r\n\r\n    validateField(fieldName, value) {\r\n        let fieldValidationErrors = this.state.formErrors;\r\n        let emailValid = this.state.emailValid;\r\n        let passwordValid = this.state.passwordValid;\r\n        let nameValid = this.state.nameValid;\r\n      \r\n        switch(fieldName) {\r\n          case 'email':\r\n            emailValid = value.match(/^([\\w.%+-]+)@([\\w-]+\\.)+([\\w]{2,})$/i);\r\n            fieldValidationErrors.email = emailValid ? '' : ' is invalid';\r\n            break;\r\n          case 'password':\r\n            passwordValid = value.length >= 6;\r\n            fieldValidationErrors.password = passwordValid ? '': ' is too short';\r\n            break;\r\n          case 'name':\r\n            nameValid = value.trim().length >= 6;\r\n            fieldValidationErrors.name = nameValid ? '': ' is too short';\r\n            break;\r\n          default:\r\n            break;\r\n        }\r\n        this.setState({formErrors: fieldValidationErrors,\r\n                        emailValid: emailValid,\r\n                        passwordValid: passwordValid,\r\n                        nameValid: nameValid\r\n                      }, this.validateForm);\r\n    }\r\n      \r\n    validateForm() {\r\n        this.setState({formValid: this.state.emailValid && this.state.passwordValid && this.state.nameValid});\r\n    }\r\n\r\n    handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        this.setState({isTyping: true});\r\n        if (this.state.formValid) {\r\n            // Display Loader\r\n            this.props.onRenderLoader();\r\n            const data = {\r\n                name: this.state.name,\r\n                email: this.state.email,\r\n                password: this.state.password,\r\n                tel: this.state.tel\r\n            }\r\n            // Launch the signup\r\n            this.props.onSignUp(data);\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const { isTyping, emailValid, passwordValid, nameValid , name, email, password, tel } = this.state;\r\n        const { error, loader } = this.props;\r\n        \r\n        return (\r\n            <div className=\"wrapper fadeInDown\">\r\n                <div id=\"formContent\">\r\n                    <div className=\"fadeIn first mt-5\">\r\n                    <img src={userLogo} id=\"icon\" alt=\"User Icon\" />\r\n                    </div>\r\n                    <form>\r\n                        {error&&error.length ? <div className=\"alert alert-danger\">{error}</div>:null}\r\n                        <input type=\"text\" value={name} onChange={(e) => this.handleInputChange(e)} id=\"nom\" className=\"fadeIn second\" name=\"name\" placeholder=\"Nom\"/>\r\n                        {isTyping&&!nameValid ? <div style={{color: \"red\"}}>Invalide. Min 6 caratères</div>:null}\r\n                        <input type=\"email\" value={email} onChange={(e) => this.handleInputChange(e)} id=\"email\" className=\"fadeIn second\" name=\"email\" placeholder=\"Adresse Email\"/>\r\n                        {isTyping&&!emailValid ? <div style={{color: \"red\"}}>Email non valide.</div>:null}\r\n                        <input type=\"password\" value={password} onChange={(e) => this.handleInputChange(e)} id=\"password\" className=\"fadeIn third\" name=\"password\" placeholder=\"Mot de passe\"/>\r\n                        {isTyping&&!passwordValid ? <div style={{color: \"red\"}}>Invalide. Min 6 caratères</div>:null}\r\n                        <input type=\"text\" value={tel} onChange={(e) => this.handleInputChange(e)} id=\"tel\" className=\"fadeIn second\" name=\"tel\" placeholder=\"Numéro Whatsapp\" />\r\n                        <button disabled={loader} type=\"submit\" onClick={(e) => this.handleSubmit(e)} id=\"signBtn\" className=\"button fadeIn fourth mt-4 mb-5\">{loader ? <Loader color=\"white\" />:\"S'inscrire\"}</button>\r\n                    </form>\r\n\r\n                    <p>Ou bien inscrivez vous avec:</p>\r\n                    <div className=\"d-flex socialWrapper\">\r\n                        <OAuth\r\n                            provider={\"google\"}\r\n                            key={\"google\"}\r\n                            socket={socket}\r\n                        />\r\n                        <OAuth\r\n                            provider={\"facebook\"}\r\n                            key={\"facebook\"}\r\n                            socket={socket}\r\n                        />\r\n                    </div>\r\n\r\n                    <div id=\"formFooter\">\r\n                        <Link to=\"/auth/login\" className=\"underlineHover\">Déja inscrit ? Connectez vous.</Link>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapPropsToState = state => {\r\n    return {\r\n        loader: state.loader.loading,\r\n        error: state.auth.error\r\n    }\r\n}\r\n\r\nconst mapDispatchToState = dispatch => {\r\n    return {\r\n        onSignUp: (data) => dispatch(signup(data)),\r\n        onRenderLoader: () => dispatch(renderLoader()),\r\n        onClearError: () => dispatch(clearError()),\r\n    }\r\n}\r\n\r\nexport default connect(mapPropsToState, mapDispatchToState)(SignUpForm);","import React, { Component } from 'react';\r\nimport Header from '../../globalComponent/Header';\r\nimport Hoc from '../../globalComponent/Hoc';\r\nimport SignupForm from './SignupForm';\r\nimport { connect } from 'react-redux';\r\n\r\nclass SigninPage extends Component {\r\n\r\n    render() {\r\n        return (\r\n            <Hoc>\r\n                {this.props.token ? this.props.history.goBack(): null}\r\n                <Header />\r\n                <SignupForm />\r\n            </Hoc>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapPropsToState = state => {\r\n    return {\r\n        token: state.auth.token,\r\n    }\r\n}\r\n\r\nexport default connect(mapPropsToState)(SigninPage);"],"sourceRoot":""}