{"version":3,"sources":["ui/users/Notifications/NotificationsPage.js","assets/images/logo.png","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","ui/users/Notifications/Notifications.js","ui/components/SearchResult/SearchResult.js","ui/globalComponent/Header.js"],"names":["NotificationsPage","state","loading","notifications","error","authData","JSON","parse","localStorage","getItem","this","setState","user","recommandations","Object","C_Users_User_Desktop_Web_projects_Entre_cops_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__","reverse","react__WEBPACK_IMPORTED_MODULE_6___default","a","createElement","react__WEBPACK_IMPORTED_MODULE_6__","_globalComponent_Header__WEBPACK_IMPORTED_MODULE_7__","className","_globalComponent_Loader__WEBPACK_IMPORTED_MODULE_9__","map","notification","id","key","href","link","visited","src","image","alt","title","name","date","Component","module","exports","__webpack_require__","p","_toConsumableArray","arr","Array","isArray","i","arr2","length","_arrayWithoutHoles","iter","Symbol","iterator","prototype","toString","call","from","_iterableToArray","TypeError","_nonIterableSpread","d","__webpack_exports__","Notifications","toConsumableArray","props","react_default","slice","rec","index_es","icon","faUserCircle","size","SearchResultList","searching","results","prevProps","_this2","query","trim","axios","get","then","res","eventList","data","events","forEach","event","eventType","includes","push","serviceList","services","service","concat","catch","err","Loader","anounce","SearchResult_SearchResultItem","result","PureComponent","SearchResultItem","_id","rootUrl","category","Header","token","role","accountValidated","redirect","logout","_this","onLogout","handleInputChange","e","value","target","socket","socketIOClient","on","to","onAutoSign","_this3","_this$state","nNotifications","filter","react","home","type","data-toggle","data-target","aria-controls","aria-expanded","aria-label","onChange","placeholder","faSearch","SearchResult_SearchResult","aria-haspopup","faBookmark","aria-labelledby","users_Notifications_Notifications","react_router_dom","logo","width","height","onClick","connect","userId","auth","email","dispatch","autoSignIn"],"mappings":"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","file":"static/js/34.5097b288.chunk.js","sourcesContent":["import React, { Component, Fragment } from 'react';\r\nimport Header from '../../globalComponent/Header';\r\nimport './Notifications.scss';\r\nimport Loader from '../../globalComponent/Loader';\r\n\r\nclass NotificationsPage extends Component {\r\n\r\n    state = {\r\n        loading: true,\r\n        notifications: [],\r\n        error: ''\r\n    }\r\n\r\n    componentDidMount() {\r\n        const authData = JSON.parse(localStorage.getItem(\"authData\"))\r\n        this.setState({ notifications: authData.user.recommandations, loading: false})\r\n    }\r\n\r\n    render() {\r\n        let notifications = [...this.state.notifications];\r\n        notifications.reverse();\r\n        return (\r\n            <Fragment>\r\n                <Header/>\r\n                <section className=\"rec-section mt-5\">\r\n                    <div className=\"container my-5\">\r\n                        <div className=\"row justify-content-between\">\r\n                            <div className=\"col-sm-12 py-4\">\r\n                                <h3>Toutes les Notifications</h3>\r\n                            </div>\r\n                            <div className=\"col-sm-12\">\r\n                                {\r\n                                    this.state.loading ? <div className=\"d-block ml-auto mr-auto text-center\"><Loader/></div>:\r\n                                        notifications.map((notification, id) => (\r\n                                            <a key={id} href={notification.link} className={notification.visited ? \"noti-link d-flex\" : \"noti-link d-flex notvisited\" }>\r\n                                                <img src={notification.image} className=\"rounded-circle img-fluid\" alt=\"\" />\r\n                                                <div className=\"d-flex d-flex justify-content-between flex-grow-1\">\r\n                                                    <div className=\"mr-auto\">\r\n                                                        <h3>{notification.title}</h3>\r\n                                                        <span>Recommandé par: {notification.name}</span>\r\n                                                    </div>\r\n                                                    <h6>{notification.date ? notification.date : null}</h6>\r\n                                                </div>\r\n                                            </a>\r\n                                        ))\r\n                                }\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </section>\r\n            </Fragment>\r\n        );\r\n    }\r\n}\r\n\r\n \r\nexport default NotificationsPage;","module.exports = __webpack_public_path__ + \"static/media/logo.919201fe.png\";","import arrayWithoutHoles from \"./arrayWithoutHoles\";\nimport iterableToArray from \"./iterableToArray\";\nimport nonIterableSpread from \"./nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || nonIterableSpread();\n}","export default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}","export default function _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}","import React, { Component } from 'react';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faUserCircle } from '@fortawesome/free-solid-svg-icons';\r\nimport './Notifications.scss';\r\n\r\nclass Notifications extends Component {\r\n    render() {\r\n        let recommandations = [...this.props.recommandations.reverse()];\r\n        recommandations.reverse();\r\n        return (\r\n            <div className=\"recommandations d-flex flex-column\">\r\n            {\r\n                recommandations.slice(0,5).map((rec, i) =>(\r\n                    <div key={i} className={!rec.visited ? \"notvisited rec-item\" : \"rec-item\"}>\r\n                        <a href={rec.link}>\r\n                            <h4>{rec.title}</h4>\r\n                            <div className=\"d-flex\">\r\n                                <div className=\"d-flex flex-row align-items-center\">\r\n                                    <FontAwesomeIcon icon={faUserCircle} size={\"1x\"} />\r\n                                    <h6 className=\"ml-2 mb-0\">Par {rec.name}</h6>\r\n                                </div>\r\n                                {/* <label className=\"ml-auto\">New</label> */}\r\n                            </div>\r\n                        </a>\r\n                    </div>\r\n                ))\r\n            }\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Notifications;","import React, { PureComponent } from 'react';\r\nimport './SearchResult.scss';\r\nimport img from '../../../assets/images/logo.png';\r\nimport axios from 'axios';\r\nimport Loader from  '../../globalComponent/Loader'\r\nimport {rootUrl} from '../../../configs/config'\r\n\r\nclass SearchResultList extends PureComponent {\r\n\r\n    state = {\r\n        searching: false,\r\n        results: [],\r\n        error: ''\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n        if (prevProps.query !== this.props.query) {\r\n            if (this.props.query&&this.props.query.trim().length > 0) {\r\n                const query = this.props.query;\r\n                this.setState({ searching: true, results: [] })\r\n                // search form events\r\n                axios.get('/api/event/'+query+'/search')\r\n                    .then(res => {\r\n                        let eventList = []; \r\n                        res.data.events.forEach(event => { \r\n                            event.eventType = \"event\";\r\n                            if (!this.state.results.includes(event)) {\r\n                                eventList.push(event) ; \r\n                            }\r\n                        });\r\n                        // search form services\r\n                        axios.get('/api/service/' + query + '/search')\r\n                            .then(res => {\r\n                                let serviceList = [];\r\n                                res.data.services.forEach(service => {\r\n                                    service.eventType = \"service\";\r\n                                    if (!this.state.results.includes(service)) {\r\n                                        serviceList.push(service);\r\n                                    }\r\n                                });\r\n                                this.setState({\r\n                                    results: [...eventList, ...serviceList],\r\n                                    searching: false\r\n                                })\r\n                            })\r\n                            .catch(err => {\r\n                                this.setState({ error: \"Une érreur s'est produite. Veuillez recharger\", searching: false })\r\n                            })\r\n                    })\r\n                    .catch(err => {\r\n                        this.setState({ error: \"Une érreur s'est produite. Veuillez recharger\", searching: false })\r\n                    })\r\n                \r\n            } else {\r\n                this.setState({ searching: false })\r\n            }\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className={`searchResult-list ${this.props.className}`}>\r\n                {this.state.error.length ?<div className=\"alert alert-danger text-center\">{this.state.error}</div>:null}\r\n                {\r\n                    this.state.searching ? <div className=\"d-flex justify-content-center p-3\"><Loader/></div>:\r\n                    this.state.results.length ? \r\n                        this.state.results.slice(0,10).map((anounce, id) => <SearchResultItem key={id} result={anounce} />)\r\n                    : <div className=\"d-flex justify-content-center p-3\"><span>Aucun résultat</span></div>   \r\n                }\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default SearchResultList;\r\n\r\nexport const SearchResultItem = (props) => (\r\n    <a href={'/annonce/' + props.result.eventType + '/' + props.result._id} className=\"d-flex searchResult-item\">\r\n        <img src={rootUrl +'/'+ props.result.image} alt=\"\" className=\"mr-3\" />\r\n        <div className=\"d-flex flex-column \">\r\n            <h3>{props.result.title}</h3>\r\n            <span className=\"text-muted\">{props.result.category}</span>\r\n        </div>\r\n    </a>\r\n)","import React, { PureComponent, Fragment } from 'react';\r\nimport { NavLink, Link } from 'react-router-dom';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { connect } from 'react-redux';\r\nimport { logout } from '../../store/actions';\r\nimport { faSearch, faBookmark } from '@fortawesome/free-solid-svg-icons';\r\nimport './Header.scss';\r\nimport logo from '../../assets/images/logo.png';\r\nimport socketIOClient from 'socket.io-client';\r\n\r\nimport Notifications from '../users/Notifications/Notifications';\r\nimport { rootUrl } from '../../configs/config';\r\nimport {autoSignIn} from '../../store/actions';\r\nimport SearchResult from '../components/SearchResult/SearchResult'\r\n\r\nclass Header extends PureComponent {\r\n\r\n    state = {\r\n        user: null,\r\n        name: \"\",\r\n        token: null,\r\n        role: \"\",\r\n        accountValidated: null,\r\n        redirect: false,\r\n        query: \"\"\r\n    }\r\n\r\n    componentDidMount() {\r\n        const authData = JSON.parse(localStorage.getItem(\"authData\"));\r\n        if (authData && authData.user) {\r\n            this.setState({\r\n                user: authData.user,\r\n                name: authData.user.name,\r\n                token: authData.token,\r\n                role: authData.user.role,\r\n                accountValidated: authData.user.accountValidated\r\n            })\r\n\r\n            // WHen user send a recommandattion to another\r\n            const socket = socketIOClient(rootUrl);\r\n            socket.on('display notification', data => {\r\n                const authData = JSON.parse(localStorage.getItem(\"authData\"));\r\n                if (authData&&authData.user) {\r\n                    if (authData.user._id === data.to) {\r\n                        this.props.onAutoSign();\r\n                    }\r\n                }\r\n            })\r\n    \r\n            // When admin validate an anounce\r\n            socket.on('display anounce notification', data => {\r\n                const authData = JSON.parse(localStorage.getItem(\"authData\"));\r\n                if (authData && authData.user) {\r\n                    this.props.onAutoSign();\r\n                }\r\n            })\r\n        }\r\n\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n        if(prevProps.user !== this.props.user) {\r\n            this.setState({\r\n                user: this.props.user,\r\n                name: this.props.name, \r\n                token: this.props.token, \r\n                role: this.props.role, \r\n                accountValidated: this.props.accountValidated\r\n            })\r\n        }\r\n    }\r\n    \r\n    logout = () => {\r\n        this.props.onLogout();\r\n    }\r\n\r\n    handleInputChange = (e) => {\r\n        const value = e.target.value;\r\n        this.setState({ query: value})\r\n    }\r\n\r\n    render() {\r\n        const { name, token, role, accountValidated, user } = this.state;\r\n        let nNotifications = 0;\r\n        if (user && user.recommandations && user.recommandations.length) {\r\n            let unOpened = user.recommandations.filter(rec => {\r\n                return rec.visited === false;\r\n            })\r\n            nNotifications = unOpened.length;\r\n        }\r\n        return (\r\n            <Fragment>\r\n                <nav className={this.props.home ? \"navbar navbar-expand-lg navbar-light bg-light navbar-shadow\": \"navbar navbar-expand-lg navbar-light bg-light navbar-shadow\" }>\r\n                    <div className=\"container\">\r\n                        <button className=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarTogglerDemo03\" aria-controls=\"navbarTogglerDemo03\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n                            <span className=\"navbar-toggler-icon\"></span>\r\n                        </button>\r\n                        <div className=\"search-wrapper\">\r\n                            <form className=\"form-inline d-lg-none my-2 my-lg-0 navbar-brand form-mobile\">\r\n                                <input onChange={(e) => this.handleInputChange(e)} className=\"form-control mr-sm-2\" type=\"text\" placeholder=\"Rechercher...\" aria-label=\"Rechercher...\" />\r\n                                <FontAwesomeIcon icon={faSearch} size={\"2x\"} />\r\n                            </form>\r\n                            {this.state.query.trim().length > 0 ? \r\n                                <SearchResult query={this.state.query} className=\"d-lg-none\" />:null\r\n                            }\r\n                        </div>\r\n                        {\r\n                            token ?\r\n                            <div className=\"dropdown-mobile mt-2\">\r\n                                <a href=\"/recommandations\" className=\"\"  id=\"dropdownMenuButton\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\r\n                                    <FontAwesomeIcon icon={faBookmark} size={\"1x\"} /><sup className=\"ml-1\">{user.recommandations && user.recommandations.length ? user.recommandations.length:0}</sup>\r\n                                </a>\r\n                                    {user.recommandations && user.recommandations.length ? \r\n                                        <div className=\"dropdown-menu\" aria-labelledby=\"dropdownMenuButton\">\r\n                                            <Notifications recommandations={user.recommandations.reverse()} />\r\n                                            <div className=\"notifications-link py-2\">\r\n                                                <a id=\"notifications-link\" className=\"notifications-link pt-3 text-center\" href=\"/user/notifications\">Voir toutes les notifications</a>\r\n                                            </div>\r\n                                        </div> : null\r\n                                    }\r\n                            </div>:null\r\n                                \r\n                        }\r\n                        <Link className=\"navbar-brand\" to=\"/\">\r\n                            <img src={logo} width=\"110\" height=\"100%\" alt=\"Logo\" />\r\n                        </Link>\r\n                        <div className=\"collapse navbar-collapse\" id=\"navbarTogglerDemo03\">\r\n                            <div className=\"ml-auto search-wrapper\">\r\n                                <form className=\"form-inline d-none d-lg-block my-2 my-lg-0 ml-auto mr-4 form-desktop\">\r\n                                    <input onChange={(e) => this.handleInputChange(e)} className=\"form-control mr-sm-2\" type=\"text\" placeholder=\"Rechercher...\" aria-label=\"Rechercher...\" />\r\n                                    <FontAwesomeIcon icon={faSearch} size={\"2x\"} />\r\n                                </form>\r\n                                {this.state.query.trim().length > 0 ? \r\n                                <SearchResult query={this.state.query} className=\"d-none d-lg-block\" />:null\r\n                                }\r\n                            </div>\r\n                            <ul className=\"navbar-nav  mt-2 mt-lg-0\">\r\n                                {\r\n                                    token && role === \"admin\" ?\r\n                                    <li className=\"nav-item\">\r\n                                        <NavLink className=\"nav-link\" to=\"/admin/home\">Admin Dashboard</NavLink>\r\n                                    </li>:null\r\n                                }\r\n                                {\r\n                                    token && role === \"supplier\" && accountValidated ?\r\n                                    <li className=\"nav-item\">\r\n                                        <NavLink className=\"nav-link\" to=\"/dashboard/reservations\">Dashboard</NavLink>\r\n                                    </li>:null\r\n                                }\r\n                                {\r\n                                    token && (role === \"user\" || role === \"supplier\") ?\r\n                                    <li className=\"nav-item\">\r\n                                        <NavLink className=\"nav-link\" to=\"/user/reservations\">Mes Réservations</NavLink>\r\n                                    </li>:null\r\n                                }\r\n                                {\r\n                                    token && (role === \"user\" || role === \"supplier\") ?\r\n                                    <li className=\"nav-item\">\r\n                                        <NavLink className=\"nav-link\" to=\"/user/gallery\">Ma Galerie</NavLink>\r\n                                    </li>:null\r\n                                }\r\n                                {\r\n                                    token && role !== \"admin\"?\r\n                                    <li className=\"nav-item rec-item-desktop\">\r\n                                        <div className=\"dropdown mt-2\">\r\n                                            <a href=\"/recommandations\" className=\"\"  id=\"dropdownMenuButton\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\r\n                                                <FontAwesomeIcon icon={faBookmark} size={\"1x\"} /><sup className=\"ml-1\">{nNotifications}</sup>\r\n                                            </a>\r\n                                            {user.recommandations && user.recommandations.length ?\r\n                                                <div className=\"dropdown-menu\" aria-labelledby=\"dropdownMenuButton\">\r\n                                                    <Notifications recommandations={user.recommandations.reverse()} />\r\n                                                    <div className=\"notifications-link py-2\">\r\n                                                        <a id=\"notifications-link\" className=\"notifications-link pt-3 text-center\" href=\"/user/notifications\">Voir toutes les notifications</a>\r\n                                                    </div>\r\n                                                </div> : null\r\n                                            }\r\n                                        </div>\r\n                                    </li>: null\r\n                                        \r\n                                }\r\n                                {\r\n                                    !token ?\r\n                                        <Fragment>\r\n                                            <li className=\"nav-item\">\r\n                                                <NavLink className=\"nav-link\" to=\"/auth/signup\"><i className=\"fa fa-user\"></i>Créer un compte</NavLink>\r\n                                            </li>\r\n                                            <li className=\"nav-item\">\r\n                                                <NavLink className=\"nav-link\" to=\"/auth/login\"><i className=\"fa fa-user\"></i>Se connecter</NavLink>\r\n                                            </li>\r\n                                        </Fragment>\r\n                                        :null\r\n                                }\r\n                            </ul>\r\n                                {\r\n                                    token ?\r\n                                    <div className=\"dropdown\">\r\n                                        <p className=\"dropbtn\">{name}</p>\r\n                                        <div className=\"dropdown-content\">\r\n                                            <a className=\"nav-link\" href=\"/user/profile\"><i className=\"fa fa-user\"></i>Mon profil</a>\r\n                                            <a href=\"/auth/login\" onClick={this.logout}><i className=\"fa fa-sign-out\"></i>Logout</a>\r\n                                        </div>\r\n                                    </div>: null\r\n                                }\r\n                        </div>\r\n                    </div>\r\n                </nav>\r\n            </Fragment>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        userId: state.auth.email,\r\n        email: state.auth.email,\r\n        name: state.auth.name,\r\n        token: state.auth.token,\r\n        role: state.auth.role,\r\n        accountValidated: state.auth.accountValidated,\r\n        user: state.auth.user\r\n    }\r\n}\r\n\r\nconst mapDispatchToState = dispatch => {\r\n    return {\r\n        onLogout: () => dispatch(logout()),\r\n        onAutoSign: () => dispatch(autoSignIn())\r\n    }\r\n}\r\n\r\n\r\nexport default connect(mapStateToProps, mapDispatchToState)(Header);"],"sourceRoot":""}