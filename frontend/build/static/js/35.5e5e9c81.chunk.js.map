{"version":3,"sources":["ui/utils/DateFormat.js","ui/components/Forms/Upload.js","ui/components/Forms/SuplierForm.js","ui/admin/AdminSuppliers/AdminSuppliers.js","../node_modules/@babel/runtime/helpers/extends.js","../node_modules/@babel/runtime/helpers/objectWithoutPropertiesLoose.js"],"names":["__webpack_require__","d","__webpack_exports__","DateFormat","ForNowDateFormat","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","react_moment__WEBPACK_IMPORTED_MODULE_1__","react_moment__WEBPACK_IMPORTED_MODULE_1___default","props","a","createElement","format","date","fromNow","Upload","_this","Object","C_Users_User_Desktop_Web_projects_Entre_cops_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","this","C_Users_User_Desktop_Web_projects_Entre_cops_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","C_Users_User_Desktop_Web_projects_Entre_cops_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","call","state","url","event","setState","URL","createObjectURL","target","files","setFile","name","_this2","_this$props","label","oldUrl","type","isEditing","accept","react__WEBPACK_IMPORTED_MODULE_5___default","react__WEBPACK_IMPORTED_MODULE_5__","disabled","className","onClick","inputElement","click","style","visibility","onChange","preview","ref","input","src","alt","width","projectName","align","frameBorder","title","href","controls","Component","SupplierForm","email","tel","location","services","profileImage","otherInfos","mapLink","isTyping","formValid","emailValid","nameValid","telValid","locationValid","servicesValid","profileImageValid","otherInfosValid","loading","redirect","error","handleInputChange","e","_this$setState","preventDefault","value","C_Users_User_Desktop_Web_projects_Entre_cops_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__","validateField","fieldName","_this$state","match","length","validateForm","handleSubmit","formData","FormData","_this$state2","append","axios","post","headers","content-type","then","res","closeModal","catch","err","response","data","message","file","_this$setState2","_this$state3","react__WEBPACK_IMPORTED_MODULE_6___default","react__WEBPACK_IMPORTED_MODULE_6__","closeTo","react_router_dom__WEBPACK_IMPORTED_MODULE_9__","to","fontSize","for","id","placeholder","pattern","rows","_Forms_Upload__WEBPACK_IMPORTED_MODULE_10__","_globalComponent_Loader__WEBPACK_IMPORTED_MODULE_11__","color","AdminSupplier","showModal","suppliers","supplier","validating","deleting","loadinSingle","fetcherror","showSupplierCreationModal","closeSupplierModal","getSingleSupplier","get","validateSupplier","patch","_id","map","newSupplier","_objectSpread","accountValidated","deleteSupplier","delete","filter","JSON","stringify","reverse","_this3","key","scope","_utils_DateFormat__WEBPACK_IMPORTED_MODULE_9__","react_bootstrap_Modal__WEBPACK_IMPORTED_MODULE_7___default","show","size","onHide","Header","closeButton","Title","Body","rootUrl","height","Footer","react_bootstrap_Button__WEBPACK_IMPORTED_MODULE_10___default","variant","_components_Forms_SuplierForm__WEBPACK_IMPORTED_MODULE_12__","_extends","module","exports","assign","i","arguments","source","prototype","hasOwnProperty","apply","excluded","sourceKeys","keys","indexOf"],"mappings":"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","file":"static/js/35.5e5e9c81.chunk.js","sourcesContent":["import React from 'react';\r\nimport Moment from 'react-moment';\r\nimport 'moment/locale/fr';\r\n\r\nexport const DateFormat = (props) => (\r\n    <Moment format=\"YYYY-MM-DD HH:mm\">{props.date}</Moment>\r\n)\r\n\r\nexport const ForNowDateFormat = props => (\r\n    <Moment fromNow>{props.date}</Moment>\r\n)","import React, { Component, Fragment } from 'react';\r\n\r\n// Task component - represents a single todo item\r\nexport default class Upload extends Component {\r\n      constructor(props) {\r\n          super(props);\r\n          \r\n          this.state = {\r\n              url: ''\r\n          }\r\n      }\r\n\r\n    preview(event){\r\n      this.setState({url: URL.createObjectURL(event.target.files[0])});\r\n      this.props.setFile(this.props.name, event.target.files[0])\r\n    }\r\n\r\n    render() {\r\n        const {url} = this.state;\r\n        const { label, oldUrl, type, isEditing} = this.props;\r\n        let accept = type === \"image\" ? \"image/png,image/jpeg,image/jpg\" : (type === \"document\" ? \".docx, .pptx, .pdf\" : \"video/*\");\r\n\r\n    return ( \r\n        <Fragment>\r\n            <button disabled={isEditing} type=\"button\" className=\"btn btn-dark mb-2\" onClick={()=>this.inputElement.click()}>{label} </button>\r\n            <input style={{visibility:'hidden'}} accept={accept} onChange={(event) => this.preview(event)} ref={input => this.inputElement = input} type=\"file\" />\r\n            <div className=\"ibox\">\r\n                <div className=\"ibox-content product-box active\">\r\n                    <div className={!url&&!oldUrl?'product-imitation':''}>\r\n                    {!(url||oldUrl)? '':'' }\r\n                     {(url||oldUrl)&&type===\"image\"?<img src={url||oldUrl} accept={accept} alt=\"\" style={{width:'100%'}} />:''}\r\n                    \r\n                    {(url||oldUrl)&&type===\"document\"?\r\n                        <iframe src={url||oldUrl||''} projectName=\"Funnel PDF\" align=\"top\" width=\"100%\" frameBorder=\"0\" title=\"Doc\" target=\"Message\"><p>Your browser doesn't support Iframe. Here is a <a href={url||oldUrl} >link to the document</a> instead.</p> </iframe>:''}\r\n\r\n                    {(url||oldUrl)&&type===\"video\"?<video src={url||oldUrl||''}  width=\"100%\" controls><p>Your browser doesn't support HTML5 video. Here is a <a href={url||oldUrl}>link to the video</a> instead.</p> </video>:''}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </Fragment>\r\n        );\r\n    }\r\n}","import React, { Component, Fragment } from 'react';\r\nimport axios from 'axios';\r\nimport './SupplierForms.scss';\r\nimport {Redirect} from 'react-router-dom';\r\nimport Upload from '../Forms/Upload';\r\nimport Loader from '../../globalComponent/Loader';\r\n\r\nclass SupplierForm extends Component {\r\n\r\n    state = {\r\n        name: '',\r\n        email: '',\r\n        tel: '',\r\n        location: '',\r\n        services: [],\r\n        profileImage: '',\r\n        otherInfos: '',\r\n        mapLink: '',\r\n        isTyping: false,\r\n        formValid: false,\r\n        emailValid: false,\r\n        nameValid: false,\r\n        telValid: false,\r\n        locationValid: false,\r\n        servicesValid: false,\r\n        profileImageValid: false,\r\n        otherInfosValid: false,\r\n        loading: false,\r\n        redirect: false,\r\n        error: '',\r\n    }\r\n\r\n    handleInputChange = (e) => {\r\n        e.preventDefault();\r\n        const name = e.target.name;\r\n        const value = e.target.value;\r\n        this.setState({ [name]: value, error: '' },\r\n            () => { this.validateField(name, value) });\r\n    }\r\n\r\n    validateField = (fieldName, value) => {\r\n        let { emailValid, nameValid, telValid, locationValid, servicesValid, profileImageValid, otherInfosValid} = this.state;\r\n\r\n        switch (fieldName) {\r\n            case 'email':\r\n                emailValid = value.match(/^([\\w.%+-]+)@([\\w-]+\\.)+([\\w]{2,})$/i);\r\n                break;\r\n            case 'name':\r\n                nameValid = value.length > 0;\r\n                break;\r\n            case 'tel':\r\n                telValid = value.length > 0;\r\n                break;\r\n            case 'location':\r\n                locationValid = value.length > 0;\r\n                break;\r\n            case 'services':\r\n                servicesValid = value.length > 0;\r\n                break;\r\n            case 'profileImage':\r\n                profileImageValid = value.length > 0;\r\n                break;\r\n            case 'otherInfos':\r\n                otherInfosValid = value.length > 0;\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n        this.setState({\r\n            emailValid: emailValid,\r\n            nameValid: nameValid,\r\n            telValid: telValid,\r\n            locationValid: locationValid,\r\n            servicesValid: servicesValid,\r\n            profileImageValid: profileImageValid,\r\n            otherInfosValid: otherInfosValid,\r\n        }, this.validateForm);\r\n    }\r\n\r\n    validateForm = () => {\r\n        this.setState({ formValid: \r\n            (this.state.emailValid&&this.state.emailValid.length === 4) && \r\n            this.state.nameValid &&\r\n            this.state.telValid &&\r\n            this.state.locationValid &&\r\n            this.state.servicesValid &&\r\n            this.state.profileImageValid &&\r\n            this.state.otherInfosValid });\r\n    }\r\n\r\n    handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        if(this.state.formValid) {\r\n            const formData = new FormData();\r\n            const { email, name, tel, location, services, profileImage, otherInfos, mapLink } = this.state;\r\n            formData.append('name', name);\r\n            formData.append('email', email);\r\n            formData.append('tel', tel);\r\n            formData.append('location', location);\r\n            formData.append('services', services);\r\n            formData.append('profileImage', profileImage);\r\n            formData.append('otherInfos', otherInfos);\r\n            formData.append('mapLink', mapLink);\r\n            const config = {\r\n                headers: {\r\n                    'content-type': 'multipart/form-data'\r\n                }\r\n            };\r\n            // Save the supplier\r\n            this.setState({loading: true});\r\n            try {\r\n                axios.post('/api/supplier/new', formData, config)\r\n                .then(res => {\r\n                    this.setState({ loading: false, redirect: true });\r\n                    if (this.props.closeModal) {\r\n                        this.props.closeModal();\r\n                    }\r\n                })\r\n                .catch(err => {\r\n                    if (err.response.data.message === 'EMAIL_EXIST') {\r\n                        this.setState({ error: \"Adresse Email déja utilisée\", loading: false });\r\n                    } else {\r\n                        this.setState({ error: \"Erreur de connexion. Veuillez reéssayer\", loading: false });\r\n                    }\r\n                })\r\n            } catch (error) {\r\n                this.setState({ error: \"Erreur de connexion. Veuillez reéssayer\", loading: false });\r\n            }\r\n        } else {\r\n            this.setState({ error: \"Veuillez remplir tous les champs\", isTyping: true});\r\n        }\r\n    }\r\n\r\n    setFile(name,file) {\r\n        this.setState({\r\n            [name]: file,\r\n            profileImageValid: true,\r\n            error: ''\r\n        }, this.validateForm);\r\n    }\r\n\r\n    render() {\r\n        const { isTyping, name, tel, services, location, locationValid, otherInfos,  emailValid, telValid, email, \r\n                nameValid, profileImage, servicesValid, otherInfosValid, profileImageValid, error, loading, mapLink } = this.state;\r\n        return (\r\n            <Fragment>\r\n                {this.state.redirect ? this.props.closeTo ? <Redirect to={this.props.closeTo} />: null : null}\r\n                <form>\r\n                    {error && error.length ? <div className=\"alert alert-danger\" style={{fontSize: \"1.3rem\"}}>{error}</div> : null}\r\n                    <div className=\"form-group\">\r\n                        <label for=\"name\">Nom complet</label>\r\n                        <input type=\"text\" className={isTyping && !nameValid ? \"form-control is-invalid\" : \"form-control\"} value={name} onChange={(e) => this.handleInputChange(e)} name=\"name\" id=\"name\" placeholder=\"Nom complet\" />\r\n                        {isTyping && !nameValid ? <div className=\"invalid-feedback\">Invalide</div> : null}\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <label for=\"email\">Adresse Email</label>\r\n                        <input type=\"email\" className={isTyping && !emailValid ? \"form-control is-invalid\" : \"form-control\"} value={email} onChange={(e) => this.handleInputChange(e)} name=\"email\" id=\"email\" placeholder=\"Adresse Email\" />\r\n                        {isTyping && !emailValid ? <div className=\"invalid-feedback\">Email invalide</div> : null}\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <label for=\"tel\">Numero de Téléphone</label>\r\n                        <input type=\"tel\" className={isTyping && !telValid ? \"form-control is-invalid\" : \"form-control\"} value={tel} onChange={(e) => this.handleInputChange(e)} name=\"tel\" id=\"tel\" pattern=\"[0-9]{9}\" placeholder=\"Numero de Téléphone\" />\r\n                        {isTyping && !telValid ? <div className=\"invalid-feedback\">Invalide</div> : null}\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <label for=\"name\">Localisation</label>\r\n                        <input type=\"text\" className={isTyping && !locationValid ? \"form-control is-invalid\" : \"form-control\"} value={location} onChange={(e) => this.handleInputChange(e)} name=\"location\" id=\"location\" placeholder=\"Localisation\" />\r\n                        {isTyping && !locationValid ? <div className=\"invalid-feedback\">Invalide</div> : null}\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <label for=\"name\">Lien Google Map</label>\r\n                        <input type=\"text\" className=\"form-control\" value={mapLink} onChange={(e) => this.handleInputChange(e)} name=\"mapLink\" id=\"mapLink\" placeholder=\"Lien Google Map\" />\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <label for=\"name\">Vos services (Séparez par des virgules: \",\")</label>\r\n                        <textarea type=\"text\" className={isTyping && !servicesValid ? \"form-control is-invalid\" : \"form-control\"} value={services} onChange={(e) => this.handleInputChange(e)} name=\"services\" rows={3} placeholder=\"Services\"></textarea>\r\n                        {isTyping && !servicesValid ? <div className=\"invalid-feedback\">Invalide</div> : null}\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <label for=\"name\">Autres informations</label>\r\n                        <textarea type=\"text\" className={isTyping && !otherInfosValid ? \"form-control is-invalid\" : \"form-control\"} value={otherInfos} onChange={(e) => this.handleInputChange(e)} name=\"otherInfos\" rows={3} placeholder=\"Autres informations\"></textarea>\r\n                        {isTyping && !otherInfosValid ? <div className=\"invalid-feedback\">Invalide</div> : null}\r\n                    </div>\r\n                    <div className=\"row align-items-center justify-content-center py-3\">\r\n                        <div className=\"col-sm-8 col-md-8 col-lg-6 d-flex flex-column justify-content-center align-items-center\">\r\n                            <Upload type=\"image\" oldUrl={profileImage} setFile={(name, file) => this.setFile(name, file)} name=\"profileImage\" label={\"Image de Profil\"} />\r\n                            {isTyping && !profileImageValid ? <p className=\"alert alert-danger\">Image Requise</p>:null }\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"d-flex justify-content-end\">\r\n                        <button disabled={loading} type=\"submit\" onClick={(e) => this.handleSubmit(e)} className=\"button fourth mt-4 mb-5\">{loading ? <Loader color=\"white\" /> : \"Valider\"}</button>\r\n                    </div>\r\n                </form>\r\n            </Fragment>\r\n        );\r\n    }\r\n}\r\n\r\nexport default SupplierForm;","import React, { Component, Fragment } from 'react';\r\nimport Modal from 'react-bootstrap/Modal';\r\nimport axios from 'axios';\r\nimport {DateFormat} from '../../utils/DateFormat'\r\nimport Button from 'react-bootstrap/Button';\r\nimport Loader from '../../globalComponent/Loader';\r\nimport SupplierForm from '../../components/Forms/SuplierForm';\r\nimport {rootUrl} from '../../../configs/config';\r\n\r\nclass AdminSupplier extends Component {\r\n\r\n    state = {\r\n        showModal: false,\r\n        suppliers: [],\r\n        loading: true,\r\n        supplier: null,\r\n        validating: false,\r\n        deleting: false,\r\n        loadinSingle: false,\r\n        error: '',\r\n        fetcherror: '',\r\n        showSupplierCreationModal: false\r\n    }\r\n\r\n    closeSupplierModal = () => {\r\n        this.setState({showSupplierCreationModal: false})\r\n    }\r\n\r\n    componentDidMount() {\r\n        axios.get('/api/supplier/all')\r\n        .then(res => {\r\n            this.setState({\r\n                loading: false,\r\n                suppliers: res.data.suppliers.reverse(),\r\n                'fetcherror': ''\r\n            })\r\n        })\r\n        .catch(err => {\r\n            this.setState({\r\n                loading: false,\r\n                'fetcherror': \"Erreur survenue, veuillez actualiser\"\r\n            })\r\n        })\r\n    }\r\n\r\n    getSingleSupplier = (id) => {\r\n        this.setState({ loadinSingle: true, showModal: true })\r\n        axios.get('/api/supplier/'+id)\r\n        .then(res => {\r\n            this.setState({\r\n                loadinSingle: false,\r\n                supplier: res.data.supplier,\r\n                'error': ''\r\n            })\r\n        })\r\n        .catch(err => {\r\n            this.setState({\r\n                loadinSingle: false,\r\n                'error': 'Erreur survenue, veuillez actualiser'\r\n            })\r\n        })\r\n    }\r\n\r\n    validateSupplier = (supplier) => {\r\n        this.setState({ validating: true, supplier: supplier })\r\n        axios.patch('/api/supplier/validate/' +supplier._id)\r\n        .then(res => {\r\n            let suppliers = this.state.suppliers.map(supplier => {\r\n                let newSupplier = { ...supplier};\r\n                if (supplier._id === this.state.supplier._id) {\r\n                    newSupplier.accountValidated = true;\r\n                }\r\n                return newSupplier;\r\n            })\r\n            this.setState({\r\n                suppliers: suppliers,\r\n                validating: false,\r\n                showModal: false,\r\n                'error': ''\r\n            })\r\n            // Send Email to Supplier with link to set his password\r\n            const subject = \"Validation de votre compte fournisseur\";\r\n            axios.post('/api/email/sendmail/' +supplier.email+ '/' +subject+ '/' +supplier.name+ '/' +supplier._id+ '/validatesupplier');\r\n        })\r\n        .catch(err => {\r\n            this.setState({\r\n                validating: false,\r\n                'error': 'Erreur survenue, veuillez actualiser'\r\n            })\r\n        })\r\n    }\r\n\r\n    deleteSupplier = (supplier) => {\r\n        this.setState({ deleting: true, supplier: supplier })\r\n        axios.delete('/api/user/'+supplier._id)\r\n        .then(res => {\r\n            let suppliers = this.state.suppliers.filter(supplier => {\r\n                return JSON.stringify(supplier) !== JSON.stringify(this.state.supplier)\r\n            })\r\n            this.setState({\r\n                deleting: false,\r\n                showModal: false,\r\n                suppliers: suppliers\r\n            })\r\n        })\r\n        .catch(err => {\r\n            this.setState({\r\n                deleting: false,\r\n                error: err\r\n            })\r\n        })\r\n    }\r\n\r\n    render() {\r\n        const { loading, suppliers, supplier, validating, deleting, error, fetcherror, loadinSingle } = this.state;\r\n        return (\r\n            <Fragment>\r\n                <div className=\"container\">\r\n                    <div className=\"row mt-5\">\r\n                        <div className=\"col-sm-12 d-flex justify-content-between align-items-center mb-5\">\r\n                            <h3 className=\"title\">FOURNISSEURS</h3>\r\n                            <button onClick={() => this.setState({ showSupplierCreationModal: true })} className=\"button\">Ajouter un Fournisseur</button>\r\n                        </div>\r\n                        <div className=\"col-sm-12\">\r\n                            {fetcherror && fetcherror.length ? <div className=\"alert alert-danger\">{fetcherror}</div> : null}\r\n                            {\r\n                                loading ? <div className=\"p-4 text-center\"><Loader /></div> :\r\n                                    suppliers&&suppliers.length ?\r\n                                    <table className=\"table table-bordered\">\r\n                                        <thead className=\"thead-inverse thead-dark\">\r\n                                            <tr>\r\n                                            <th>#</th>\r\n                                            <th>Nom</th>\r\n                                            <th>Email</th>\r\n                                            <th>Tel</th>\r\n                                            <th>Création</th>\r\n                                            <th>Etat</th>\r\n                                            <th>Actions</th>\r\n                                            </tr>\r\n                                        </thead>\r\n                                        <tbody>\r\n                                        {\r\n                                            suppliers.map((supplier, id) => (\r\n                                                <tr key={supplier._id}>\r\n                                                    <th scope=\"row\">{id+1}</th>\r\n                                                    <td>{supplier.name}</td>\r\n                                                    <td>{supplier.email}</td>\r\n                                                    <td>{supplier.tel}</td>\r\n                                                    <td className=\"date\"><DateFormat date={supplier.date} /></td>\r\n                                                    <td className=\"date\">{supplier.accountValidated ? <span style={{ color: \"green\" }}>Compte Validé</span> : <b style={{ color: \"#DC3545\" }}>En attente</b>}</td>\r\n                                                    <td className=\"actions\">\r\n                                                        <button className=\"btn btn-outline-dark btn-md ml-3\" onClick={() => this.getSingleSupplier(supplier._id)}>Afficher</button>\r\n                                                    </td>\r\n                                                </tr>\r\n                                            ))\r\n                                        }\r\n                                            \r\n                                        </tbody>\r\n                                    </table>: null\r\n                                }\r\n                                \r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                 {/* Validate/delete supplier */}\r\n                 <Modal show={this.state.showModal} size=\"lg\" onHide={() => this.setState({showModal: false})} >\r\n                    <Modal.Header closeButton>\r\n                        <Modal.Title>Détails sur le Fournisseur</Modal.Title>\r\n                    </Modal.Header>\r\n                    <Modal.Body>\r\n                        <div className=\"container\">\r\n                            <div className=\"row\">\r\n                                <div className=\"col-sm-12 pl-4 pr-4 mt-4 mb-3\">\r\n                                    {error && error.length ? <div className=\"alert alert-danger\">{error}</div>: null }\r\n                                    {\r\n                                        loadinSingle ? <div className=\"text-center\"><Loader /></div> :\r\n                                            supplier ? \r\n                                            <table className=\"table table-bordered\">\r\n                                                <tbody className=\"thead-inverse\">\r\n                                                    <tr>\r\n                                                        <th><h4><strong>Nom</strong></h4></th>\r\n                                                        <th><h4>{supplier.name}</h4></th>\r\n                                                    </tr>\r\n                                                    <tr>\r\n                                                        <th><h4><strong>Email</strong></h4></th>\r\n                                                            <th><h4>{supplier.email}</h4></th>\r\n                                                    </tr>\r\n                                                    <tr>\r\n                                                        <th><h4><strong>Tel</strong></h4></th>\r\n                                                            <th><h4>{supplier.tel}</h4></th>\r\n                                                    </tr>\r\n                                                    <tr>\r\n                                                        <th><h4><strong>Localisation</strong></h4></th>\r\n                                                            <th><h4>{supplier.location}</h4></th>\r\n                                                    </tr>\r\n                                                    <tr>\r\n                                                        <th><h4><strong>Lien google Map</strong></h4></th>\r\n                                                            <th><h4>{supplier.mapLink ? supplier.mapLink:null}</h4></th>\r\n                                                    </tr>\r\n                                                    <tr>\r\n                                                        <th><h4><strong>Services</strong></h4></th>\r\n                                                            <th><h4>{supplier.services}</h4></th>\r\n                                                    </tr>\r\n                                                    <tr>\r\n                                                        <th><h4><strong>Autres Infos</strong></h4></th>\r\n                                                            <th><h4>{supplier.otherInfos}</h4></th>\r\n                                                    </tr>\r\n                                                    <tr>\r\n                                                        <th><h4><strong>Profile</strong></h4></th>\r\n                                                            <th>\r\n                                                            <img src={rootUrl+\"/\"+supplier.profileImage} alt=\"\" width=\"250\" height=\"250\"  className=\"img-fluid\" />\r\n                                                        </th>\r\n                                                    </tr>\r\n                                                </tbody>\r\n                                                </table> : null\r\n                                    }\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </Modal.Body>\r\n                    <Modal.Footer>\r\n                        <div className=\"py-3\">\r\n                            {supplier&&!supplier.accountValidated ?\r\n                                <Button variant=\"dark\" className=\"mr-3\" onClick={() => this.validateSupplier(supplier)}>\r\n                                    {validating ? <Loader color=\"white\" /> :\"Valider ce compte\"}\r\n                                </Button>:null\r\n                            }\r\n                            <Button variant=\"danger\" className=\"mr-3\" onClick={() => this.deleteSupplier(supplier)}>\r\n                                {deleting ? <Loader color=\"white\" /> : \"Supprimer\"}\r\n                            </Button>\r\n                            <Button variant=\"default\" onClick={() => this.setState({showModal: false, error: ''})}>\r\n                                Fermer\r\n                            </Button>\r\n                        </div>\r\n                    </Modal.Footer>\r\n                </Modal>\r\n\r\n                {/* Add a new Supplier Popup */}\r\n                <Modal show={this.state.showSupplierCreationModal} size=\"lg\" onHide={() => this.setState({ showSupplierCreationModal: false })} >\r\n                    <Modal.Header closeButton>\r\n                        <Modal.Title>Nouveau Fournisseur</Modal.Title>\r\n                    </Modal.Header>\r\n                    <Modal.Body>\r\n                        <div className=\"container supplier-form\">\r\n                            <SupplierForm closeModal={this.closeSupplierModal} />\r\n                        </div>\r\n                    </Modal.Body>\r\n                    <Modal.Footer>\r\n                        <div className=\"py-3\">\r\n                            <Button variant=\"outline\" onClick={() => this.setState({ showSupplierCreationModal: false })}>\r\n                                Fermer\r\n                            </Button>\r\n                        </div>\r\n                    </Modal.Footer>\r\n                </Modal>\r\n            </Fragment>\r\n        );\r\n    }\r\n}\r\n\r\nexport default AdminSupplier;","function _extends() {\n  module.exports = _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nmodule.exports = _extends;","function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nmodule.exports = _objectWithoutPropertiesLoose;"],"sourceRoot":""}