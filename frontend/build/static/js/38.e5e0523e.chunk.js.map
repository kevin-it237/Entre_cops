{"version":3,"sources":["ui/admin/Admin.js","assets/images/logo.png"],"names":["AdminCoupons","lazy","Promise","all","__webpack_require__","e","then","bind","AdminHome","AdminAnnonces","AdminServices","AdminSuppliers","AdminUsers","AdminSlider","AdminEmails","Loader","resolve","Admin","state","showModal","nSuppliers","nUsers","loadingSuppliers","loadingUsers","error","redirect","logout","_this","props","onLogout","setState","_this2","this","axios","get","res","data","n","catch","err","user","_this$state","react__WEBPACK_IMPORTED_MODULE_5___default","a","createElement","react__WEBPACK_IMPORTED_MODULE_5__","role","react_router_dom__WEBPACK_IMPORTED_MODULE_6__","to","className","href","src","logo","width","height","alt","react_router_dom__WEBPACK_IMPORTED_MODULE_7__","onClick","_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_9__","icon","faUserCircle","size","faUserFriends","fallback","exact","path","component","Component","connect","auth","dispatch","module","exports","p"],"mappings":"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","file":"static/js/38.e5e0523e.chunk.js","sourcesContent":["import React, { Component, Fragment, Suspense, lazy  } from 'react';\r\nimport { NavLink, Route, Redirect } from 'react-router-dom';\r\nimport {connect} from 'react-redux';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faUserCircle, faUserFriends } from '@fortawesome/free-solid-svg-icons';\r\nimport { logout } from '../../store/actions'\r\nimport axios from 'axios';\r\nimport './Admin.scss';\r\nimport logo from '../../assets/images/logo.png';\r\n\r\n/* import AdminCoupons from './AdminCoupons/AdminCoupons';\r\nimport AdminHome from './Home/Home';\r\nimport AdminAnnonces from './AdminAnnonces/AdminAnnonces';\r\nimport AdminServices from './AdminServices/AdminServices';\r\nimport AdminSuppliers from './AdminSuppliers/AdminSuppliers';\r\nimport AdminUsers from './AdminUsers/AdminUsers';\r\nimport AdminSlider from './AdminSlider/AdminSlider';\r\nimport AdminEmails from './AdminEMails/AdminEMails';\r\nimport Loader from '../globalComponent/Loader'; */\r\n\r\nconst AdminCoupons = lazy(() => import('./AdminCoupons/AdminCoupons'))\r\nconst AdminHome = lazy(() => import('./Home/Home'))\r\nconst AdminAnnonces = lazy(() => import('./AdminAnnonces/AdminAnnonces'))\r\nconst AdminServices = lazy(() => import('./AdminServices/AdminServices'))\r\nconst AdminSuppliers = lazy(() => import('./AdminSuppliers/AdminSuppliers'))\r\nconst AdminUsers = lazy(() => import('./AdminUsers/AdminUsers'))\r\nconst AdminSlider = lazy(() => import('./AdminSlider/AdminSlider'))\r\nconst AdminEmails = lazy(() => import('./AdminEMails/AdminEMails'))\r\nconst Loader = lazy(() => import('../globalComponent/Loader'))\r\n\r\nclass Admin extends Component {\r\n\r\n    state = {\r\n        showModal: false,\r\n        nSuppliers: null,\r\n        nUsers: null,\r\n        loadingSuppliers: true,\r\n        loadingUsers: true,\r\n        error: '',\r\n        redirect: false\r\n    }\r\n\r\n    componentDidMount() {\r\n        //Get number of supplier\r\n        axios.get('/api/supplier/count/all')\r\n            .then(res => {\r\n                this.setState({ nSuppliers: res.data.n, loadingSuppliers: false, error: '' })\r\n            })\r\n            .catch(err => {\r\n                this.setState({ error: \"Une érreur s'est produite. Veuillez reéssayer.\", loadingSuppliers: false })\r\n            })\r\n\r\n        //Get number of users\r\n        axios.get('/api/user/count/all')\r\n            .then(res => {\r\n                this.setState({ nUsers: res.data.n, loadingUsers: false, error: '' })\r\n            })\r\n            .catch(err => {\r\n                this.setState({ error: \"Une érreur s'est produite. Veuillez reéssayer.\", loadingUsers: false })\r\n            })\r\n    }\r\n\r\n    logout = () => {\r\n        this.props.onLogout();\r\n        this.setState({ redirect: true })\r\n    }\r\n\r\n    render() {\r\n        const {user} = this.props;\r\n        const {nSuppliers, nUsers, loadingSuppliers, loadingUsers} = this.state;\r\n        return (\r\n            <Fragment>\r\n                {user&&user.role !== \"admin\" ? <Redirect to=\"/\" />:null }\r\n                {this.state.redirect ? <Redirect to=\"/\" /> : null}\r\n                <section className=\"admin\">\r\n                    <div className=\"main-container\">\r\n                        <div className=\"left-content d-flex flex-column\">\r\n                            <div className=\"logoWrapper\">\r\n                                <a href=\"/\"><img src={logo} width=\"110\" height=\"50\" alt=\"LOGO\" /></a>\r\n                            </div>\r\n                            <div className=\"menu mt-5\">\r\n                                <NavLink className=\"navbar-brand\" to=\"/admin/home\">\r\n                                    <h3 className=\"d-inline align-middle\">ACCUEIL</h3>\r\n                                </NavLink> \r\n                                <NavLink className=\"navbar-brand\" to=\"/admin/annonces\">\r\n                                    <h3 className=\"d-inline align-middle\">ACTUALITES</h3>\r\n                                </NavLink> \r\n                                <NavLink className=\"navbar-brand\" to=\"/admin/services\">\r\n                                    <h3 className=\"d-inline align-middle\">SERVICES</h3>\r\n                                </NavLink> \r\n                                <NavLink className=\"navbar-brand\" to=\"/admin/coupons\">\r\n                                    <h3 className=\"d-inline align-middle\">COUPONS</h3>\r\n                                </NavLink> \r\n                                <NavLink className=\"navbar-brand\" to=\"/admin/emails\">\r\n                                    <h3 className=\"d-inline align-middle\">ENVOI DES EMAILS</h3>\r\n                                </NavLink>\r\n                                <NavLink className=\"navbar-brand\" to=\"/admin/suppliers\">\r\n                                    <h3 className=\"d-inline align-middle\">FOURNISSEURS</h3>\r\n                                </NavLink> \r\n                                <NavLink className=\"navbar-brand\" to=\"/admin/users\">\r\n                                    <h3 className=\"d-inline align-middle\">UTILISATEURS</h3>\r\n                                </NavLink>\r\n                                <NavLink className=\"navbar-brand\" to=\"/admin/slider\">\r\n                                    <h3 className=\"d-inline align-middle\">BANNIERE</h3>\r\n                                </NavLink>\r\n                                <a href=\"#logout\" onClick={this.logout} className=\"mt-auto btn btn-outline-light btn-lg logout\">Logout</a> \r\n                            </div>\r\n                        </div>\r\n                        <div className=\"right-content\">\r\n                            <div className=\"container\">\r\n                                <div className=\"row justify-content-end\">\r\n                                    <div className=\"col d-flex justify-content-end mb-3\">\r\n                                        <div className=\"stat-item\">\r\n                                            <FontAwesomeIcon icon={faUserCircle} size={\"2x\"} />\r\n                                            {loadingSuppliers ? <Loader /> : <h4>{nSuppliers} Fournisseurs</h4>}\r\n                                        </div>\r\n                                        <div className=\"stat-item\">\r\n                                            <FontAwesomeIcon icon={faUserFriends} size={\"2x\"} />\r\n                                            {loadingUsers ? <Loader /> : <h4>{nUsers} Utilisateurs</h4>}\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                                <hr/>\r\n                            </div>\r\n                            {/* Admin Component */}\r\n                            <Suspense fallback={<div className=\"p-4 d-flex justify-content-center\"><Loader /></div>}>\r\n                                <Route exact path=\"/admin/home\" component={AdminHome} />\r\n                                <Route exact path=\"/admin/coupons\" component={AdminCoupons} />\r\n                                <Route exact path=\"/admin/annonces\" component={AdminAnnonces} />\r\n                                <Route exact path=\"/admin/services\" component={AdminServices} />\r\n                                <Route exact path=\"/admin/suppliers\" component={AdminSuppliers} />\r\n                                <Route exact path=\"/admin/users\" component={AdminUsers} />\r\n                                <Route exact path=\"/admin/slider\" component={AdminSlider} />\r\n                                <Route exact path=\"/admin/emails\" component={AdminEmails} />\r\n                            </Suspense>\r\n                        </div>\r\n                    </div>\r\n                </section>\r\n            </Fragment>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapPropsToState = state => {\r\n    return {\r\n        user: state.auth.user\r\n    }\r\n}\r\n\r\nconst mapDispatchToState = dispatch => {\r\n    return {\r\n        onLogout: () => dispatch(logout())\r\n    }\r\n}\r\n\r\nexport default connect(mapPropsToState, mapDispatchToState)(Admin);","module.exports = __webpack_public_path__ + \"static/media/logo.919201fe.png\";"],"sourceRoot":""}